(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{459:function(t,e,r){"use strict";r.r(e);r(18),r(28),r(8),r(60),r(46),r(15),r(105),r(30);var n=r(2),o=r(9),c=r(11),l=r(21),d=r(22),f=r(10),m=r(4),v=r(67),h=r(132),y=r(129);function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var x=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},k=function(t){Object(l.a)(d,t);var e,r=w(d);function d(){var t;return Object(o.a)(this,d),(t=r.apply(this,arguments)).tokenId="",t.tokenEmail="",t.tokenTimestamp="",t.tokenProvided=!0,t.form={name:"",password:"",passwordConfirmation:""},t.errorMessage="",t}return Object(c.a)(d,[{key:"created",value:function(){var t=this.$route.query.token;if(t){var e=atob(t).split("/");3===e.length?(this.tokenId=e[0],this.tokenEmail=e[1],this.tokenTimestamp=e[2]):this.tokenProvided=!1}else this.tokenProvided=!1}},{key:"submit",value:(e=Object(n.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.errorMessage="",t.next=4,this.$axios.post("/api/v1/email/verify",{id:this.tokenId,name:this.form.name,email:this.tokenEmail,password:this.form.password,timestamp:this.tokenTimestamp,password_confirmation:this.form.passwordConfirmation});case 4:this.$auth.loggedIn&&this.$auth.logout(),this.$router.push("/sign-in?target=dashboard&verified=1"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),e={401:"Sorry, that verification link has expired. Please ask your referrer to invite you again.",403:"Sorry, your account has already been verified.",422:"Please ensure the passwords match, are at least 8 characters long, and contain at least one uppercase letter, one lowercase letter, and a number."},this.errorMessage=t.t0.response.status in e?e[t.t0.response.status]:"Sorry, an unkown error occured during registration. Please try agian later";case 12:case"end":return t.stop()}}),t,this,[[0,8]])}))),function(){return e.apply(this,arguments)})}]),d}(Object(v.mixins)(h.a,y.a)),_=k=x([v.Component],k),C=r(29),component=Object(C.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-center"},[r("div",{staticClass:"inline-flex mx-auto flex-col items-center bg-white rounded-lg py-8 px-6 sm:py-10 sm:px-8 lg:py-16 lg:px-20"},[t.tokenProvided?[t._m(0),t._v(" "),r("div",{staticClass:"space-y-6 w-full md:w-96"},[r("input",{attrs:{type:"hidden",name:"remember",value:"true"}}),t._v(" "),r("div",{staticClass:"rounded-md shadow-sm"},[r("div",{staticClass:"mb-6"},[r("label",{staticClass:"block text-left text-sm font-medium text-gray-700",attrs:{for:"name"}},[t._v("Name")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",attrs:{type:"text",name:"name",autocomplete:"given-name",required:""},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"mb-6"},[r("label",{staticClass:"block text-left text-sm font-medium text-gray-700",attrs:{for:"password"}},[t._v("Password")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",attrs:{name:"password",type:"password",autocomplete:"current-password",placeholder:"Password",required:""},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"mb-6"},[r("label",{staticClass:"block text-left text-sm font-medium text-gray-700",attrs:{for:"password_confirmation"}},[t._v("Confirm Password")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.passwordConfirmation,expression:"form.passwordConfirmation"}],staticClass:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",attrs:{name:"password_confirmation",type:"password",autocomplete:"current-password",required:"",placeholder:"Password"},domProps:{value:t.form.passwordConfirmation},on:{input:function(e){e.target.composing||t.$set(t.form,"passwordConfirmation",e.target.value)}}})])]),t._v(" "),r("div",[r("button",{staticClass:"gradient-button is-dark w-full h-10",attrs:{type:"submit"},on:{click:t.submit}},[t._v("\n            Register\n          ")])]),t._v(" "),t.errorMessage?r("p",{staticClass:"text-red-400 w-full text-center text-sm"},[t._v("\n          "+t._s(t.errorMessage)+"\n        ")]):t._e()])]:[r("h2",{staticClass:"mt-6 text-center text-4xl md:text-5xl font-extrabold text-primary"},[t._v("\n        Invalid Token.\n      ")]),t._v(" "),r("p",{staticClass:"mt-2 text-center text-sm text-secondary"},[t._v("\n        Sorry, that verification token was not valid. If this issue persists, please ask your\n        referrer to invite you again.\n      ")])]],2)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h2",{staticClass:"text-3xl md:text-4xl font-extrabold text-primary font-serif"},[this._v("\n          Complete Registration\n        ")]),this._v(" "),e("div",{staticClass:"mx-4"},[e("p",{staticClass:"mt-2 text-sm text-left text-secondary"},[this._v("\n            To complete the setup of your account, please set a name and password.\n          ")])])])}],!1,null,null,null);e.default=component.exports},539:function(t,e,r){"use strict";r.r(e);r(28),r(8),r(60),r(15);var n=r(9),o=r(21),c=r(22),l=r(10),d=r(4),f=r(23),m=r(459);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(l.a)(t);if(e){var o=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var h=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},y=function(t){Object(o.a)(r,t);var e=v(r);function r(){return Object(n.a)(this,r),e.apply(this,arguments)}return r}(f.Vue),w=y=h([Object(f.Component)({layout:"landing",components:{EmailVerification:m.default}})],y),x=r(29),component=Object(x.a)(w,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("email-verification")],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{EmailVerification:r(459).default})}}]);