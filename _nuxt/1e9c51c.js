(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{267:function(e,t,n){var content=n(272);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(57).default)("66a2a288",content,!0,{sourceMap:!1})},268:function(e,t,n){"use strict";n.r(t);n(28),n(8),n(60),n(15);var r=n(9),o=n(11),c=n(21),l=n(22),f=n(10),d=n(4),v=n(23);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var m=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},y=function(e){Object(c.a)(n,e);var t=h(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"propagateClick",value:function(){this.$emit("click")}}]),n}(v.Vue);m([Object(v.Prop)({type:Boolean,required:!1,default:!1})],y.prototype,"loading",void 0),m([Object(v.Prop)({type:Boolean,required:!1,default:!1})],y.prototype,"compact",void 0);var x=y=m([v.Component],y),_=(n(271),n(29)),component=Object(_.a)(x,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"gradient-button",class:{"is-compact":e.compact},on:{click:e.propagateClick}},[n("svg",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 38 38",height:"20px"}},[n("defs",[n("linearGradient",{attrs:{id:"a",x1:"8.042%",y1:"0%",x2:"65.682%",y2:"23.865%"}},[n("stop",{attrs:{"stop-color":"#fff","stop-opacity":"0",offset:"0%"}}),e._v(" "),n("stop",{attrs:{"stop-color":"#fff","stop-opacity":".631",offset:"63.146%"}}),e._v(" "),n("stop",{attrs:{"stop-color":"#fff",offset:"100%"}})],1)],1),e._v(" "),n("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[n("g",{attrs:{transform:"translate(1 1)"}},[n("path",{attrs:{id:"Oval-2",d:"M36 18c0-9.94-8.06-18-18-18",stroke:"url(#a)","stroke-width":"2"}},[n("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"}})],1),e._v(" "),n("circle",{attrs:{fill:"#fff",cx:"36",cy:"18",r:"1"}},[n("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"}})],1)])])]),e._v(" "),n("span",{class:{transparent:e.loading}},[e._t("default")],2)])}),[],!1,null,"f6563bec",null);t.default=component.exports},270:function(e,t,n){"use strict";n.r(t);n(28),n(8),n(60),n(15);var r=n(9),o=n(21),c=n(22),l=n(10),f=n(4),d=n(23);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var h=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},m=function(e){Object(o.a)(n,e);var t=v(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(d.Vue);h([Object(d.Prop)({type:Boolean,required:!0})],m.prototype,"loading",void 0);var y=m=h([d.Component],m),x=n(29),component=Object(x.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.loading?n("div",{staticClass:"mt-10 flex items-center justify-center"},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"38",height:"38",viewBox:"0 0 38 38"}},[n("defs",[n("linearGradient",{attrs:{id:"a",x1:"8.042%",y1:"0%",x2:"65.682%",y2:"23.865%"}},[n("stop",{attrs:{"stop-color":"#000","stop-opacity":"0",offset:"0%"}}),e._v(" "),n("stop",{attrs:{"stop-color":"#000","stop-opacity":".631",offset:"63.146%"}}),e._v(" "),n("stop",{attrs:{"stop-color":"#000",offset:"100%"}})],1)],1),e._v(" "),n("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[n("g",{attrs:{transform:"translate(1 1)"}},[n("path",{attrs:{id:"Oval-2",d:"M36 18c0-9.94-8.06-18-18-18",stroke:"url(#a)","stroke-width":"2"}},[n("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"}})],1),e._v(" "),n("circle",{attrs:{fill:"#000",cx:"36",cy:"18",r:"1"}},[n("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"}})],1)])])])]):e._e(),e._v(" "),e.loading?e._e():e._t("default")],2)}),[],!1,null,null,null);t.default=component.exports},271:function(e,t,n){"use strict";var r=n(267);n.n(r).a},272:function(e,t,n){(t=n(56)(!1)).push([e.i,".transparent[data-v-f6563bec]{color:transparent}svg[data-v-f6563bec]{position:absolute}",""]),e.exports=t},276:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(104);var o=n(131);function c(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},277:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.FREE_TEXT="free_text",e.MULTIPLE_CHOICE="multiple_choice"}(r||(r={}))},283:function(e,t,n){var r=n(84),o=n(13),c=n(19),l=n(24).f,f=n(102),d=n(303),v=f("meta"),h=0,m=Object.isExtensible||function(){return!0},y=function(e){l(e,v,{value:{objectID:"O"+ ++h,weakData:{}}})},meta=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!c(e,v)){if(!m(e))return"F";if(!t)return"E";y(e)}return e[v].objectID},getWeakData:function(e,t){if(!c(e,v)){if(!m(e))return!0;if(!t)return!1;y(e)}return e[v].weakData},onFreeze:function(e){return d&&meta.REQUIRED&&m(e)&&!c(e,v)&&y(e),e}};r[v]=!0},287:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},288:function(e,t,n){"use strict";var r=n(289),o=n(290);e.exports=r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),o)},289:function(e,t,n){"use strict";var r=n(3),o=n(7),c=n(101),l=n(32),f=n(283),d=n(190),v=n(188),h=n(13),m=n(6),y=n(134),x=n(82),_=n(192);e.exports=function(e,t,n){var w=-1!==e.indexOf("Map"),C=-1!==e.indexOf("Weak"),k=w?"set":"add",R=o[e],E=R&&R.prototype,j=R,O={},I=function(e){var t=E[e];l(E,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(C&&!h(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return C&&!h(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(C&&!h(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(c(e,"function"!=typeof R||!(C||E.forEach&&!m((function(){(new R).entries().next()})))))j=n.getConstructor(t,e,w,k),f.REQUIRED=!0;else if(c(e,!0)){var T=new j,S=T[k](C?{}:-0,1)!=T,M=m((function(){T.has(1)})),N=y((function(e){new R(e)})),P=!C&&m((function(){for(var e=new R,t=5;t--;)e[k](t,t);return!e.has(-0)}));N||((j=t((function(t,n){v(t,j,e);var r=_(new R,t,j);return null!=n&&d(n,r[k],r,w),r}))).prototype=E,E.constructor=j),(M||P)&&(I("delete"),I("has"),w&&I("get")),(P||S)&&I(k),C&&E.clear&&delete E.clear}return O[e]=j,r({global:!0,forced:j!=R},O),x(j,e),C||n.setStrong(j,e,w),j}},290:function(e,t,n){"use strict";var r=n(24).f,o=n(81),c=n(191),l=n(83),f=n(188),d=n(190),v=n(135),h=n(136),m=n(16),y=n(283).fastKey,x=n(62),_=x.set,w=x.getterFor;e.exports={getConstructor:function(e,t,n,v){var h=e((function(e,r){f(e,h,t),_(e,{type:t,index:o(null),first:void 0,last:void 0,size:0}),m||(e.size=0),null!=r&&d(r,e[v],e,n)})),x=w(t),C=function(e,t,n){var r,o,c=x(e),l=k(e,t);return l?l.value=n:(c.last=l={index:o=y(t,!0),key:t,value:n,previous:r=c.last,next:void 0,removed:!1},c.first||(c.first=l),r&&(r.next=l),m?c.size++:e.size++,"F"!==o&&(c.index[o]=l)),e},k=function(e,t){var n,r=x(e),o=y(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return c(h.prototype,{clear:function(){for(var e=x(this),data=e.index,t=e.first;t;)t.removed=!0,t.previous&&(t.previous=t.previous.next=void 0),delete data[t.index],t=t.next;e.first=e.last=void 0,m?e.size=0:this.size=0},delete:function(e){var t=x(this),n=k(this,e);if(n){var r=n.next,o=n.previous;delete t.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),t.first==n&&(t.first=r),t.last==n&&(t.last=o),m?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=x(this),r=l(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!k(this,e)}}),c(h.prototype,n?{get:function(e){var t=k(this,e);return t&&t.value},set:function(e,t){return C(this,0===e?0:e,t)}}:{add:function(e){return C(this,e=0===e?0:e,e)}}),m&&r(h.prototype,"size",{get:function(){return x(this).size}}),h},setStrong:function(e,t,n){var r=t+" Iterator",o=w(t),c=w(r);v(e,t,(function(e,t){_(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=c(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),h(t)}}},303:function(e,t,n){var r=n(6);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},521:function(e,t,n){"use strict";var r=n(3),o=n(522),c=n(37),l=n(25),f=n(69),d=n(137);r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=c(this),n=l(t.length),r=d(t,0);return r.length=o(r,t,t,n,0,void 0===e?1:f(e)),r}})},522:function(e,t,n){"use strict";var r=n(87),o=n(25),c=n(83),l=function(e,t,source,n,f,d,v,h){for(var element,m=f,y=0,x=!!v&&c(v,h,3);y<n;){if(y in source){if(element=x?x(source[y],y,t):source[y],d>0&&r(element))m=l(e,t,element,o(element.length),m,d-1)-1;else{if(m>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[m]=element}m++}y++}return m};e.exports=l},523:function(e,t,n){n(103)("flat")},524:function(e,t,n){"use strict";var r=n(16),o=n(7),c=n(101),l=n(32),f=n(19),d=n(49),v=n(192),h=n(85),m=n(6),y=n(81),x=n(86).f,_=n(48).f,w=n(24).f,C=n(525).trim,k=o.Number,R=k.prototype,E="Number"==d(y(R)),j=function(e){var t,n,r,o,c,l,f,code,d=h(e,!1);if("string"==typeof d&&d.length>2)if(43===(t=(d=C(d)).charCodeAt(0))||45===t){if(88===(n=d.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(d.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+d}for(l=(c=d.slice(2)).length,f=0;f<l;f++)if((code=c.charCodeAt(f))<48||code>o)return NaN;return parseInt(c,r)}return+d};if(c("Number",!k(" 0o1")||!k("0b1")||k("+0x1"))){for(var O,I=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof I&&(E?m((function(){R.valueOf.call(n)})):"Number"!=d(n))?v(new k(j(t)),n,I):j(t)},T=r?x(k):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;T.length>S;S++)f(k,O=T[S])&&!f(I,O)&&w(I,O,_(k,O));I.prototype=R,R.constructor=I,l(o,"Number",I)}},525:function(e,t,n){var r=n(26),o="["+n(526)+"]",c=RegExp("^"+o+o+"*"),l=RegExp(o+o+"*$"),f=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(c,"")),2&e&&(n=n.replace(l,"")),n}};e.exports={start:f(1),end:f(2),trim:f(3)}},526:function(e,t){e.exports="\t\n\v\f\r ¬†·öÄ‚ÄÄ‚ÄÅ‚ÄÇ‚ÄÉ‚ÄÑ‚ÄÖ‚ÄÜ‚Äá‚Äà‚Äâ‚Ää‚ÄØ‚Åü„ÄÄ\u2028\u2029\ufeff"},527:function(e,t,n){n(3)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},546:function(e,t,n){"use strict";n.r(t);n(31),n(42),n(43),n(78),n(39),n(189),n(521),n(54),n(44),n(130),n(63),n(36),n(80),n(523),n(18),n(288),n(524),n(527),n(28),n(8),n(60),n(15),n(40),n(55),n(41);var r=n(276),o=(n(30),n(2)),c=n(9),l=n(11),f=n(21),d=n(22),v=n(10),h=n(4),m=n(67),y=n(279),x=n.n(y),_=n(129),w=n(132),C=n(277),k=n(268),R=n(270),E=n(14);function j(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(v.a)(e);if(t){var o=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var T=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(h.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},S=function(e){Object(f.a)(m,e);var t,n,d,v=I(m);function m(){var e;return Object(c.a)(this,m),(e=v.apply(this,arguments)).saving=!1,e.loading=!0,e.submitted=!1,e.submitting=!1,e.showSavedMessage=!1,e.exceededSessionLimit=!1,e.event=null,e.session=null,e.responses=new Map,e.persistedResponses=[],e.QuestionType=C.a,e}return Object(l.a)(m,[{key:"created",value:(d=Object(o.a)(regeneratorRuntime.mark((function e(){var t,n,r,o,c,l,f,d,v,h=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoggedIn||this.$router.push("/"),e.prev=1,e.next=4,this.$axios.get("".concat("/api/v1","/events/code/").concat(this.$route.params.code));case 4:return l=e.sent,this.event=l.data.data,e.next=8,this.$axios.post("".concat("/api/v1","/events/").concat(null===(t=this.event)||void 0===t?void 0:t.id,"/sessions"));case 8:return f=e.sent,this.session=f.data.data,e.next=12,this.$axios.get("".concat("/api/v1","/sessions/").concat(null===(n=this.session)||void 0===n?void 0:n.id,"/responses"));case 12:d=e.sent,v=new Map,null===(r=this.event)||void 0===r||r.questions.forEach((function(e){return v.set(e.id,[])})),d.data.data.forEach((function(e){return v.get(e.question_id).push({value:e.value,answer_id:e.answer_id,question_id:e.question_id})})),this.$echo.join("attendee-presence.".concat(null===(o=this.event)||void 0===o?void 0:o.id)),this.persistedResponses=d.data.data,this.responses=v,this.loading=!1,window.onbeforeunload=function(e){if(h.unsavedResponses){var t="You currently have unsaved responses";return e.returnValue=t,e.preventDefault(),t}},e.next=26;break;case 23:e.prev=23,e.t0=e.catch(1),422===(null===(c=null===e.t0||void 0===e.t0?void 0:e.t0.response)||void 0===c?void 0:c.status)?(this.$auth.reset(),this.exceededSessionLimit=!0,this.loading=!1):E.a.flashError("Sorry, an unknown error occurred while joining the event, please try again later.");case 26:case"end":return e.stop()}}),e,this,[[1,23]])}))),function(){return d.apply(this,arguments)})},{key:"save",value:(n=Object(o.a)(regeneratorRuntime.mark((function e(t){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.unsavedResponses){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.saving=t,o=Object(r.a)(this.responses.values()).flat(),e.next=7,this.$axios.patch("".concat("/api/v1","/sessions/").concat(null===(n=this.session)||void 0===n?void 0:n.id,"/responses"),{responses:o.map((function(e){return x.a.omitBy(e,x.a.isNil)}))});case 7:this.persistedResponses=o,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),E.a.flashError("Sorry, an unknown error occurred while saving your responses, please try again later.");case 13:return e.prev=13,this.saving=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[2,10,13,16]])}))),function(e){return n.apply(this,arguments)})},{key:"submit",value:(t=Object(o.a)(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.submitting=!0,e.next=4,this.save(!1);case 4:return e.next=6,this.$axios.post("".concat("/api/v1","/sessions/").concat(null===(t=this.session)||void 0===t?void 0:t.id,"/submit"),{mood:(null===(n=this.session)||void 0===n?void 0:n.mood)||50});case 6:this.$auth.reset(),this.$echo.leave("attendee-presence.".concat(null===(r=this.event)||void 0===r?void 0:r.id)),this.submitted=!0,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),this.submitting=!1,E.a.flashError("Sorry, an unknown error occurred while submitting your responses, please try again later.");case 15:case"end":return e.stop()}}),e,this,[[0,11]])}))),function(){return t.apply(this,arguments)})},{key:"getAnswerType",value:function(e){return e.min_responses&&e.max_responses&&1===e.min_responses&&1===e.max_responses?"radio":"checkbox"}},{key:"getMultipleChoiceHint",value:function(e){return e&&(e.min_responses||e.max_responses)?e.min_responses&&!e.max_responses?"Please select at least ".concat(e.min_responses," option").concat(e.min_responses>1?"s":"","."):!e.min_responses&&e.max_responses?"Please select at most ".concat(e.max_responses," option").concat(e.max_responses>1?"s":"","."):e.min_responses===e.max_responses?"Please select ".concat(e.min_responses," option").concat(e.min_responses&&e.min_responses>1?"s":"","."):"Please select between ".concat(e.min_responses," and ").concat(e.max_responses," options."):null}},{key:"getFreeTextResponse",value:function(e){var t=this.responses.get(e);return t&&t.length?t[0].value:""}},{key:"setFreeTextResponse",value:function(e,t){var n=new Map(this.responses);n.set(e,[{question_id:e,value:t.target.value}]),this.responses=n}},{key:"getMultipleChoiceRadioAnswer",value:function(e){var t=this.responses.get(e);return t&&t.length?t[0].answer_id:null}},{key:"getMultipleChoiceCheckboxSelected",value:function(e,t){var n=this.responses.get(e);return!!n&&n.some((function(e){return e.answer_id===t}))}},{key:"setMultipleChoiceRadio",value:function(e,t){var n=new Map(this.responses);n.set(e,[{question_id:e,answer_id:t}]),this.responses=n}},{key:"setMultipleChoiceCheckbox",value:function(e,t,n){var r,o,c=new Map(this.responses);c.set(e,(null===(r=this.responses.get(e))||void 0===r?void 0:r.filter((function(n){return!(n.question_id===e&&n.answer_id===t)})))||[]),n.target.checked&&(null===(o=c.get(e))||void 0===o||o.push({question_id:e,answer_id:t})),this.responses=c}},{key:"questions",get:function(){var e;return(null===(e=this.event)||void 0===e?void 0:e.questions)||[]}},{key:"allQuestionsCompleted",get:function(){var e,t;if(this.submitting)return!0;var n,r=j((null===(e=this.event)||void 0===e?void 0:e.questions)||[]);try{for(r.s();!(n=r.n()).done;){var o=n.value,c=this.responses.get(o.id);if(!(o.type!==C.a.FREE_TEXT||c&&(null===(t=c[0])||void 0===t?void 0:t.value)))return!1;if(o.type===C.a.MULTIPLE_CHOICE&&(!c||c.length<(o.min_responses||0)||c.length>(o.max_responses||Number.MAX_SAFE_INTEGER)))return!1}}catch(e){r.e(e)}finally{r.f()}return!0}},{key:"unsavedResponses",get:function(){var e=this,t=Object(r.a)(this.responses.values()).flat();if(this.persistedResponses.length!==t.length||this.saving)return!0;var n,o=j(t);try{var c=function(){var t=n.value,r=e.questions.find((function(e){return e.id===t.question_id}));return r?e.persistedResponses.some((function(e){return e.question_id===r.id&&(r.type===C.a.FREE_TEXT?e.value===t.value:r.type===C.a.MULTIPLE_CHOICE?e.answer_id===t.answer_id:void 0)}))?void 0:{v:!0}:"continue"};for(o.s();!(n=o.n()).done;){var l=c();if("continue"!==l&&"object"===Object(h.a)(l))return l.v}}catch(e){o.e(e)}finally{o.f()}return!1}}]),m}(Object(m.mixins)(_.a,w.a)),M=S=T([Object(m.Component)({layout:"default",components:{Loader:R.default,ProgressButton:k.default}})],S),N=n(29),component=Object(N.a)(M,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bg-gray-100 pb-8 px-6 overflow-auto",class:{"h-screen":e.submitted}},[n("div",{staticClass:"bg-primary text-white -mx-6 mb-4 pt-16 pb-32"},[e.event?n("div",{staticClass:"mx-auto max-w-6xl px-4 sm:px-8 xl:px-0 text-center"},[n("p",{staticClass:"text-4xl font-bold font-serif"},[e._v(e._s(e.event.name))]),e._v(" "),n("p",{staticClass:"font-serif"},[e._v(e._s(e.event.description))])]):e._e()]),e._v(" "),n("div",{staticClass:"container mx-auto max-w-6xl px-8 py-8 md:px-12 md:py-10 lg:px-16 lg:py-12 bg-white -mt-28 rounded-xl shadow-md"},[n("loader",{attrs:{loading:e.loading}},[n("transition",{attrs:{name:"fade"}},[e.loading||e.submitted||e.exceededSessionLimit?e._e():n("div",[n("p",{staticClass:"text-xl md:text-2xl font-bold font-serif"},[e._v("Questions")]),e._v(" "),n("p",{staticClass:"mb-8"},[e._v("Please provide a responses to all of the questions below.")]),e._v(" "),n("div",{staticClass:"mb-12"},e._l(e.questions,(function(t,r){return n("div",{key:t.id,staticClass:"mb-8"},[n("div",{staticClass:"flex mb-4"},[n("p",{staticClass:"font-bold mr-2"},[e._v(e._s(r+1)+")")]),e._v(" "),n("div",{staticClass:"w-full"},[n("p",{staticClass:"font-bold",class:{"mb-4":t.type===e.QuestionType.FREE_TEXT,"mb-1":t.type===e.QuestionType.MULTIPLE_CHOICE}},[e._v("\n                    "+e._s(t.prompt)+"\n                  ")]),e._v(" "),t.type===e.QuestionType.FREE_TEXT?[n("textarea",{staticClass:"w-full rounded-md shadow-sm sm:text-sm border-gray-300",attrs:{rows:"3"},domProps:{value:e.getFreeTextResponse(t.id)},on:{input:function(n){for(var i=arguments.length,r=Array(i);i--;)r[i]=arguments[i];return e.setFreeTextResponse.apply(void 0,[t.id].concat(r))}}})]:[e.getMultipleChoiceHint(t)?n("p",{staticClass:"text-sm italic mb-2"},[e._v("\n                      "+e._s(e.getMultipleChoiceHint(t))+"\n                    ")]):e._e(),e._v(" "),e._l(t.answers,(function(o){return n("div",{key:o.id},[n("label",["radio"===e.getAnswerType(t)?[n("input",{staticClass:"form-radio mr-2",attrs:{id:o.id,name:""+r,type:"radio"},domProps:{value:o.id,checked:e.getMultipleChoiceRadioAnswer(t.id)===o.id},on:{change:function(n){return e.setMultipleChoiceRadio(t.id,o.id)}}})]:[n("input",{staticClass:"mr-2",attrs:{id:o.id,name:""+r,type:"checkbox"},domProps:{checked:e.getMultipleChoiceCheckboxSelected(t.id,o.id)},on:{change:function(n){for(var i=arguments.length,r=Array(i);i--;)r[i]=arguments[i];return e.setMultipleChoiceCheckbox.apply(void 0,[t.id,o.id].concat(r))}}})],e._v(" "),n("span",[e._v(e._s(o.value))])],2)])}))]],2)])])})),0),e._v(" "),n("hr",{staticClass:"block -mx-8 md:-mx-12 lg:-mx-16 mb-12"}),e._v(" "),n("div",{staticClass:"mb-12"},[n("p",{staticClass:"text-xl md:text-2xl font-bold font-serif"},[e._v("Mood")]),e._v(" "),n("p",{staticClass:"mb-8"},[e._v("\n              To provide context for your feedback, please adjust the slider to represent how you\n              are currently feeling.\n            ")]),e._v(" "),n("div",{},[n("div",{staticClass:"flex mb-2 text-3xl sm:text-5xl justify-between"},[n("p",{staticClass:"cursor-pointer",on:{click:function(t){e.session.mood=0}}},[e._v("üò†")]),e._v(" "),n("p",{staticClass:"cursor-pointer",on:{click:function(t){e.session.mood=25}}},[e._v("üôÅ")]),e._v(" "),n("p",{staticClass:"cursor-pointer",on:{click:function(t){e.session.mood=50}}},[e._v("üòê")]),e._v(" "),n("p",{staticClass:"cursor-pointer",on:{click:function(t){e.session.mood=75}}},[e._v("üôÇ")]),e._v(" "),n("p",{staticClass:"cursor-pointer",on:{click:function(t){e.session.mood=100}}},[e._v("üòÄ")])]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.session.mood,expression:"session.mood"}],staticClass:"w-full mb-2",attrs:{type:"range",min:"1",max:"100",value:"50"},domProps:{value:e.session.mood},on:{__r:function(t){return e.$set(e.session,"mood",t.target.value)}}}),e._v(" "),n("div",{staticClass:"flex justify-between text-xs sm:text-base"},[n("p",[e._v("Very Dissatisfied")]),e._v(" "),n("p",{staticClass:"-ml-5"},[e._v("Neutral")]),e._v(" "),n("p",{staticClass:"text-right md:text-left"},[e._v("Very Satisfied")])])])]),e._v(" "),n("hr",{staticClass:"block -mx-8 md:-mx-12 lg:-mx-16 mb-12"}),e._v(" "),n("div",[n("p",{staticClass:"text-xl md:text-2xl font-bold font-serif"},[e._v("Submit")]),e._v(" "),n("div",{staticClass:"mb-6"},[n("p",{staticClass:"mb-2 md:mb-0"},[e._v("\n                If you have finished the form, please submit your feedback to send it to the host.\n              ")]),e._v(" "),n("p",[e._v("\n                If you are not ready to submit your feedback yet, please save your responses\n                before leaving the page.\n              ")])]),e._v(" "),n("div",{staticClass:"flex flex-col md:flex-row"},[n("progress-button",{staticClass:"px-4 py-2 mr-4 is-dark w-full md:w-min mb-2 md:mb-0",class:{"bg-lightgrey text-primary no-gradient disabled":!e.allQuestionsCompleted},attrs:{loading:e.submitting,disabled:!e.allQuestionsCompleted},on:{click:e.submit}},[e._v("\n                Submit Feedback\n              ")]),e._v(" "),n("progress-button",{staticClass:"px-4 py-2 w-full md:w-min",class:{"bg-lightgrey text-primary no-gradient  disabled":!e.unsavedResponses},attrs:{loading:e.saving,disabled:!e.unsavedResponses},on:{click:e.save}},[e._v("\n                Save Responses\n              ")])],1)])])]),e._v(" "),n("transition",{attrs:{name:"delayed-fade"}},[!e.loading&&e.submitted?n("div",[n("div",{staticClass:"flex flex-col sm:flex-row items-center"},[n("div",{staticClass:"sm:mr-4 md:mr-8 lg:mr-12 mb-8 sm:mb-0"},[n("svg",{staticClass:"w-32 lg:w-40 mx-auto",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"green"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}})])]),e._v(" "),n("div",[n("p",{staticClass:"text-3xl mb-1 font-serif"},[e._v("Responses Submitted")]),e._v(" "),n("p",{staticClass:"mb-2"},[e._v("\n                Thank you for taking the time to provide feedback, your responses have been\n                recorded and sent to the event organiser. "),n("br"),e._v("\n                You can now safely close your browser window.\n              ")]),e._v(" "),n("p",{staticClass:"mb-4"},[e._v("\n                If you wish to fill out another survey, please click the button below to return to\n                the homepage.\n              ")]),e._v(" "),n("router-link",{attrs:{to:"/"}},[n("button",{staticClass:"px-4 py-2 mr-4 rounded-md cursor-pointer bg-lightgrey text-black cursor-pointer"},[e._v("\n                  Return to homepage\n                ")])])],1)])]):e._e()]),e._v(" "),n("transition",{attrs:{name:"delayed-fade"}},[e.exceededSessionLimit?n("div",[n("p",{staticClass:"text-xl font-bold font-serif"},[e._v("Sorry!")]),e._v(" "),n("p",{staticClass:"mb-4"},[e._v("\n            You have exceeded the limit for the maximum number of submissions for this event.\n            Please click the button below to return to the homepage.\n          ")]),e._v(" "),n("router-link",{attrs:{to:"/"}},[n("button",{staticClass:"px-4 py-2 mr-4 rounded-md cursor-pointer bg-lightgrey text-black cursor-pointer"},[e._v("\n              Return to homepage\n            ")])])],1):e._e()])],1)],1)])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{ProgressButton:n(268).default,Loader:n(270).default})}}]);