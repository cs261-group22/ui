/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[18],Array(265).concat([function(e,t,n){(function(e){e.exports=function(){"use strict";var t,r;function o(){return t.apply(null,arguments)}function l(input){return input instanceof Array||"[object Array]"===Object.prototype.toString.call(input)}function c(input){return null!=input&&"[object Object]"===Object.prototype.toString.call(input)}function d(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function f(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(d(e,t))return!1;return!0}function h(input){return void 0===input}function m(input){return"number"==typeof input||"[object Number]"===Object.prototype.toString.call(input)}function _(input){return input instanceof Date||"[object Date]"===Object.prototype.toString.call(input)}function map(e,t){var i,n=[];for(i=0;i<e.length;++i)n.push(t(e[i],i));return n}function y(a,b){for(var i in b)d(b,i)&&(a[i]=b[i]);return d(b,"toString")&&(a.toString=b.toString),d(b,"valueOf")&&(a.valueOf=b.valueOf),a}function v(input,e,t,n){return Ct(input,e,t,n,!0).utc()}function x(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function M(e){if(null==e._isValid){var t=x(e),n=r.call(t.parsedDateParts,(function(i){return null!=i})),o=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(o=o&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return o;e._isValid=o}return e._isValid}function w(e){var t=v(NaN);return null!=e?y(x(t),e):x(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){var i,t=Object(this),n=t.length>>>0;for(i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var k=o.momentProperties=[],L=!1;function D(e,t){var i,n,r;if(h(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),h(t._i)||(e._i=t._i),h(t._f)||(e._f=t._f),h(t._l)||(e._l=t._l),h(t._strict)||(e._strict=t._strict),h(t._tzm)||(e._tzm=t._tzm),h(t._isUTC)||(e._isUTC=t._isUTC),h(t._offset)||(e._offset=t._offset),h(t._pf)||(e._pf=x(t)),h(t._locale)||(e._locale=t._locale),k.length>0)for(i=0;i<k.length;i++)h(r=t[n=k[i]])||(e[n]=r);return e}function O(e){D(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===L&&(L=!0,o.updateOffset(this),L=!1)}function j(e){return e instanceof O||null!=e&&null!=e._isAMomentObject}function S(e){!1===o.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function Y(e,t){var n=!0;return y((function(){if(null!=o.deprecationHandler&&o.deprecationHandler(null,e),n){var r,i,l,c=[];for(i=0;i<arguments.length;i++){if(r="","object"==typeof arguments[i]){for(l in r+="\n["+i+"] ",arguments[0])d(arguments[0],l)&&(r+=l+": "+arguments[0][l]+", ");r=r.slice(0,-2)}else r=arguments[i];c.push(r)}S(e+"\nArguments: "+Array.prototype.slice.call(c).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var T,A={};function E(e,t){null!=o.deprecationHandler&&o.deprecationHandler(e,t),A[e]||(S(t),A[e]=!0)}function C(input){return"undefined"!=typeof Function&&input instanceof Function||"[object Function]"===Object.prototype.toString.call(input)}function F(e,t){var n,r=y({},e);for(n in t)d(t,n)&&(c(e[n])&&c(t[n])?(r[n]={},y(r[n],e[n]),y(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)d(e,n)&&!d(t,n)&&c(e[n])&&(r[n]=y({},r[n]));return r}function P(e){null!=e&&this.set(e)}function N(e,t,n){var r=""+Math.abs(e),o=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}o.suppressDeprecationWarnings=!1,o.deprecationHandler=null,T=Object.keys?Object.keys:function(e){var i,t=[];for(i in e)d(e,i)&&t.push(i);return t};var z=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,H=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,R={},I={};function B(e,t,n,r){var o=r;"string"==typeof r&&(o=function(){return this[r]()}),e&&(I[e]=o),t&&(I[t[0]]=function(){return N(o.apply(this,arguments),t[1],t[2])}),n&&(I[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function $(e,t){return e.isValid()?(t=W(t,e.localeData()),R[t]=R[t]||function(e){var i,t,input,n=e.match(z);for(i=0,t=n.length;i<t;i++)I[n[i]]?n[i]=I[n[i]]:n[i]=(input=n[i]).match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"");return function(r){var i,output="";for(i=0;i<t;i++)output+=C(n[i])?n[i].call(r,e):n[i];return output}}(t),R[t](e)):e.localeData().invalidDate()}function W(e,t){var i=5;function n(input){return t.longDateFormat(input)||input}for(H.lastIndex=0;i>=0&&H.test(e);)e=e.replace(H,n),H.lastIndex=0,i-=1;return e}var U={};function V(e,t){var n=e.toLowerCase();U[n]=U[n+"s"]=U[t]=e}function J(e){return"string"==typeof e?U[e]||U[e.toLowerCase()]:void 0}function G(e){var t,n,r={};for(n in e)d(e,n)&&(t=J(n))&&(r[t]=e[n]);return r}var X={};function Z(e,t){X[e]=t}function K(e){return e%4==0&&e%100!=0||e%400==0}function Q(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ee(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=Q(t)),n}function te(e,t){return function(n){return null!=n?(re(this,e,n),o.updateOffset(this,t),this):ne(this,e)}}function ne(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function re(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&K(e.year())&&1===e.month()&&29===e.date()?(n=ee(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Se(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var ie,ae=/\d/,oe=/\d\d/,se=/\d{3}/,le=/\d{4}/,ue=/[+-]?\d{6}/,ce=/\d\d?/,de=/\d\d\d\d?/,fe=/\d\d\d\d\d\d?/,he=/\d{1,3}/,me=/\d{1,4}/,pe=/[+-]?\d{1,6}/,ge=/\d+/,_e=/[+-]?\d+/,ye=/Z|[+-]\d\d:?\d\d/gi,be=/Z|[+-]\d\d(?::?\d\d)?/gi,ve=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function xe(e,t,n){ie[e]=C(t)?t:function(e,r){return e&&n?n:t}}function Me(e,t){return d(ie,e)?ie[e](t._strict,t._locale):new RegExp(we(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,o){return t||n||r||o}))))}function we(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}ie={};var ke,Le={};function De(e,t){var i,n=t;for("string"==typeof e&&(e=[e]),m(t)&&(n=function(input,e){e[t]=ee(input)}),i=0;i<e.length;i++)Le[e[i]]=n}function Oe(e,t){De(e,(function(input,e,n,r){n._w=n._w||{},t(input,n._w,n,r)}))}function je(e,input,t){null!=input&&d(Le,e)&&Le[e](input,t._a,t,e)}function Se(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,r=(t%(n=12)+n)%n;return e+=(t-r)/12,1===r?K(e)?29:28:31-r%7%2}ke=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var i;for(i=0;i<this.length;++i)if(this[i]===e)return i;return-1},B("M",["MM",2],"Mo",(function(){return this.month()+1})),B("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),B("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),V("month","M"),Z("month",8),xe("M",ce),xe("MM",ce,oe),xe("MMM",(function(e,t){return t.monthsShortRegex(e)})),xe("MMMM",(function(e,t){return t.monthsRegex(e)})),De(["M","MM"],(function(input,e){e[1]=ee(input)-1})),De(["MMM","MMMM"],(function(input,e,t,n){var r=t._locale.monthsParse(input,n,t._strict);null!=r?e[1]=r:x(t).invalidMonth=input}));var Ye="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Te="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ae=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ee=ve,Ce=ve;function Fe(e,t,n){var i,r,o,l=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=v([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=ke.call(this._shortMonthsParse,l))?r:null:-1!==(r=ke.call(this._longMonthsParse,l))?r:null:"MMM"===t?-1!==(r=ke.call(this._shortMonthsParse,l))||-1!==(r=ke.call(this._longMonthsParse,l))?r:null:-1!==(r=ke.call(this._longMonthsParse,l))||-1!==(r=ke.call(this._shortMonthsParse,l))?r:null}function Pe(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=ee(t);else if(!m(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Se(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Ne(e){return null!=e?(Pe(this,e),o.updateOffset(this,!0),this):ne(this,"Month")}function ze(){function e(a,b){return b.length-a.length}var i,t,n=[],r=[],o=[];for(i=0;i<12;i++)t=v([2e3,i]),n.push(this.monthsShort(t,"")),r.push(this.months(t,"")),o.push(this.months(t,"")),o.push(this.monthsShort(t,""));for(n.sort(e),r.sort(e),o.sort(e),i=0;i<12;i++)n[i]=we(n[i]),r[i]=we(r[i]);for(i=0;i<24;i++)o[i]=we(o[i]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function He(e){return K(e)?366:365}B("Y",0,0,(function(){var e=this.year();return e<=9999?N(e,4):"+"+e})),B(0,["YY",2],0,(function(){return this.year()%100})),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),V("year","y"),Z("year",1),xe("Y",_e),xe("YY",ce,oe),xe("YYYY",me,le),xe("YYYYY",pe,ue),xe("YYYYYY",pe,ue),De(["YYYYY","YYYYYY"],0),De("YYYY",(function(input,e){e[0]=2===input.length?o.parseTwoDigitYear(input):ee(input)})),De("YY",(function(input,e){e[0]=o.parseTwoDigitYear(input)})),De("Y",(function(input,e){e[0]=parseInt(input,10)})),o.parseTwoDigitYear=function(input){return ee(input)+(ee(input)>68?1900:2e3)};var Re=te("FullYear",!0);function Ie(e,t,n,r,o,s,l){var c;return e<100&&e>=0?(c=new Date(e+400,t,n,r,o,s,l),isFinite(c.getFullYear())&&c.setFullYear(e)):c=new Date(e,t,n,r,o,s,l),c}function Be(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function $e(e,t,n){var r=7+t-n;return-(7+Be(e,0,r).getUTCDay()-t)%7+r-1}function We(e,t,n,r,o){var l,c,d=1+7*(t-1)+(7+n-r)%7+$e(e,r,o);return d<=0?c=He(l=e-1)+d:d>He(e)?(l=e+1,c=d-He(e)):(l=e,c=d),{year:l,dayOfYear:c}}function Ue(e,t,n){var r,o,l=$e(e.year(),t,n),c=Math.floor((e.dayOfYear()-l-1)/7)+1;return c<1?r=c+qe(o=e.year()-1,t,n):c>qe(e.year(),t,n)?(r=c-qe(e.year(),t,n),o=e.year()+1):(o=e.year(),r=c),{week:r,year:o}}function qe(e,t,n){var r=$e(e,t,n),o=$e(e+1,t,n);return(He(e)-r+o)/7}function Ve(e,t){return e.slice(t,7).concat(e.slice(0,t))}B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),V("week","w"),V("isoWeek","W"),Z("week",5),Z("isoWeek",5),xe("w",ce),xe("ww",ce,oe),xe("W",ce),xe("WW",ce,oe),Oe(["w","ww","W","WW"],(function(input,e,t,n){e[n.substr(0,1)]=ee(input)})),B("d",0,"do","day"),B("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),B("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),B("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),V("day","d"),V("weekday","e"),V("isoWeekday","E"),Z("day",11),Z("weekday",11),Z("isoWeekday",11),xe("d",ce),xe("e",ce),xe("E",ce),xe("dd",(function(e,t){return t.weekdaysMinRegex(e)})),xe("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),xe("dddd",(function(e,t){return t.weekdaysRegex(e)})),Oe(["dd","ddd","dddd"],(function(input,e,t,n){var r=t._locale.weekdaysParse(input,n,t._strict);null!=r?e.d=r:x(t).invalidWeekday=input})),Oe(["d","e","E"],(function(input,e,t,n){e[n]=ee(input)}));var Je="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ge="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Xe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ze=ve,Ke=ve,Qe=ve;function et(e,t,n){var i,r,o,l=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=v([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=ke.call(this._weekdaysParse,l))?r:null:"ddd"===t?-1!==(r=ke.call(this._shortWeekdaysParse,l))?r:null:-1!==(r=ke.call(this._minWeekdaysParse,l))?r:null:"dddd"===t?-1!==(r=ke.call(this._weekdaysParse,l))||-1!==(r=ke.call(this._shortWeekdaysParse,l))||-1!==(r=ke.call(this._minWeekdaysParse,l))?r:null:"ddd"===t?-1!==(r=ke.call(this._shortWeekdaysParse,l))||-1!==(r=ke.call(this._weekdaysParse,l))||-1!==(r=ke.call(this._minWeekdaysParse,l))?r:null:-1!==(r=ke.call(this._minWeekdaysParse,l))||-1!==(r=ke.call(this._weekdaysParse,l))||-1!==(r=ke.call(this._shortWeekdaysParse,l))?r:null}function tt(){function e(a,b){return b.length-a.length}var i,t,n,r,o,l=[],c=[],d=[],f=[];for(i=0;i<7;i++)t=v([2e3,1]).day(i),n=we(this.weekdaysMin(t,"")),r=we(this.weekdaysShort(t,"")),o=we(this.weekdays(t,"")),l.push(n),c.push(r),d.push(o),f.push(n),f.push(r),f.push(o);l.sort(e),c.sort(e),d.sort(e),f.sort(e),this._weekdaysRegex=new RegExp("^("+f.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+l.join("|")+")","i")}function nt(){return this.hours()%12||12}function it(e,t){B(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function at(e,t){return t._meridiemParse}B("H",["HH",2],0,"hour"),B("h",["hh",2],0,nt),B("k",["kk",2],0,(function(){return this.hours()||24})),B("hmm",0,0,(function(){return""+nt.apply(this)+N(this.minutes(),2)})),B("hmmss",0,0,(function(){return""+nt.apply(this)+N(this.minutes(),2)+N(this.seconds(),2)})),B("Hmm",0,0,(function(){return""+this.hours()+N(this.minutes(),2)})),B("Hmmss",0,0,(function(){return""+this.hours()+N(this.minutes(),2)+N(this.seconds(),2)})),it("a",!0),it("A",!1),V("hour","h"),Z("hour",13),xe("a",at),xe("A",at),xe("H",ce),xe("h",ce),xe("k",ce),xe("HH",ce,oe),xe("hh",ce,oe),xe("kk",ce,oe),xe("hmm",de),xe("hmmss",fe),xe("Hmm",de),xe("Hmmss",fe),De(["H","HH"],3),De(["k","kk"],(function(input,e,t){var n=ee(input);e[3]=24===n?0:n})),De(["a","A"],(function(input,e,t){t._isPm=t._locale.isPM(input),t._meridiem=input})),De(["h","hh"],(function(input,e,t){e[3]=ee(input),x(t).bigHour=!0})),De("hmm",(function(input,e,t){var n=input.length-2;e[3]=ee(input.substr(0,n)),e[4]=ee(input.substr(n)),x(t).bigHour=!0})),De("hmmss",(function(input,e,t){var n=input.length-4,r=input.length-2;e[3]=ee(input.substr(0,n)),e[4]=ee(input.substr(n,2)),e[5]=ee(input.substr(r)),x(t).bigHour=!0})),De("Hmm",(function(input,e,t){var n=input.length-2;e[3]=ee(input.substr(0,n)),e[4]=ee(input.substr(n))})),De("Hmmss",(function(input,e,t){var n=input.length-4,r=input.length-2;e[3]=ee(input.substr(0,n)),e[4]=ee(input.substr(n,2)),e[5]=ee(input.substr(r))}));var ot,st=te("Hours",!0),lt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ye,monthsShort:Te,week:{dow:0,doy:6},weekdays:Je,weekdaysMin:Xe,weekdaysShort:Ge,meridiemParse:/[ap]\.?m?\.?/i},ut={},ct={};function ft(e,t){var i,n=Math.min(e.length,t.length);for(i=0;i<n;i+=1)if(e[i]!==t[i])return i;return n}function ht(e){return e?e.toLowerCase().replace("_","-"):e}function mt(t){var r=null;if(void 0===ut[t]&&void 0!==e&&e&&e.exports)try{r=ot._abbr,n(483)("./"+t),pt(r)}catch(e){ut[t]=null}return ut[t]}function pt(e,t){var data;return e&&((data=h(t)?_t(e):gt(e,t))?ot=data:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ot._abbr}function gt(e,t){if(null!==t){var n,r=lt;if(t.abbr=e,null!=ut[e])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ut[e]._config;else if(null!=t.parentLocale)if(null!=ut[t.parentLocale])r=ut[t.parentLocale]._config;else{if(null==(n=mt(t.parentLocale)))return ct[t.parentLocale]||(ct[t.parentLocale]=[]),ct[t.parentLocale].push({name:e,config:t}),null;r=n._config}return ut[e]=new P(F(r,t)),ct[e]&&ct[e].forEach((function(e){gt(e.name,e.config)})),pt(e),ut[e]}return delete ut[e],null}function _t(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ot;if(!l(e)){if(t=mt(e))return t;e=[e]}return function(e){for(var t,n,r,o,i=0;i<e.length;){for(t=(o=ht(e[i]).split("-")).length,n=(n=ht(e[i+1]))?n.split("-"):null;t>0;){if(r=mt(o.slice(0,t).join("-")))return r;if(n&&n.length>=t&&ft(o,n)>=t-1)break;t--}i++}return ot}(e)}function yt(e){var t,a=e._a;return a&&-2===x(e).overflow&&(t=a[1]<0||a[1]>11?1:a[2]<1||a[2]>Se(a[0],a[1])?2:a[3]<0||a[3]>24||24===a[3]&&(0!==a[4]||0!==a[5]||0!==a[6])?3:a[4]<0||a[4]>59?4:a[5]<0||a[5]>59?5:a[6]<0||a[6]>999?6:-1,x(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),x(e)._overflowWeeks&&-1===t&&(t=7),x(e)._overflowWeekday&&-1===t&&(t=8),x(e).overflow=t),e}var bt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xt=/Z|[+-]\d\d(?::?\d\d)?/,Mt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],wt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],kt=/^\/?Date\((-?\d+)/i,Lt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Dt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ot(e){var i,t,n,r,o,l,c=e._i,d=bt.exec(c)||vt.exec(c);if(d){for(x(e).iso=!0,i=0,t=Mt.length;i<t;i++)if(Mt[i][1].exec(d[1])){r=Mt[i][0],n=!1!==Mt[i][2];break}if(null==r)return void(e._isValid=!1);if(d[3]){for(i=0,t=wt.length;i<t;i++)if(wt[i][1].exec(d[3])){o=(d[2]||" ")+wt[i][0];break}if(null==o)return void(e._isValid=!1)}if(!n&&null!=o)return void(e._isValid=!1);if(d[4]){if(!xt.exec(d[4]))return void(e._isValid=!1);l="Z"}e._f=r+(o||"")+(l||""),At(e)}else e._isValid=!1}function jt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function St(e){var t,n,r,o,l,c,d,f,h=Lt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(h){if(n=h[4],r=h[3],o=h[2],l=h[5],c=h[6],d=h[7],f=[jt(n),Te.indexOf(r),parseInt(o,10),parseInt(l,10),parseInt(c,10)],d&&f.push(parseInt(d,10)),t=f,!function(e,t,n){return!e||Ge.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(x(n).weekdayMismatch=!0,n._isValid=!1,!1)}(h[1],t,e))return;e._a=t,e._tzm=function(e,t,n){if(e)return Dt[e];if(t)return 0;var r=parseInt(n,10),o=r%100;return(r-o)/100*60+o}(h[8],h[9],h[10]),e._d=Be.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),x(e).rfc2822=!0}else e._isValid=!1}function Yt(a,b,e){return null!=a?a:null!=b?b:e}function Tt(e){var i,t,n,r,l,input=[];if(!e._d){for(n=function(e){var t=new Date(o.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,r,o,l,c,d,f,h;null!=(t=e._w).GG||null!=t.W||null!=t.E?(l=1,c=4,n=Yt(t.GG,e._a[0],Ue(Ft(),1,4).year),r=Yt(t.W,1),((o=Yt(t.E,1))<1||o>7)&&(f=!0)):(l=e._locale._week.dow,c=e._locale._week.doy,h=Ue(Ft(),l,c),n=Yt(t.gg,e._a[0],h.year),r=Yt(t.w,h.week),null!=t.d?((o=t.d)<0||o>6)&&(f=!0):null!=t.e?(o=t.e+l,(t.e<0||t.e>6)&&(f=!0)):o=l),r<1||r>qe(n,l,c)?x(e)._overflowWeeks=!0:null!=f?x(e)._overflowWeekday=!0:(d=We(n,r,o,l,c),e._a[0]=d.year,e._dayOfYear=d.dayOfYear)}(e),null!=e._dayOfYear&&(l=Yt(e._a[0],n[0]),(e._dayOfYear>He(l)||0===e._dayOfYear)&&(x(e)._overflowDayOfYear=!0),t=Be(l,0,e._dayOfYear),e._a[1]=t.getUTCMonth(),e._a[2]=t.getUTCDate()),i=0;i<3&&null==e._a[i];++i)e._a[i]=input[i]=n[i];for(;i<7;i++)e._a[i]=input[i]=null==e._a[i]?2===i?1:0:e._a[i];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Be:Ie).apply(null,input),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==r&&(x(e).weekdayMismatch=!0)}}function At(e){if(e._f!==o.ISO_8601)if(e._f!==o.RFC_2822){e._a=[],x(e).empty=!0;var i,t,n,r,l,c,d=""+e._i,f=d.length,h=0;for(n=W(e._f,e._locale).match(z)||[],i=0;i<n.length;i++)r=n[i],(t=(d.match(Me(r,e))||[])[0])&&((l=d.substr(0,d.indexOf(t))).length>0&&x(e).unusedInput.push(l),d=d.slice(d.indexOf(t)+t.length),h+=t.length),I[r]?(t?x(e).empty=!1:x(e).unusedTokens.push(r),je(r,t,e)):e._strict&&!t&&x(e).unusedTokens.push(r);x(e).charsLeftOver=f-h,d.length>0&&x(e).unusedInput.push(d),e._a[3]<=12&&!0===x(e).bigHour&&e._a[3]>0&&(x(e).bigHour=void 0),x(e).parsedDateParts=e._a.slice(0),x(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),null!==(c=x(e).era)&&(e._a[0]=e._locale.erasConvertYear(c,e._a[0])),Tt(e),yt(e)}else St(e);else Ot(e)}function Et(e){var input=e._i,t=e._f;return e._locale=e._locale||_t(e._l),null===input||void 0===t&&""===input?w({nullInput:!0}):("string"==typeof input&&(e._i=input=e._locale.preparse(input)),j(input)?new O(yt(input)):(_(input)?e._d=input:l(t)?function(e){var t,n,r,i,o,l,c=!1;if(0===e._f.length)return x(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,l=!1,t=D({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],At(t),M(t)&&(l=!0),o+=x(t).charsLeftOver,o+=10*x(t).unusedTokens.length,x(t).score=o,c?o<r&&(r=o,n=t):(null==r||o<r||l)&&(r=o,n=t,l&&(c=!0));y(e,n||t)}(e):t?At(e):function(e){var input=e._i;h(input)?e._d=new Date(o.now()):_(input)?e._d=new Date(input.valueOf()):"string"==typeof input?function(e){var t=kt.exec(e._i);null===t?(Ot(e),!1===e._isValid&&(delete e._isValid,St(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:o.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):l(input)?(e._a=map(input.slice(0),(function(e){return parseInt(e,10)})),Tt(e)):c(input)?function(e){if(!e._d){var i=G(e._i),t=void 0===i.day?i.date:i.day;e._a=map([i.year,i.month,t,i.hour,i.minute,i.second,i.millisecond],(function(e){return e&&parseInt(e,10)})),Tt(e)}}(e):m(input)?e._d=new Date(input):o.createFromInputFallback(e)}(e),M(e)||(e._d=null),e))}function Ct(input,e,t,n,r){var o,d={};return!0!==e&&!1!==e||(n=e,e=void 0),!0!==t&&!1!==t||(n=t,t=void 0),(c(input)&&f(input)||l(input)&&0===input.length)&&(input=void 0),d._isAMomentObject=!0,d._useUTC=d._isUTC=r,d._l=t,d._i=input,d._f=e,d._strict=n,(o=new O(yt(Et(d))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function Ft(input,e,t,n){return Ct(input,e,t,n,!1)}o.createFromInputFallback=Y("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),o.ISO_8601=function(){},o.RFC_2822=function(){};var Pt=Y("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Ft.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:w()})),Nt=Y("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Ft.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:w()}));function zt(e,t){var n,i;if(1===t.length&&l(t[0])&&(t=t[0]),!t.length)return Ft();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}var Ht=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Rt(e){var t=G(e),n=t.year||0,r=t.quarter||0,o=t.month||0,l=t.week||t.isoWeek||0,c=t.day||0,f=t.hour||0,h=t.minute||0,m=t.second||0,_=t.millisecond||0;this._isValid=function(e){var t,i,n=!1;for(t in e)if(d(e,t)&&(-1===ke.call(Ht,t)||null!=e[t]&&isNaN(e[t])))return!1;for(i=0;i<Ht.length;++i)if(e[Ht[i]]){if(n)return!1;parseFloat(e[Ht[i]])!==ee(e[Ht[i]])&&(n=!0)}return!0}(t),this._milliseconds=+_+1e3*m+6e4*h+1e3*f*60*60,this._days=+c+7*l,this._months=+o+3*r+12*n,this._data={},this._locale=_t(),this._bubble()}function It(e){return e instanceof Rt}function Bt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function $t(e,t){B(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+N(~~(e/60),2)+t+N(~~e%60,2)}))}$t("Z",":"),$t("ZZ",""),xe("Z",be),xe("ZZ",be),De(["Z","ZZ"],(function(input,e,t){t._useUTC=!0,t._tzm=Ut(be,input)}));var Wt=/([\+\-]|\d\d)/gi;function Ut(e,t){var n,r,o=(t||"").match(e);return null===o?null:0===(r=60*(n=((o[o.length-1]||[])+"").match(Wt)||["-",0,0])[1]+ee(n[2]))?0:"+"===n[0]?r:-r}function qt(input,e){var t,n;return e._isUTC?(t=e.clone(),n=(j(input)||_(input)?input.valueOf():Ft(input).valueOf())-t.valueOf(),t._d.setTime(t._d.valueOf()+n),o.updateOffset(t,!1),t):Ft(input).local()}function Vt(e){return-Math.round(e._d.getTimezoneOffset())}function Jt(){return!!this.isValid()&&this._isUTC&&0===this._offset}o.updateOffset=function(){};var Gt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Xt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Zt(input,e){var t,n,r,base,o,l,c=input,f=null;return It(input)?c={ms:input._milliseconds,d:input._days,M:input._months}:m(input)||!isNaN(+input)?(c={},e?c[e]=+input:c.milliseconds=+input):(f=Gt.exec(input))?(t="-"===f[1]?-1:1,c={y:0,d:ee(f[2])*t,h:ee(f[3])*t,m:ee(f[4])*t,s:ee(f[5])*t,ms:ee(Bt(1e3*f[6]))*t}):(f=Xt.exec(input))?(t="-"===f[1]?-1:1,c={y:Kt(f[2],t),M:Kt(f[3],t),w:Kt(f[4],t),d:Kt(f[5],t),h:Kt(f[6],t),m:Kt(f[7],t),s:Kt(f[8],t)}):null==c?c={}:"object"==typeof c&&("from"in c||"to"in c)&&(base=Ft(c.from),o=Ft(c.to),r=base.isValid()&&o.isValid()?(o=qt(o,base),base.isBefore(o)?l=Qt(base,o):((l=Qt(o,base)).milliseconds=-l.milliseconds,l.months=-l.months),l):{milliseconds:0,months:0},(c={}).ms=r.milliseconds,c.M=r.months),n=new Rt(c),It(input)&&d(input,"_locale")&&(n._locale=input._locale),It(input)&&d(input,"_isValid")&&(n._isValid=input._isValid),n}function Kt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Qt(base,e){var t={};return t.months=e.month()-base.month()+12*(e.year()-base.year()),base.clone().add(t.months,"M").isAfter(e)&&--t.months,t.milliseconds=+e-+base.clone().add(t.months,"M"),t}function en(e,t){return function(n,r){var o;return null===r||isNaN(+r)||(E(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),tn(this,Zt(n,r),e),this}}function tn(e,t,n,r){var l=t._milliseconds,c=Bt(t._days),d=Bt(t._months);e.isValid()&&(r=null==r||r,d&&Pe(e,ne(e,"Month")+d*n),c&&re(e,"Date",ne(e,"Date")+c*n),l&&e._d.setTime(e._d.valueOf()+l*n),r&&o.updateOffset(e,c||d))}Zt.fn=Rt.prototype,Zt.invalid=function(){return Zt(NaN)};var nn=en(1,"add"),rn=en(-1,"subtract");function an(input){return"string"==typeof input||input instanceof String}function on(input){return j(input)||_(input)||an(input)||m(input)||function(input){var e=l(input),t=!1;return e&&(t=0===input.filter((function(e){return!m(e)&&an(input)})).length),e&&t}(input)||function(input){var i,e,t=c(input)&&!f(input),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(i=0;i<r.length;i+=1)e=r[i],n=n||d(input,e);return t&&n}(input)||null==input}function sn(input){var i,e=c(input)&&!f(input),t=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(i=0;i<n.length;i+=1)t=t||d(input,n[i]);return e&&t}function ln(a,b){if(a.date()<b.date())return-ln(b,a);var e=12*(b.year()-a.year())+(b.month()-a.month()),t=a.clone().add(e,"months");return-(e+(b-t<0?(b-t)/(t-a.clone().add(e-1,"months")):(b-t)/(a.clone().add(e+1,"months")-t)))||0}function un(e){var t;return void 0===e?this._locale._abbr:(null!=(t=_t(e))&&(this._locale=t),this)}o.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",o.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var cn=Y("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function dn(){return this._locale}function fn(e,t){return(e%t+t)%t}function hn(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-126227808e5:new Date(e,t,n).valueOf()}function mn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-126227808e5:Date.UTC(e,t,n)}function pn(e,t){return t.erasAbbrRegex(e)}function gn(){var i,e,t=[],n=[],r=[],o=[],l=this.eras();for(i=0,e=l.length;i<e;++i)n.push(we(l[i].name)),t.push(we(l[i].abbr)),r.push(we(l[i].narrow)),o.push(we(l[i].name)),o.push(we(l[i].abbr)),o.push(we(l[i].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}function _n(e,t){B(0,[e,e.length],0,t)}function yn(input,e,t,n,r){var o;return null==input?Ue(this,n,r).year:(e>(o=qe(input,n,r))&&(e=o),bn.call(this,input,e,t,n,r))}function bn(e,t,n,r,o){var l=We(e,t,n,r,o),c=Be(l.year,0,l.dayOfYear);return this.year(c.getUTCFullYear()),this.month(c.getUTCMonth()),this.date(c.getUTCDate()),this}B("N",0,0,"eraAbbr"),B("NN",0,0,"eraAbbr"),B("NNN",0,0,"eraAbbr"),B("NNNN",0,0,"eraName"),B("NNNNN",0,0,"eraNarrow"),B("y",["y",1],"yo","eraYear"),B("y",["yy",2],0,"eraYear"),B("y",["yyy",3],0,"eraYear"),B("y",["yyyy",4],0,"eraYear"),xe("N",pn),xe("NN",pn),xe("NNN",pn),xe("NNNN",(function(e,t){return t.erasNameRegex(e)})),xe("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),De(["N","NN","NNN","NNNN","NNNNN"],(function(input,e,t,n){var r=t._locale.erasParse(input,n,t._strict);r?x(t).era=r:x(t).invalidEra=input})),xe("y",ge),xe("yy",ge),xe("yyy",ge),xe("yyyy",ge),xe("yo",(function(e,t){return t._eraYearOrdinalRegex||ge})),De(["y","yy","yyy","yyyy"],0),De(["yo"],(function(input,e,t,n){var r;t._locale._eraYearOrdinalRegex&&(r=input.match(t._locale._eraYearOrdinalRegex)),t._locale.eraYearOrdinalParse?e[0]=t._locale.eraYearOrdinalParse(input,r):e[0]=parseInt(input,10)})),B(0,["gg",2],0,(function(){return this.weekYear()%100})),B(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),_n("gggg","weekYear"),_n("ggggg","weekYear"),_n("GGGG","isoWeekYear"),_n("GGGGG","isoWeekYear"),V("weekYear","gg"),V("isoWeekYear","GG"),Z("weekYear",1),Z("isoWeekYear",1),xe("G",_e),xe("g",_e),xe("GG",ce,oe),xe("gg",ce,oe),xe("GGGG",me,le),xe("gggg",me,le),xe("GGGGG",pe,ue),xe("ggggg",pe,ue),Oe(["gggg","ggggg","GGGG","GGGGG"],(function(input,e,t,n){e[n.substr(0,2)]=ee(input)})),Oe(["gg","GG"],(function(input,e,t,n){e[n]=o.parseTwoDigitYear(input)})),B("Q",0,"Qo","quarter"),V("quarter","Q"),Z("quarter",7),xe("Q",ae),De("Q",(function(input,e){e[1]=3*(ee(input)-1)})),B("D",["DD",2],"Do","date"),V("date","D"),Z("date",9),xe("D",ce),xe("DD",ce,oe),xe("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),De(["D","DD"],2),De("Do",(function(input,e){e[2]=ee(input.match(ce)[0])}));var vn=te("Date",!0);B("DDD",["DDDD",3],"DDDo","dayOfYear"),V("dayOfYear","DDD"),Z("dayOfYear",4),xe("DDD",he),xe("DDDD",se),De(["DDD","DDDD"],(function(input,e,t){t._dayOfYear=ee(input)})),B("m",["mm",2],0,"minute"),V("minute","m"),Z("minute",14),xe("m",ce),xe("mm",ce,oe),De(["m","mm"],4);var xn=te("Minutes",!1);B("s",["ss",2],0,"second"),V("second","s"),Z("second",15),xe("s",ce),xe("ss",ce,oe),De(["s","ss"],5);var Mn,wn,kn=te("Seconds",!1);for(B("S",0,0,(function(){return~~(this.millisecond()/100)})),B(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),B(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),B(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),B(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),B(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),B(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),V("millisecond","ms"),Z("millisecond",16),xe("S",he,ae),xe("SS",he,oe),xe("SSS",he,se),Mn="SSSS";Mn.length<=9;Mn+="S")xe(Mn,ge);function Ln(input,e){e[6]=ee(1e3*("0."+input))}for(Mn="S";Mn.length<=9;Mn+="S")De(Mn,Ln);wn=te("Milliseconds",!1),B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var Dn=O.prototype;function On(e){return e}Dn.add=nn,Dn.calendar=function(time,e){1===arguments.length&&(arguments[0]?on(arguments[0])?(time=arguments[0],e=void 0):sn(arguments[0])&&(e=arguments[0],time=void 0):(time=void 0,e=void 0));var t=time||Ft(),n=qt(t,this).startOf("day"),r=o.calendarFormat(this,n)||"sameElse",output=e&&(C(e[r])?e[r].call(this,t):e[r]);return this.format(output||this.localeData().calendar(r,this,Ft(t)))},Dn.clone=function(){return new O(this)},Dn.diff=function(input,e,t){var n,r,output;if(!this.isValid())return NaN;if(!(n=qt(input,this)).isValid())return NaN;switch(r=6e4*(n.utcOffset()-this.utcOffset()),e=J(e)){case"year":output=ln(this,n)/12;break;case"month":output=ln(this,n);break;case"quarter":output=ln(this,n)/3;break;case"second":output=(this-n)/1e3;break;case"minute":output=(this-n)/6e4;break;case"hour":output=(this-n)/36e5;break;case"day":output=(this-n-r)/864e5;break;case"week":output=(this-n-r)/6048e5;break;default:output=this-n}return t?output:Q(output)},Dn.endOf=function(e){var time,t;if(void 0===(e=J(e))||"millisecond"===e||!this.isValid())return this;switch(t=this._isUTC?mn:hn,e){case"year":time=t(this.year()+1,0,1)-1;break;case"quarter":time=t(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":time=t(this.year(),this.month()+1,1)-1;break;case"week":time=t(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":time=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":time=t(this.year(),this.month(),this.date()+1)-1;break;case"hour":time=this._d.valueOf(),time+=36e5-fn(time+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":time=this._d.valueOf(),time+=6e4-fn(time,6e4)-1;break;case"second":time=this._d.valueOf(),time+=1e3-fn(time,1e3)-1}return this._d.setTime(time),o.updateOffset(this,!0),this},Dn.format=function(e){e||(e=this.isUtc()?o.defaultFormatUtc:o.defaultFormat);var output=$(this,e);return this.localeData().postformat(output)},Dn.from=function(time,e){return this.isValid()&&(j(time)&&time.isValid()||Ft(time).isValid())?Zt({to:this,from:time}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Dn.fromNow=function(e){return this.from(Ft(),e)},Dn.to=function(time,e){return this.isValid()&&(j(time)&&time.isValid()||Ft(time).isValid())?Zt({from:this,to:time}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Dn.toNow=function(e){return this.to(Ft(),e)},Dn.get=function(e){return C(this[e=J(e)])?this[e]():this},Dn.invalidAt=function(){return x(this).overflow},Dn.isAfter=function(input,e){var t=j(input)?input:Ft(input);return!(!this.isValid()||!t.isValid())&&("millisecond"===(e=J(e)||"millisecond")?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf())},Dn.isBefore=function(input,e){var t=j(input)?input:Ft(input);return!(!this.isValid()||!t.isValid())&&("millisecond"===(e=J(e)||"millisecond")?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf())},Dn.isBetween=function(e,t,n,r){var o=j(e)?e:Ft(e),l=j(t)?t:Ft(t);return!!(this.isValid()&&o.isValid()&&l.isValid())&&(("("===(r=r||"()")[0]?this.isAfter(o,n):!this.isBefore(o,n))&&(")"===r[1]?this.isBefore(l,n):!this.isAfter(l,n)))},Dn.isSame=function(input,e){var t,n=j(input)?input:Ft(input);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=J(e)||"millisecond")?this.valueOf()===n.valueOf():(t=n.valueOf(),this.clone().startOf(e).valueOf()<=t&&t<=this.clone().endOf(e).valueOf()))},Dn.isSameOrAfter=function(input,e){return this.isSame(input,e)||this.isAfter(input,e)},Dn.isSameOrBefore=function(input,e){return this.isSame(input,e)||this.isBefore(input,e)},Dn.isValid=function(){return M(this)},Dn.lang=cn,Dn.locale=un,Dn.localeData=dn,Dn.max=Nt,Dn.min=Pt,Dn.parsingFlags=function(){return y({},x(this))},Dn.set=function(e,t){if("object"==typeof e){var i,n=function(e){var u,t=[];for(u in e)d(e,u)&&t.push({unit:u,priority:X[u]});return t.sort((function(a,b){return a.priority-b.priority})),t}(e=G(e));for(i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit])}else if(C(this[e=J(e)]))return this[e](t);return this},Dn.startOf=function(e){var time,t;if(void 0===(e=J(e))||"millisecond"===e||!this.isValid())return this;switch(t=this._isUTC?mn:hn,e){case"year":time=t(this.year(),0,1);break;case"quarter":time=t(this.year(),this.month()-this.month()%3,1);break;case"month":time=t(this.year(),this.month(),1);break;case"week":time=t(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":time=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":time=t(this.year(),this.month(),this.date());break;case"hour":time=this._d.valueOf(),time-=fn(time+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":time=this._d.valueOf(),time-=fn(time,6e4);break;case"second":time=this._d.valueOf(),time-=fn(time,1e3)}return this._d.setTime(time),o.updateOffset(this,!0),this},Dn.subtract=rn,Dn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Dn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Dn.toDate=function(){return new Date(this.valueOf())},Dn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?$(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):C(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",$(n,"Z")):$(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Dn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r="moment",o="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+r+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n=o+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(Dn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Dn.toJSON=function(){return this.isValid()?this.toISOString():null},Dn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Dn.unix=function(){return Math.floor(this.valueOf()/1e3)},Dn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Dn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Dn.eraName=function(){var i,e,t,n=this.localeData().eras();for(i=0,e=n.length;i<e;++i){if(t=this.clone().startOf("day").valueOf(),n[i].since<=t&&t<=n[i].until)return n[i].name;if(n[i].until<=t&&t<=n[i].since)return n[i].name}return""},Dn.eraNarrow=function(){var i,e,t,n=this.localeData().eras();for(i=0,e=n.length;i<e;++i){if(t=this.clone().startOf("day").valueOf(),n[i].since<=t&&t<=n[i].until)return n[i].narrow;if(n[i].until<=t&&t<=n[i].since)return n[i].narrow}return""},Dn.eraAbbr=function(){var i,e,t,n=this.localeData().eras();for(i=0,e=n.length;i<e;++i){if(t=this.clone().startOf("day").valueOf(),n[i].since<=t&&t<=n[i].until)return n[i].abbr;if(n[i].until<=t&&t<=n[i].since)return n[i].abbr}return""},Dn.eraYear=function(){var i,e,t,n,r=this.localeData().eras();for(i=0,e=r.length;i<e;++i)if(t=r[i].since<=r[i].until?1:-1,n=this.clone().startOf("day").valueOf(),r[i].since<=n&&n<=r[i].until||r[i].until<=n&&n<=r[i].since)return(this.year()-o(r[i].since).year())*t+r[i].offset;return this.year()},Dn.year=Re,Dn.isLeapYear=function(){return K(this.year())},Dn.weekYear=function(input){return yn.call(this,input,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Dn.isoWeekYear=function(input){return yn.call(this,input,this.isoWeek(),this.isoWeekday(),1,4)},Dn.quarter=Dn.quarters=function(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)},Dn.month=Ne,Dn.daysInMonth=function(){return Se(this.year(),this.month())},Dn.week=Dn.weeks=function(input){var e=this.localeData().week(this);return null==input?e:this.add(7*(input-e),"d")},Dn.isoWeek=Dn.isoWeeks=function(input){var e=Ue(this,1,4).week;return null==input?e:this.add(7*(input-e),"d")},Dn.weeksInYear=function(){var e=this.localeData()._week;return qe(this.year(),e.dow,e.doy)},Dn.weeksInWeekYear=function(){var e=this.localeData()._week;return qe(this.weekYear(),e.dow,e.doy)},Dn.isoWeeksInYear=function(){return qe(this.year(),1,4)},Dn.isoWeeksInISOWeekYear=function(){return qe(this.isoWeekYear(),1,4)},Dn.date=vn,Dn.day=Dn.days=function(input){if(!this.isValid())return null!=input?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=function(input,e){return"string"!=typeof input?input:isNaN(input)?"number"==typeof(input=e.weekdaysParse(input))?input:null:parseInt(input,10)}(input,this.localeData()),this.add(input-e,"d")):e},Dn.weekday=function(input){if(!this.isValid())return null!=input?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==input?e:this.add(input-e,"d")},Dn.isoWeekday=function(input){if(!this.isValid())return null!=input?this:NaN;if(null!=input){var e=function(input,e){return"string"==typeof input?e.weekdaysParse(input)%7||7:isNaN(input)?null:input}(input,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},Dn.dayOfYear=function(input){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==input?e:this.add(input-e,"d")},Dn.hour=Dn.hours=st,Dn.minute=Dn.minutes=xn,Dn.second=Dn.seconds=kn,Dn.millisecond=Dn.milliseconds=wn,Dn.utcOffset=function(input,e,t){var n,r=this._offset||0;if(!this.isValid())return null!=input?this:NaN;if(null!=input){if("string"==typeof input){if(null===(input=Ut(be,input)))return this}else Math.abs(input)<16&&!t&&(input*=60);return!this._isUTC&&e&&(n=Vt(this)),this._offset=input,this._isUTC=!0,null!=n&&this.add(n,"m"),r!==input&&(!e||this._changeInProgress?tn(this,Zt(input-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,o.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Vt(this)},Dn.utc=function(e){return this.utcOffset(0,e)},Dn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Vt(this),"m")),this},Dn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ut(ye,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},Dn.hasAlignedHourOffset=function(input){return!!this.isValid()&&(input=input?Ft(input).utcOffset():0,(this.utcOffset()-input)%60==0)},Dn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Dn.isLocal=function(){return!!this.isValid()&&!this._isUTC},Dn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Dn.isUtc=Jt,Dn.isUTC=Jt,Dn.zoneAbbr=function(){return this._isUTC?"UTC":""},Dn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Dn.dates=Y("dates accessor is deprecated. Use date instead.",vn),Dn.months=Y("months accessor is deprecated. Use month instead",Ne),Dn.years=Y("years accessor is deprecated. Use year instead",Re),Dn.zone=Y("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(input,e){return null!=input?("string"!=typeof input&&(input=-input),this.utcOffset(input,e),this):-this.utcOffset()})),Dn.isDSTShifted=Y("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!h(this._isDSTShifted))return this._isDSTShifted;var e,t={};return D(t,this),(t=Et(t))._a?(e=t._isUTC?v(t._a):Ft(t._a),this._isDSTShifted=this.isValid()&&function(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),l=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&ee(e[i])!==ee(t[i]))&&l++;return l+o}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var jn=P.prototype;function Sn(e,t,n,r){var o=_t(),l=v().set(r,t);return o[n](l,e)}function Yn(e,t,n){if(m(e)&&(t=e,e=void 0),e=e||"",null!=t)return Sn(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Sn(e,i,n,"month");return r}function Tn(e,t,n,r){"boolean"==typeof e?(m(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,m(t)&&(n=t,t=void 0),t=t||"");var i,o=_t(),l=e?o._week.dow:0,c=[];if(null!=n)return Sn(t,(n+l)%7,r,"day");for(i=0;i<7;i++)c[i]=Sn(t,(i+l)%7,r,"day");return c}jn.calendar=function(e,t,n){var output=this._calendar[e]||this._calendar.sameElse;return C(output)?output.call(t,n):output},jn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(z).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},jn.invalidDate=function(){return this._invalidDate},jn.ordinal=function(e){return this._ordinal.replace("%d",e)},jn.preparse=On,jn.postformat=On,jn.relativeTime=function(e,t,n,r){var output=this._relativeTime[n];return C(output)?output(e,t,n,r):output.replace(/%d/i,e)},jn.pastFuture=function(e,output){var t=this._relativeTime[e>0?"future":"past"];return C(t)?t(output):t.replace(/%s/i,output)},jn.set=function(e){var t,i;for(i in e)d(e,i)&&(C(t=e[i])?this[i]=t:this["_"+i]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},jn.eras=function(e,t){var i,n,r,l=this._eras||_t("en")._eras;for(i=0,n=l.length;i<n;++i){switch(typeof l[i].since){case"string":r=o(l[i].since).startOf("day"),l[i].since=r.valueOf()}switch(typeof l[i].until){case"undefined":l[i].until=1/0;break;case"string":r=o(l[i].until).startOf("day").valueOf(),l[i].until=r.valueOf()}}return l},jn.erasParse=function(e,t,n){var i,r,o,abbr,l,c=this.eras();for(e=e.toUpperCase(),i=0,r=c.length;i<r;++i)if(o=c[i].name.toUpperCase(),abbr=c[i].abbr.toUpperCase(),l=c[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(abbr===e)return c[i];break;case"NNNN":if(o===e)return c[i];break;case"NNNNN":if(l===e)return c[i]}else if([o,abbr,l].indexOf(e)>=0)return c[i]},jn.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?o(e.since).year():o(e.since).year()+(t-e.offset)*n},jn.erasAbbrRegex=function(e){return d(this,"_erasAbbrRegex")||gn.call(this),e?this._erasAbbrRegex:this._erasRegex},jn.erasNameRegex=function(e){return d(this,"_erasNameRegex")||gn.call(this),e?this._erasNameRegex:this._erasRegex},jn.erasNarrowRegex=function(e){return d(this,"_erasNarrowRegex")||gn.call(this),e?this._erasNarrowRegex:this._erasRegex},jn.months=function(e,t){return e?l(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ae).test(t)?"format":"standalone"][e.month()]:l(this._months)?this._months:this._months.standalone},jn.monthsShort=function(e,t){return e?l(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ae.test(t)?"format":"standalone"][e.month()]:l(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},jn.monthsParse=function(e,t,n){var i,r,o;if(this._monthsParseExact)return Fe.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=v([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},jn.monthsRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||ze.call(this),e?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=Ce),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},jn.monthsShortRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||ze.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=Ee),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},jn.week=function(e){return Ue(e,this._week.dow,this._week.doy).week},jn.firstDayOfYear=function(){return this._week.doy},jn.firstDayOfWeek=function(){return this._week.dow},jn.weekdays=function(e,t){var n=l(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ve(n,this._week.dow):e?n[e.day()]:n},jn.weekdaysMin=function(e){return!0===e?Ve(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},jn.weekdaysShort=function(e){return!0===e?Ve(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},jn.weekdaysParse=function(e,t,n){var i,r,o;if(this._weekdaysParseExact)return et.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=v([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},jn.weekdaysRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||tt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=Ze),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},jn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||tt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ke),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},jn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||tt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Qe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},jn.isPM=function(input){return"p"===(input+"").toLowerCase().charAt(0)},jn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},pt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var b=e%10;return e+(1===ee(e%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}}),o.lang=Y("moment.lang is deprecated. Use moment.locale instead.",pt),o.langData=Y("moment.langData is deprecated. Use moment.localeData instead.",_t);var An=Math.abs;function En(e,input,t,n){var r=Zt(input,t);return e._milliseconds+=n*r._milliseconds,e._days+=n*r._days,e._months+=n*r._months,e._bubble()}function Cn(e){return e<0?Math.floor(e):Math.ceil(e)}function Fn(e){return 4800*e/146097}function Pn(e){return 146097*e/4800}function Nn(e){return function(){return this.as(e)}}var zn=Nn("ms"),Hn=Nn("s"),Rn=Nn("m"),In=Nn("h"),Bn=Nn("d"),$n=Nn("w"),Wn=Nn("M"),Un=Nn("Q"),qn=Nn("y");function Vn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Jn=Vn("milliseconds"),Gn=Vn("seconds"),Xn=Vn("minutes"),Zn=Vn("hours"),Kn=Vn("days"),Qn=Vn("months"),er=Vn("years"),nr=Math.round,rr={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ir(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}var ar=Math.abs;function or(e){return(e>0)-(e<0)||+e}function sr(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,s,r,o,l,c,d=ar(this._milliseconds)/1e3,f=ar(this._days),h=ar(this._months),m=this.asSeconds();return m?(e=Q(d/60),t=Q(e/60),d%=60,e%=60,n=Q(h/12),h%=12,s=d?d.toFixed(3).replace(/\.?0+$/,""):"",r=m<0?"-":"",o=or(this._months)!==or(m)?"-":"",l=or(this._days)!==or(m)?"-":"",c=or(this._milliseconds)!==or(m)?"-":"",r+"P"+(n?o+n+"Y":"")+(h?o+h+"M":"")+(f?l+f+"D":"")+(t||e||d?"T":"")+(t?c+t+"H":"")+(e?c+e+"M":"")+(d?c+s+"S":"")):"P0D"}var lr=Rt.prototype;return lr.isValid=function(){return this._isValid},lr.abs=function(){var data=this._data;return this._milliseconds=An(this._milliseconds),this._days=An(this._days),this._months=An(this._months),data.milliseconds=An(data.milliseconds),data.seconds=An(data.seconds),data.minutes=An(data.minutes),data.hours=An(data.hours),data.months=An(data.months),data.years=An(data.years),this},lr.add=function(input,e){return En(this,input,e,1)},lr.subtract=function(input,e){return En(this,input,e,-1)},lr.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=J(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Fn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Pn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},lr.asMilliseconds=zn,lr.asSeconds=Hn,lr.asMinutes=Rn,lr.asHours=In,lr.asDays=Bn,lr.asWeeks=$n,lr.asMonths=Wn,lr.asQuarters=Un,lr.asYears=qn,lr.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ee(this._months/12):NaN},lr._bubble=function(){var e,t,n,r,o,l=this._milliseconds,c=this._days,d=this._months,data=this._data;return l>=0&&c>=0&&d>=0||l<=0&&c<=0&&d<=0||(l+=864e5*Cn(Pn(d)+c),c=0,d=0),data.milliseconds=l%1e3,e=Q(l/1e3),data.seconds=e%60,t=Q(e/60),data.minutes=t%60,n=Q(t/60),data.hours=n%24,c+=Q(n/24),o=Q(Fn(c)),d+=o,c-=Cn(Pn(o)),r=Q(d/12),d%=12,data.days=c,data.months=d,data.years=r,this},lr.clone=function(){return Zt(this)},lr.get=function(e){return e=J(e),this.isValid()?this[e+"s"]():NaN},lr.milliseconds=Jn,lr.seconds=Gn,lr.minutes=Xn,lr.hours=Zn,lr.days=Kn,lr.weeks=function(){return Q(this.days()/7)},lr.months=Qn,lr.years=er,lr.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,output,r=!1,th=rr;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(r=e),"object"==typeof t&&(th=Object.assign({},rr,t),null!=t.s&&null==t.ss&&(th.ss=t.s-1)),n=this.localeData(),output=function(e,t,n,r){var o=Zt(e).abs(),l=nr(o.as("s")),c=nr(o.as("m")),d=nr(o.as("h")),f=nr(o.as("d")),h=nr(o.as("M")),m=nr(o.as("w")),_=nr(o.as("y")),a=l<=n.ss&&["s",l]||l<n.s&&["ss",l]||c<=1&&["m"]||c<n.m&&["mm",c]||d<=1&&["h"]||d<n.h&&["hh",d]||f<=1&&["d"]||f<n.d&&["dd",f];return null!=n.w&&(a=a||m<=1&&["w"]||m<n.w&&["ww",m]),(a=a||h<=1&&["M"]||h<n.M&&["MM",h]||_<=1&&["y"]||["yy",_])[2]=t,a[3]=+e>0,a[4]=r,ir.apply(null,a)}(this,!r,th,n),r&&(output=n.pastFuture(+this,output)),n.postformat(output)},lr.toISOString=sr,lr.toString=sr,lr.toJSON=sr,lr.locale=un,lr.localeData=dn,lr.toIsoString=Y("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",sr),lr.lang=cn,B("X",0,0,"unix"),B("x",0,0,"valueOf"),xe("x",_e),xe("X",/[+-]?\d+(\.\d{1,3})?/),De("X",(function(input,e,t){t._d=new Date(1e3*parseFloat(input))})),De("x",(function(input,e,t){t._d=new Date(ee(input))})),o.version="2.29.1",t=Ft,o.fn=Dn,o.min=function(){var e=[].slice.call(arguments,0);return zt("isBefore",e)},o.max=function(){var e=[].slice.call(arguments,0);return zt("isAfter",e)},o.now=function(){return Date.now?Date.now():+new Date},o.utc=v,o.unix=function(input){return Ft(1e3*input)},o.months=function(e,t){return Yn(e,t,"months")},o.isDate=_,o.locale=pt,o.invalid=w,o.duration=Zt,o.isMoment=j,o.weekdays=function(e,t,n){return Tn(e,t,n,"weekdays")},o.parseZone=function(){return Ft.apply(null,arguments).parseZone()},o.localeData=_t,o.isDuration=It,o.monthsShort=function(e,t){return Yn(e,t,"monthsShort")},o.weekdaysMin=function(e,t,n){return Tn(e,t,n,"weekdaysMin")},o.defineLocale=gt,o.updateLocale=function(e,t){if(null!=t){var n,r,o=lt;null!=ut[e]&&null!=ut[e].parentLocale?ut[e].set(F(ut[e]._config,t)):(null!=(r=mt(e))&&(o=r._config),t=F(o,t),null==r&&(t.abbr=e),(n=new P(t)).parentLocale=ut[e],ut[e]=n),pt(e)}else null!=ut[e]&&(null!=ut[e].parentLocale?(ut[e]=ut[e].parentLocale,e===pt()&&pt(e)):null!=ut[e]&&delete ut[e]);return ut[e]},o.locales=function(){return T(ut)},o.weekdaysShort=function(e,t,n){return Tn(e,t,n,"weekdaysShort")},o.normalizeUnits=J,o.relativeTimeRounding=function(e){return void 0===e?nr:"function"==typeof e&&(nr=e,!0)},o.relativeTimeThreshold=function(e,t){return void 0!==rr[e]&&(void 0===t?rr[e]:(rr[e]=t,"s"===e&&(rr.ss=t-1),!0))},o.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},o.prototype=Dn,o.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},o}()}).call(this,n(287)(e))},function(e,t,n){"use strict";function r(e,t,n){return e.fields=t||[],e.fname=n,e}function o(e){return null==e?null:e.fname}function l(e){return null==e?null:e.fields}function c(path){return 1===path.length?d(path[0]):f(path)}n.d(t,"a",(function(){return Y})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return D})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return ie})),n.d(t,"j",(function(){return le})),n.d(t,"k",(function(){return ae})),n.d(t,"l",(function(){return se})),n.d(t,"m",(function(){return fe})),n.d(t,"n",(function(){return he})),n.d(t,"o",(function(){return h})),n.d(t,"p",(function(){return me})),n.d(t,"q",(function(){return pe})),n.d(t,"r",(function(){return ge})),n.d(t,"s",(function(){return k})),n.d(t,"t",(function(){return ve})),n.d(t,"u",(function(){return _})),n.d(t,"v",(function(){return xe})),n.d(t,"w",(function(){return ye})),n.d(t,"x",(function(){return y})),n.d(t,"y",(function(){return v})),n.d(t,"z",(function(){return Me})),n.d(t,"A",(function(){return we})),n.d(t,"B",(function(){return A})),n.d(t,"C",(function(){return ke})),n.d(t,"D",(function(){return Le})),n.d(t,"E",(function(){return oe})),n.d(t,"F",(function(){return De})),n.d(t,"G",(function(){return Oe})),n.d(t,"H",(function(){return E})),n.d(t,"I",(function(){return je})),n.d(t,"J",(function(){return Se})),n.d(t,"K",(function(){return Ye})),n.d(t,"L",(function(){return Te})),n.d(t,"M",(function(){return T})),n.d(t,"N",(function(){return Ae})),n.d(t,"O",(function(){return Ee})),n.d(t,"P",(function(){return F})),n.d(t,"Q",(function(){return M})),n.d(t,"R",(function(){return Fe})),n.d(t,"S",(function(){return V})),n.d(t,"T",(function(){return J})),n.d(t,"U",(function(){return G})),n.d(t,"V",(function(){return X})),n.d(t,"W",(function(){return z})),n.d(t,"X",(function(){return ne})),n.d(t,"Y",(function(){return Ce})),n.d(t,"Z",(function(){return span})),n.d(t,"ab",(function(){return m})),n.d(t,"bb",(function(){return Pe})),n.d(t,"cb",(function(){return Ne})),n.d(t,"db",(function(){return He})),n.d(t,"eb",(function(){return H})),n.d(t,"fb",(function(){return Ie})),n.d(t,"gb",(function(){return Re})),n.d(t,"hb",(function(){return Be})),n.d(t,"ib",(function(){return w})),n.d(t,"jb",(function(){return re})),n.d(t,"kb",(function(){return $e})),n.d(t,"lb",(function(){return P})),n.d(t,"mb",(function(){return x})),n.d(t,"nb",(function(){return K})),n.d(t,"ob",(function(){return Q})),n.d(t,"pb",(function(){return ee})),n.d(t,"qb",(function(){return te}));const d=e=>function(t){return t[e]},f=path=>{const e=path.length;return function(t){for(let i=0;i<e;++i)t=t[path[i]];return t}};function h(e){throw Error(e)}function m(p){const path=[],e=p.length;let i,t,n,q=null,b=0,s="";function r(){path.push(s+p.substring(i,t)),s="",i=t+1}for(p+="",i=t=0;t<e;++t)if(n=p[t],"\\"===n)s+=p.substring(i,t),s+=p.substring(++t,++t),i=t;else if(n===q)r(),q=null,b=-1;else{if(q)continue;i===b&&'"'===n||i===b&&"'"===n?(i=t+1,q=n):"."!==n||b?"["===n?(t>i&&r(),b=i=t+1):"]"===n&&(b||h("Access path missing open bracket: "+p),b>0&&r(),b=0,i=t+1):t>i?r():i=t+1}return b&&h("Access path missing closing bracket: "+p),q&&h("Access path missing closing quote: "+p),t>i&&(t++,r()),path}function _(e,t,n){const path=m(e);return e=1===path.length?path[0]:e,r((n&&n.get||c)(path),[e],t||e)}const y=_("id"),v=r(e=>e,[],"identity"),x=r(()=>0,[],"zero"),M=r(()=>1,[],"one"),w=r(()=>!0,[],"true"),k=r(()=>!1,[],"false");function L(e,t,input){const n=[t].concat([].slice.call(input));console[e].apply(console,n)}const D=0,O=1,j=2,S=3,Y=4;function T(e,t){let n=e||D;return{level(e){return arguments.length?(n=+e,this):n},error(){return n>=O&&L(t||"error","ERROR",arguments),this},warn(){return n>=j&&L(t||"warn","WARN",arguments),this},info(){return n>=S&&L(t||"log","INFO",arguments),this},debug(){return n>=Y&&L(t||"log","DEBUG",arguments),this}}}var A=Array.isArray;function E(e){return e===Object(e)}const C=e=>"__proto__"!==e;function F(...e){return e.reduce((e,source)=>{for(const t in source)if("signals"===t)e.signals=N(e.signals,source.signals);else{const n="legend"===t?{layout:1}:"style"===t||null;P(e,t,source[t],n)}return e},{})}function P(output,e,t,n){if(!C(e))return;let r,o;if(E(t)&&!A(t))for(r in o=E(output[e])?output[e]:output[e]={},t)n&&(!0===n||n[r])?P(o,r,t[r]):C(r)&&(o[r]=t[r]);else output[e]=t}function N(a,b){if(null==a)return b;const map={},e=[];function t(t){map[t.name]||(map[t.name]=1,e.push(t))}return b.forEach(t),a.forEach(t),e}function z(e){return e[e.length-1]}function H(e){return null==e||""===e?null:+e}const R=e=>t=>e*Math.exp(t),I=e=>t=>Math.log(e*t),B=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),$=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,W=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function U(e,t,n,r){const o=n(e[0]),l=n(z(e)),dd=(l-o)*t;return[r(o-dd),r(l-dd)]}function V(e,t){return U(e,t,H,v)}function J(e,t){var n=Math.sign(e[0]);return U(e,t,I(n),R(n))}function G(e,t,n){return U(e,t,W(n),W(1/n))}function X(e,t,n){return U(e,t,B(n),$(n))}function Z(e,t,n,r,o){const l=r(e[0]),c=r(z(e)),d=null!=t?r(t):(l+c)/2;return[o(d+(l-d)*n),o(d+(c-d)*n)]}function K(e,t,n){return Z(e,t,n,H,v)}function Q(e,t,n){const r=Math.sign(e[0]);return Z(e,t,n,I(r),R(r))}function ee(e,t,n,r){return Z(e,t,n,W(r),W(1/r))}function te(e,t,n,r){return Z(e,t,n,B(r),$(r))}function ne(e){return 1+~~(new Date(e).getMonth()/3)}function re(e){return 1+~~(new Date(e).getUTCMonth()/3)}function ie(e){return null!=e?A(e)?e:[e]:[]}function ae(e,t,n){let span,r=e[0],o=e[1];return o<r&&(span=o,o=r,r=span),span=o-r,span>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-span),r+span]}function oe(e){return"function"==typeof e}function se(e,t,n){n=n||{},t=ie(t)||[];const o=[],c=[],d={},f=n.comparator||ue;return ie(e).forEach((e,i)=>{null!=e&&(o.push("descending"===t[i]?-1:1),c.push(e=oe(e)?e:_(e,null,n)),(l(e)||[]).forEach(e=>d[e]=1))}),0===c.length?null:r(f(c,o),Object.keys(d))}const le=(u,e)=>(u<e||null==u)&&null!=e?-1:(u>e||null==e)&&null!=u?1:(e=e instanceof Date?+e:e,(u=u instanceof Date?+u:u)!==u&&e==e?-1:e!=e&&u==u?1:0),ue=(e,t)=>1===e.length?ce(e[0],t[0]):de(e,t,e.length),ce=(e,t)=>function(a,b){return le(e(a),e(b))*t},de=(e,t,n)=>(t.push(0),function(a,b){let r,o=0,i=-1;for(;0===o&&++i<n;)r=e[i],o=le(r(a),r(b));return o*t[i]});function fe(e){return oe(e)?e:()=>e}function he(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function me(e){for(let t,n,i=1,r=arguments.length;i<r;++i)for(n in t=arguments[i],t)e[n]=t[n];return e}function pe(e,t){let n,r,o,l,i=0;if(e&&(n=e.length))if(null==t){for(r=e[i];i<n&&(null==r||r!=r);r=e[++i]);for(o=l=r;i<n;++i)r=e[i],null!=r&&(r<o&&(o=r),r>l&&(l=r))}else{for(r=t(e[i]);i<n&&(null==r||r!=r);r=t(e[++i]));for(o=l=r;i<n;++i)r=t(e[i]),null!=r&&(r<o&&(o=r),r>l&&(l=r))}return[o,l]}function ge(e,t){const n=e.length;let a,b,r,u,o,i=-1;if(null==t){for(;++i<n;)if(b=e[i],null!=b&&b>=b){a=r=b;break}if(i===n)return[-1,-1];for(u=o=i;++i<n;)b=e[i],null!=b&&(a>b&&(a=b,u=i),r<b&&(r=b,o=i))}else{for(;++i<n;)if(b=t(e[i],i,e),null!=b&&b>=b){a=r=b;break}if(i===n)return[-1,-1];for(u=o=i;++i<n;)b=t(e[i],i,e),null!=b&&(a>b&&(a=b,u=i),r<b&&(r=b,o=i))}return[u,o]}const _e=Object.prototype.hasOwnProperty;function ye(object,e){return _e.call(object,e)}const be={};function ve(input){let e,t={};function n(e){return ye(t,e)&&t[e]!==be}const map={size:0,empty:0,object:t,has:n,get:e=>n(e)?t[e]:void 0,set(e,r){return n(e)||(++map.size,t[e]===be&&--map.empty),t[e]=r,this},delete(e){return n(e)&&(--map.size,++map.empty,t[e]=be),this},clear(){map.size=map.empty=0,map.object=t={}},test(t){return arguments.length?(e=t,map):e},clean(){const n={};let r=0;for(const o in t){const l=t[o];l===be||e&&e(l)||(n[o]=l,++r)}map.size=r,map.empty=0,map.object=t=n}};return input&&Object.keys(input).forEach(e=>{map.set(e,input[e])}),map}function xe(e,t,n,r,o,l){if(!n&&0!==n)return l;const c=+n;let d,a=e[0],b=z(e);b<a&&(d=a,a=b,b=d),d=Math.abs(t-a);const f=Math.abs(b-t);return d<f&&d<=c?r:f<=c?o:l}function Me(e,t,n){const r=e.prototype=Object.create(t.prototype);return r.constructor=e,me(r,n)}function we(e,t,n,r){let o,l=t[0],c=t[t.length-1];return l>c&&(o=l,l=c,c=o),r=void 0===r||r,((n=void 0===n||n)?l<=e:l<e)&&(r?e<=c:e<c)}function ke(e){return"boolean"==typeof e}function Le(e){return"[object Date]"===Object.prototype.toString.call(e)}function De(e){return e&&oe(e[Symbol.iterator])}function Oe(e){return"number"==typeof e}function je(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function Se(e){return"string"==typeof e}function Ye(e,t,n){e&&(e=t?ie(e).map(e=>e.replace(/\\(.)/g,"$1")):ie(e));const o=e&&e.length,l=n&&n.get||c,map=e=>l(t?[e]:m(e));let d;if(o)if(1===o){const t=map(e[0]);d=function(e){return""+t(e)}}else{const t=e.map(map);d=function(e){let s=""+t[0](e),i=0;for(;++i<o;)s+="|"+t[i](e);return s}}else d=function(){return""};return r(d,e,"key")}function Te(e,t){const n=e[0],r=z(e),o=+t;return o?1===o?r:n+o*(r-n):n}function Ae(e){let t,n,r;e=+e||1e4;const o=()=>{t={},n={},r=0},l=(o,l)=>(++r>e&&(n=t,t={},r=1),t[o]=l);return o(),{clear:o,has:e=>ye(t,e)||ye(n,e),get:e=>ye(t,e)?t[e]:ye(n,e)?l(e,n[e]):void 0,set:(e,n)=>ye(t,e)?t[e]=n:l(e,n)}}function Ee(e,t,n,output){const r=t.length,o=n.length;if(!o)return t;if(!r)return n;const l=output||new t.constructor(r+o);let c=0,d=0,i=0;for(;c<r&&d<o;++i)l[i]=e(t[c],n[d])>0?n[d++]:t[c++];for(;c<r;++c,++i)l[i]=t[c];for(;d<o;++d,++i)l[i]=n[d];return l}function Ce(e,t){let s="";for(;--t>=0;)s+=e;return s}function Fe(e,t,n,r){const o=n||" ",s=e+"",l=t-s.length;return l<=0?s:"left"===r?Ce(o,l)+s:"center"===r?Ce(o,~~(l/2))+s+Ce(o,Math.ceil(l/2)):s+Ce(o,l)}function span(e){return e&&z(e)-e[0]||0}function Pe(e){return A(e)?"["+e.map(Pe)+"]":E(e)||Se(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function Ne(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e}const ze=e=>Oe(e)||Le(e)?e:Date.parse(e);function He(e,t){return t=t||ze,null==e||""===e?null:t(e)}function Re(e){return null==e||""===e?null:e+""}function Ie(e){const s={},t=e.length;for(let i=0;i<t;++i)s[e[i]]=!0;return s}function Be(e,t,n,r){const o=null!=r?r:"",s=e+"",l=s.length,c=Math.max(0,t-o.length);return l<=t?s:"left"===n?o+s.slice(l-c):"center"===n?s.slice(0,Math.ceil(c/2))+o+s.slice(l-~~(c/2)):s.slice(0,c)+o}function $e(e,filter,t){if(e)if(filter){const n=e.length;for(let i=0;i<n;++i){const n=filter(e[i]);n&&t(n,i,e)}}else e.forEach(t)}},,,,,,,function(e,t,n){const r=n(292),{MAX_LENGTH:o,MAX_SAFE_INTEGER:l}=n(291),{re:c,t:d}=n(280),f=n(293),{compareIdentifiers:h}=n(305);class m{constructor(e,t){if(t=f(t),e instanceof m){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?c[d.LOOSE]:c[d.FULL]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>l||this.major<0)throw new TypeError("Invalid major version");if(this.minor>l||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>l||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<l)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof m)){if("string"==typeof e&&e===this.version)return 0;e=new m(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof m||(e=new m(e,this.options)),h(this.major,e.major)||h(this.minor,e.minor)||h(this.patch,e.patch)}comparePre(e){if(e instanceof m||(e=new m(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let i=0;do{const a=this.prerelease[i],b=e.prerelease[i];if(r("prerelease compare",i,a,b),void 0===a&&void 0===b)return 0;if(void 0===b)return 1;if(void 0===a)return-1;if(a!==b)return h(a,b)}while(++i)}compareBuild(e){e instanceof m||(e=new m(e,this.options));let i=0;do{const a=this.build[i],b=e.build[i];if(r("prerelease compare",i,a,b),void 0===a&&void 0===b)return 0;if(void 0===b)return 1;if(void 0===a)return-1;if(a!==b)return h(a,b)}while(++i)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let i=this.prerelease.length;for(;--i>=0;)"number"==typeof this.prerelease[i]&&(this.prerelease[i]++,i=-2);-1===i&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this}}e.exports=m},function(e,t,n){const r=n(273);e.exports=(a,b,e)=>new r(a,e).compare(new r(b,e))},function(e,t,n){class r{constructor(e,t){if(t=l(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof c)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter(e=>!x(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&M(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=`parseRange:${Object.keys(this.options).join(",")}:${e}`,n=o.get(t);if(n)return n;const r=this.options.loose,hr=r?h[m.HYPHENRANGELOOSE]:h[m.HYPHENRANGE];e=e.replace(hr,C(this.options.includePrerelease)),d("hyphen replace",e),e=e.replace(h[m.COMPARATORTRIM],_),d("comparator trim",e,h[m.COMPARATORTRIM]),e=(e=(e=e.replace(h[m.TILDETRIM],y)).replace(h[m.CARETTRIM],v)).split(/\s+/).join(" ");const l=r?h[m.COMPARATORLOOSE]:h[m.COMPARATOR],f=e.split(" ").map(e=>k(e,this.options)).join(" ").split(/\s+/).map(e=>E(e,this.options)).filter(this.options.loose?e=>!!e.match(l):()=>!0).map(e=>new c(e,this.options)),M=(f.length,new Map);for(const e of f){if(x(e))return[e];M.set(e.value,e)}M.size>1&&M.has("")&&M.delete("");const w=[...M.values()];return o.set(t,w),w}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(n=>w(n,t)&&e.set.some(e=>w(e,t)&&n.every(n=>e.every(e=>n.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new f(e,this.options)}catch(e){return!1}for(let i=0;i<this.set.length;i++)if(F(this.set[i],e,this.options))return!0;return!1}}e.exports=r;const o=new(n(501))({max:1e3}),l=n(293),c=n(295),d=n(292),f=n(273),{re:h,t:m,comparatorTrimReplace:_,tildeTrimReplace:y,caretTrimReplace:v}=n(280),x=e=>"<0.0.0-0"===e.value,M=e=>""===e.value,w=(e,t)=>{let n=!0;const r=e.slice();let o=r.pop();for(;n&&r.length;)n=r.every(e=>o.intersects(e,t)),o=r.pop();return n},k=(e,t)=>(d("comp",e,t),e=j(e,t),d("caret",e),e=D(e,t),d("tildes",e),e=Y(e,t),d("xrange",e),e=A(e,t),d("stars",e),e),L=e=>!e||"x"===e.toLowerCase()||"*"===e,D=(e,t)=>e.trim().split(/\s+/).map(e=>O(e,t)).join(" "),O=(e,t)=>{const n=t.loose?h[m.TILDELOOSE]:h[m.TILDE];return e.replace(n,(t,n,r,p,o)=>{let l;return d("tilde",e,t,n,r,p,o),L(n)?l="":L(r)?l=`>=${n}.0.0 <${+n+1}.0.0-0`:L(p)?l=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:o?(d("replaceTilde pr",o),l=`>=${n}.${r}.${p}-${o} <${n}.${+r+1}.0-0`):l=`>=${n}.${r}.${p} <${n}.${+r+1}.0-0`,d("tilde return",l),l})},j=(e,t)=>e.trim().split(/\s+/).map(e=>S(e,t)).join(" "),S=(e,t)=>{d("caret",e,t);const n=t.loose?h[m.CARETLOOSE]:h[m.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(t,n,o,p,l)=>{let c;return d("caret",e,t,n,o,p,l),L(n)?c="":L(o)?c=`>=${n}.0.0${r} <${+n+1}.0.0-0`:L(p)?c="0"===n?`>=${n}.${o}.0${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.0${r} <${+n+1}.0.0-0`:l?(d("replaceCaret pr",l),c="0"===n?"0"===o?`>=${n}.${o}.${p}-${l} <${n}.${o}.${+p+1}-0`:`>=${n}.${o}.${p}-${l} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${p}-${l} <${+n+1}.0.0-0`):(d("no pr"),c="0"===n?"0"===o?`>=${n}.${o}.${p}${r} <${n}.${o}.${+p+1}-0`:`>=${n}.${o}.${p}${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${p} <${+n+1}.0.0-0`),d("caret return",c),c})},Y=(e,t)=>(d("replaceXRanges",e,t),e.split(/\s+/).map(e=>T(e,t)).join(" ")),T=(e,t)=>{e=e.trim();const n=t.loose?h[m.XRANGELOOSE]:h[m.XRANGE];return e.replace(n,(n,r,o,l,p,c)=>{d("xRange",e,n,r,o,l,p,c);const f=L(o),h=f||L(l),m=h||L(p),_=m;return"="===r&&_&&(r=""),c=t.includePrerelease?"-0":"",f?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&_?(h&&(l=0),p=0,">"===r?(r=">=",h?(o=+o+1,l=0,p=0):(l=+l+1,p=0)):"<="===r&&(r="<",h?o=+o+1:l=+l+1),"<"===r&&(c="-0"),n=`${r+o}.${l}.${p}${c}`):h?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:m&&(n=`>=${o}.${l}.0${c} <${o}.${+l+1}.0-0`),d("xRange return",n),n})},A=(e,t)=>(d("replaceStars",e,t),e.trim().replace(h[m.STAR],"")),E=(e,t)=>(d("replaceGTE0",e,t),e.trim().replace(h[t.includePrerelease?m.GTE0PRE:m.GTE0],"")),C=e=>(t,n,r,o,l,c,d,f,h,m,_,y,v)=>`${n=L(r)?"":L(o)?`>=${r}.0.0${e?"-0":""}`:L(l)?`>=${r}.${o}.0${e?"-0":""}`:c?">="+n:`>=${n}${e?"-0":""}`} ${f=L(h)?"":L(m)?`<${+h+1}.0.0-0`:L(_)?`<${h}.${+m+1}.0-0`:y?`<=${h}.${m}.${_}-${y}`:e?`<${h}.${m}.${+_+1}-0`:"<="+f}`.trim(),F=(e,t,n)=>{for(let i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let i=0;i<e.length;i++)if(d(e[i].semver),e[i].semver!==c.ANY&&e[i].semver.prerelease.length>0){const n=e[i].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},,,,,function(e,t,n){const{MAX_SAFE_COMPONENT_LENGTH:r}=n(291),o=n(292),l=(t=e.exports={}).re=[],c=t.src=[],d=t.t={};let f=0;const h=(e,t,n)=>{const r=f++;o(r,t),d[e]=r,c[r]=t,l[r]=new RegExp(t,n?"g":void 0)};h("NUMERICIDENTIFIER","0|[1-9]\\d*"),h("NUMERICIDENTIFIERLOOSE","[0-9]+"),h("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),h("MAINVERSION",`(${c[d.NUMERICIDENTIFIER]})\\.(${c[d.NUMERICIDENTIFIER]})\\.(${c[d.NUMERICIDENTIFIER]})`),h("MAINVERSIONLOOSE",`(${c[d.NUMERICIDENTIFIERLOOSE]})\\.(${c[d.NUMERICIDENTIFIERLOOSE]})\\.(${c[d.NUMERICIDENTIFIERLOOSE]})`),h("PRERELEASEIDENTIFIER",`(?:${c[d.NUMERICIDENTIFIER]}|${c[d.NONNUMERICIDENTIFIER]})`),h("PRERELEASEIDENTIFIERLOOSE",`(?:${c[d.NUMERICIDENTIFIERLOOSE]}|${c[d.NONNUMERICIDENTIFIER]})`),h("PRERELEASE",`(?:-(${c[d.PRERELEASEIDENTIFIER]}(?:\\.${c[d.PRERELEASEIDENTIFIER]})*))`),h("PRERELEASELOOSE",`(?:-?(${c[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[d.PRERELEASEIDENTIFIERLOOSE]})*))`),h("BUILDIDENTIFIER","[0-9A-Za-z-]+"),h("BUILD",`(?:\\+(${c[d.BUILDIDENTIFIER]}(?:\\.${c[d.BUILDIDENTIFIER]})*))`),h("FULLPLAIN",`v?${c[d.MAINVERSION]}${c[d.PRERELEASE]}?${c[d.BUILD]}?`),h("FULL",`^${c[d.FULLPLAIN]}$`),h("LOOSEPLAIN",`[v=\\s]*${c[d.MAINVERSIONLOOSE]}${c[d.PRERELEASELOOSE]}?${c[d.BUILD]}?`),h("LOOSE",`^${c[d.LOOSEPLAIN]}$`),h("GTLT","((?:<|>)?=?)"),h("XRANGEIDENTIFIERLOOSE",c[d.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),h("XRANGEIDENTIFIER",c[d.NUMERICIDENTIFIER]+"|x|X|\\*"),h("XRANGEPLAIN",`[v=\\s]*(${c[d.XRANGEIDENTIFIER]})(?:\\.(${c[d.XRANGEIDENTIFIER]})(?:\\.(${c[d.XRANGEIDENTIFIER]})(?:${c[d.PRERELEASE]})?${c[d.BUILD]}?)?)?`),h("XRANGEPLAINLOOSE",`[v=\\s]*(${c[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[d.XRANGEIDENTIFIERLOOSE]})(?:${c[d.PRERELEASELOOSE]})?${c[d.BUILD]}?)?)?`),h("XRANGE",`^${c[d.GTLT]}\\s*${c[d.XRANGEPLAIN]}$`),h("XRANGELOOSE",`^${c[d.GTLT]}\\s*${c[d.XRANGEPLAINLOOSE]}$`),h("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),h("COERCERTL",c[d.COERCE],!0),h("LONETILDE","(?:~>?)"),h("TILDETRIM",`(\\s*)${c[d.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",h("TILDE",`^${c[d.LONETILDE]}${c[d.XRANGEPLAIN]}$`),h("TILDELOOSE",`^${c[d.LONETILDE]}${c[d.XRANGEPLAINLOOSE]}$`),h("LONECARET","(?:\\^)"),h("CARETTRIM",`(\\s*)${c[d.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",h("CARET",`^${c[d.LONECARET]}${c[d.XRANGEPLAIN]}$`),h("CARETLOOSE",`^${c[d.LONECARET]}${c[d.XRANGEPLAINLOOSE]}$`),h("COMPARATORLOOSE",`^${c[d.GTLT]}\\s*(${c[d.LOOSEPLAIN]})$|^$`),h("COMPARATOR",`^${c[d.GTLT]}\\s*(${c[d.FULLPLAIN]})$|^$`),h("COMPARATORTRIM",`(\\s*)${c[d.GTLT]}\\s*(${c[d.LOOSEPLAIN]}|${c[d.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",h("HYPHENRANGE",`^\\s*(${c[d.XRANGEPLAIN]})\\s+-\\s+(${c[d.XRANGEPLAIN]})\\s*$`),h("HYPHENRANGELOOSE",`^\\s*(${c[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[d.XRANGEPLAINLOOSE]})\\s*$`),h("STAR","(<|>)?=?\\s*\\*"),h("GTE0","^\\s*>=\\s*0.0.0\\s*$"),h("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},function(e,t,n){const{MAX_LENGTH:r}=n(291),{re:o,t:l}=n(280),c=n(273),d=n(293);e.exports=(e,t)=>{if(t=d(t),e instanceof c)return e;if("string"!=typeof e)return null;if(e.length>r)return null;if(!(t.loose?o[l.LOOSE]:o[l.FULL]).test(e))return null;try{return new c(e,t)}catch(e){return null}}},,,,,,,,,,function(e,t){const n=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:n,MAX_SAFE_COMPONENT_LENGTH:16}},function(e,t,n){(function(t){const n="object"==typeof t&&t.env&&t.env.NODE_DEBUG&&/\bsemver\b/i.test(t.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=n}).call(this,n(141))},function(e,t){const n=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:n.filter(t=>e[t]).reduce((e,t)=>(e[t]=!0,e),{}):{}},function(e,t,n){const r=n(274);e.exports=(a,b,e)=>r(a,b,e)>0},function(e,t,n){const r=Symbol("SemVer ANY");class o{static get ANY(){return r}constructor(e,t){if(t=l(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}h("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,h("comp",this)}parse(e){const t=this.options.loose?c[d.COMPARATORLOOSE]:c[d.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new m(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(h("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new m(e,this.options)}catch(e){return!1}return f(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new _(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new _(this.value,t).test(e.semver);const n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),r=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),l=this.semver.version===e.semver.version,c=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),d=f(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),h=f(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||r||l&&c||d||h}}e.exports=o;const l=n(293),{re:c,t:d}=n(280),f=n(452),h=n(292),m=n(273),_=n(275)},function(e,t,n){const r=n(275);e.exports=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)}},,,,,,function(e,t,n){e.exports=function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},n=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[t[r]]=r);var o=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var l in o)if(o.hasOwnProperty(l)){if(!("channels"in o[l]))throw new Error("missing channels property: "+l);if(!("labels"in o[l]))throw new Error("missing channel labels property: "+l);if(o[l].labels.length!==o[l].channels)throw new Error("channel and label counts mismatch: "+l);var c=o[l].channels,d=o[l].labels;delete o[l].channels,delete o[l].labels,Object.defineProperty(o[l],"channels",{value:c}),Object.defineProperty(o[l],"labels",{value:d})}o.rgb.hsl=function(e){var t,n,r=e[0]/255,g=e[1]/255,b=e[2]/255,o=Math.min(r,g,b),l=Math.max(r,g,b),c=l-o;return l===o?t=0:r===l?t=(g-b)/c:g===l?t=2+(b-r)/c:b===l&&(t=4+(r-g)/c),(t=Math.min(60*t,360))<0&&(t+=360),n=(o+l)/2,[t,100*(l===o?0:n<=.5?c/(l+o):c/(2-l-o)),100*n]},o.rgb.hsv=function(e){var t,n,r,o,s,l=e[0]/255,g=e[1]/255,b=e[2]/255,c=Math.max(l,g,b),d=c-Math.min(l,g,b),f=function(e){return(c-e)/6/d+.5};return 0===d?o=s=0:(s=d/c,t=f(l),n=f(g),r=f(b),l===c?o=r-n:g===c?o=1/3+t-r:b===c&&(o=2/3+n-t),o<0?o+=1:o>1&&(o-=1)),[360*o,100*s,100*c]},o.rgb.hwb=function(e){var t=e[0],g=e[1],b=e[2];return[o.rgb.hsl(e)[0],1/255*Math.min(t,Math.min(g,b))*100,100*(b=1-1/255*Math.max(t,Math.max(g,b)))]},o.rgb.cmyk=function(e){var t,n=e[0]/255,g=e[1]/255,b=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-g,1-b)))/(1-t)||0),100*((1-g-t)/(1-t)||0),100*((1-b-t)/(1-t)||0),100*t]},o.rgb.keyword=function(e){var r=n[e];if(r)return r;var o,l,c,d=1/0;for(var f in t)if(t.hasOwnProperty(f)){var h=t[f],m=(l=e,c=h,Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)+Math.pow(l[2]-c[2],2));m<d&&(d=m,o=f)}return o},o.keyword.rgb=function(e){return t[e]},o.rgb.xyz=function(e){var t=e[0]/255,g=e[1]/255,b=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(g=g>.04045?Math.pow((g+.055)/1.055,2.4):g/12.92)+.1805*(b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92)),100*(.2126*t+.7152*g+.0722*b),100*(.0193*t+.1192*g+.9505*b)]},o.rgb.lab=function(e){var t=o.rgb.xyz(e),n=t[0],r=t[1],l=t[2];return r/=100,l/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(l=l>.008856?Math.pow(l,1/3):7.787*l+16/116))]},o.hsl.rgb=function(e){var t,n,r,o,l,c=e[0]/360,s=e[1]/100,d=e[2]/100;if(0===s)return[l=255*d,l,l];t=2*d-(n=d<.5?d*(1+s):d+s-d*s),o=[0,0,0];for(var i=0;i<3;i++)(r=c+1/3*-(i-1))<0&&r++,r>1&&r--,l=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,o[i]=255*l;return o},o.hsl.hsv=function(e){var t=e[0],s=e[1]/100,n=e[2]/100,r=s,o=Math.max(n,.01);return s*=(n*=2)<=1?n:2-n,r*=o<=1?o:2-o,[t,100*(0===n?2*r/(o+r):2*s/(n+s)),(n+s)/2*100]},o.hsv.rgb=function(e){var t=e[0]/60,s=e[1]/100,n=e[2]/100,r=Math.floor(t)%6,o=t-Math.floor(t),p=255*n*(1-s),q=255*n*(1-s*o),l=255*n*(1-s*(1-o));switch(n*=255,r){case 0:return[n,l,p];case 1:return[q,n,p];case 2:return[p,n,l];case 3:return[p,q,n];case 4:return[l,p,n];case 5:return[n,p,q]}},o.hsv.hsl=function(e){var t,n,r,o=e[0],s=e[1]/100,l=e[2]/100,c=Math.max(l,.01);return r=(2-s)*l,n=s*c,[o,100*(n=(n/=(t=(2-s)*c)<=1?t:2-t)||0),100*(r/=2)]},o.hwb.rgb=function(e){var i,t,n,r,o,g,b,l=e[0]/360,c=e[1]/100,d=e[2]/100,f=c+d;switch(f>1&&(c/=f,d/=f),n=6*l-(i=Math.floor(6*l)),0!=(1&i)&&(n=1-n),r=c+n*((t=1-d)-c),i){default:case 6:case 0:o=t,g=r,b=c;break;case 1:o=r,g=t,b=c;break;case 2:o=c,g=t,b=r;break;case 3:o=c,g=r,b=t;break;case 4:o=r,g=c,b=t;break;case 5:o=t,g=c,b=r}return[255*o,255*g,255*b]},o.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,o=e[3]/100;return[255*(1-Math.min(1,t*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o)),255*(1-Math.min(1,r*(1-o)+o))]},o.xyz.rgb=function(e){var t,g,b,n=e[0]/100,r=e[1]/100,o=e[2]/100;return g=-.9689*n+1.8758*r+.0415*o,b=.0557*n+-.204*r+1.057*o,t=(t=3.2406*n+-1.5372*r+-.4986*o)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,g=g>.0031308?1.055*Math.pow(g,1/2.4)-.055:12.92*g,b=b>.0031308?1.055*Math.pow(b,1/2.4)-.055:12.92*b,[255*(t=Math.min(Math.max(0,t),1)),255*(g=Math.min(Math.max(0,g),1)),255*(b=Math.min(Math.max(0,b),1))]},o.xyz.lab=function(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},o.lab.xyz=function(e){var t,n,r,o=e[0];t=e[1]/500+(n=(o+16)/116),r=n-e[2]/200;var l=Math.pow(n,3),c=Math.pow(t,3),d=Math.pow(r,3);return n=l>.008856?l:(n-16/116)/7.787,t=c>.008856?c:(t-16/116)/7.787,r=d>.008856?d:(r-16/116)/7.787,[t*=95.047,n*=100,r*=108.883]},o.lab.lch=function(e){var t,n=e[0],a=e[1],b=e[2];return(t=360*Math.atan2(b,a)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(a*a+b*b),t]},o.lch.lab=function(e){var hr,t=e[0],n=e[1];return hr=e[2]/360*2*Math.PI,[t,n*Math.cos(hr),n*Math.sin(hr)]},o.rgb.ansi16=function(e){var t=e[0],g=e[1],b=e[2],n=1 in arguments?arguments[1]:o.rgb.hsv(e)[2];if(0===(n=Math.round(n/50)))return 30;var r=30+(Math.round(b/255)<<2|Math.round(g/255)<<1|Math.round(t/255));return 2===n&&(r+=60),r},o.hsv.ansi16=function(e){return o.rgb.ansi16(o.hsv.rgb(e),e[2])},o.rgb.ansi256=function(e){var t=e[0],g=e[1],b=e[2];return t===g&&g===b?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(g/255*5)+Math.round(b/255*5)},o.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},o.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},o.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},o.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map((function(e){return e+e})).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},o.rgb.hcg=function(e){var t,n=e[0]/255,g=e[1]/255,b=e[2]/255,r=Math.max(Math.max(n,g),b),o=Math.min(Math.min(n,g),b),l=r-o;return t=l<=0?0:r===n?(g-b)/l%6:r===g?2+(b-n)/l:4+(n-g)/l+4,t/=6,[360*(t%=1),100*l,100*(l<1?o/(1-l):0)]},o.hsl.hcg=function(e){var s=e[1]/100,t=e[2]/100,n=1,r=0;return(n=t<.5?2*s*t:2*s*(1-t))<1&&(r=(t-.5*n)/(1-n)),[e[0],100*n,100*r]},o.hsv.hcg=function(e){var s=e[1]/100,t=e[2]/100,n=s*t,r=0;return n<1&&(r=(t-n)/(1-n)),[e[0],100*n,100*r]},o.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,g=e[2]/100;if(0===n)return[255*g,255*g,255*g];var r,o=[0,0,0],l=t%1*6,c=l%1,d=1-c;switch(Math.floor(l)){case 0:o[0]=1,o[1]=c,o[2]=0;break;case 1:o[0]=d,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=c;break;case 3:o[0]=0,o[1]=d,o[2]=1;break;case 4:o[0]=c,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=d}return r=(1-n)*g,[255*(n*o[0]+r),255*(n*o[1]+r),255*(n*o[2]+r)]},o.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},o.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,s=0;return n>0&&n<.5?s=t/(2*n):n>=.5&&n<1&&(s=t/(2*(1-n))),[e[0],100*s,100*n]},o.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},o.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,r=n-t,g=0;return r<1&&(g=(n-r)/(1-r)),[e[0],100*r,100*g]},o.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},o.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},o.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},o.gray.hsl=o.gray.hsv=function(e){return[0,0,e[0]]},o.gray.hwb=function(e){return[0,100,e[0]]},o.gray.cmyk=function(e){return[0,0,0,e[0]]},o.gray.lab=function(e){return[e[0],0,0]},o.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},o.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}}));function r(e){var t=function(){for(var e={},t=Object.keys(n),r=t.length,i=0;i<r;i++)e[t[i]]={distance:-1,parent:null};return e}(),r=[e];for(t[e].distance=0;r.length;)for(var o=r.pop(),l=Object.keys(n[o]),c=l.length,i=0;i<c;i++){var d=l[i],f=t[d];-1===f.distance&&(f.distance=t[o].distance+1,f.parent=o,r.unshift(d))}return t}function link(e,t){return function(n){return t(e(n))}}function o(e,t){for(var path=[t[e].parent,e],r=n[t[e].parent][e],o=t[e].parent;t[o].parent;)path.unshift(t[o].parent),r=link(n[t[o].parent][o],r),o=t[o].parent;return r.conversion=path,r}n.rgb,n.hsl,n.hsv,n.hwb,n.cmyk,n.xyz,n.lab,n.lch,n.hex,n.keyword,n.ansi16,n.ansi256,n.hcg,n.apple,n.gray;var l={};Object.keys(n).forEach((function(e){l[e]={},Object.defineProperty(l[e],"channels",{value:n[e].channels}),Object.defineProperty(l[e],"labels",{value:n[e].labels});var t=function(e){for(var t=r(e),n={},l=Object.keys(t),c=l.length,i=0;i<c;i++){var d=l[i];null!==t[d].parent&&(n[d]=o(d,t))}return n}(e);Object.keys(t).forEach((function(n){var r=t[n];l[e][n]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"==typeof n)for(var r=n.length,i=0;i<r;i++)n[i]=Math.round(n[i]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(r),l[e][n].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)}))}));var c=l,d={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},f={getRgba:h,getHsla:m,getRgb:function(e){var t=h(e);return t&&t.slice(0,3)},getHsl:function(e){var t=m(e);return t&&t.slice(0,3)},getHwb:_,getAlpha:function(e){var t=h(e);return t||(t=m(e))||(t=_(e))?t[3]:void 0},hexString:function(e,a){return a=void 0!==a&&3===e.length?a:e[3],"#"+w(e[0])+w(e[1])+w(e[2])+(a>=0&&a<1?w(Math.round(255*a)):"")},rgbString:function(e,t){return t<1||e[3]&&e[3]<1?y(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},rgbaString:y,percentString:function(e,t){if(t<1||e[3]&&e[3]<1)return v(e,t);var n=Math.round(e[0]/255*100),g=Math.round(e[1]/255*100),b=Math.round(e[2]/255*100);return"rgb("+n+"%, "+g+"%, "+b+"%)"},percentaString:v,hslString:function(e,t){return t<1||e[3]&&e[3]<1?x(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"},hslaString:x,hwbString:function(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"},keyword:function(e){return k[e.slice(0,3)]}};function h(e){if(e){var t=[0,0,0],a=1,n=e.match(/^#([a-fA-F0-9]{3,4})$/i),r="";if(n){r=(n=n[1])[3];for(var i=0;i<t.length;i++)t[i]=parseInt(n[i]+n[i],16);r&&(a=Math.round(parseInt(r+r,16)/255*100)/100)}else if(n=e.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(r=n[2],n=n[1],i=0;i<t.length;i++)t[i]=parseInt(n.slice(2*i,2*i+2),16);r&&(a=Math.round(parseInt(r,16)/255*100)/100)}else if(n=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(i=0;i<t.length;i++)t[i]=parseInt(n[i+1]);a=parseFloat(n[4])}else if(n=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(i=0;i<t.length;i++)t[i]=Math.round(2.55*parseFloat(n[i+1]));a=parseFloat(n[4])}else if(n=e.match(/(\w+)/)){if("transparent"==n[1])return[0,0,0,0];if(!(t=d[n[1]]))return}for(i=0;i<t.length;i++)t[i]=M(t[i],0,255);return a=a||0==a?M(a,0,1):1,t[3]=a,t}}function m(e){if(e){var t=e.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[M(parseInt(t[1]),0,360),M(parseFloat(t[2]),0,100),M(parseFloat(t[3]),0,100),M(isNaN(n)?1:n,0,1)]}}}function _(e){if(e){var t=e.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[M(parseInt(t[1]),0,360),M(parseFloat(t[2]),0,100),M(parseFloat(t[3]),0,100),M(isNaN(n)?1:n,0,1)]}}}function y(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function v(e,t){return"rgba("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%, "+(t||e[3]||1)+")"}function x(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function M(e,t,n){return Math.min(Math.max(t,e),n)}function w(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}var k={};for(var L in d)k[d[L]]=L;var D=function(e){return e instanceof D?e:this instanceof D?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof e?(t=f.getRgba(e))?this.setValues("rgb",t):(t=f.getHsla(e))?this.setValues("hsl",t):(t=f.getHwb(e))&&this.setValues("hwb",t):"object"==typeof e&&(void 0!==(t=e).r||void 0!==t.red?this.setValues("rgb",t):void 0!==t.l||void 0!==t.lightness?this.setValues("hsl",t):void 0!==t.v||void 0!==t.value?this.setValues("hsv",t):void 0!==t.w||void 0!==t.whiteness?this.setValues("hwb",t):void 0===t.c&&void 0===t.cyan||this.setValues("cmyk",t)))):new D(e);var t};D.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e=(e%=360)<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return f.hexString(this.values.rgb)},rgbString:function(){return f.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return f.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return f.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return f.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return f.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return f.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return f.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],i=0;i<e.length;i++){var n=e[i]/255;t[i]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],i=0;i<3;i++)e[i]=255-this.values.rgb[i];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,n=(t[0]+e)%360;return t[0]=n<0?360+n:n,this.setValues("hsl",t),this},mix:function(e,t){var n=e,p=void 0===t?.5:t,r=2*p-1,a=this.alpha()-n.alpha(),o=((r*a==-1?r:(r+a)/(1+r*a))+1)/2,l=1-o;return this.rgb(o*this.red()+l*n.red(),o*this.green()+l*n.green(),o*this.blue()+l*n.blue()).alpha(this.alpha()*p+n.alpha()*(1-p))},toJSON:function(){return this.rgb()},clone:function(){var e,t,n=new D,source=this.values,r=n.values;for(var o in source)source.hasOwnProperty(o)&&(e=source[o],"[object Array]"===(t={}.toString.call(e))?r[o]=e.slice(0):"[object Number]"===t?r[o]=e:console.error("unexpected color value:",e));return n}},D.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},D.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},D.prototype.getValues=function(e){for(var t=this.values,n={},i=0;i<e.length;i++)n[e.charAt(i)]=t[e][i];return 1!==t.alpha&&(n.a=t.alpha),n},D.prototype.setValues=function(e,t){var i,n,r=this.values,o=this.spaces,l=this.maxes,d=1;if(this.valid=!0,"alpha"===e)d=t;else if(t.length)r[e]=t.slice(0,e.length),d=t[e.length];else if(void 0!==t[e.charAt(0)]){for(i=0;i<e.length;i++)r[e][i]=t[e.charAt(i)];d=t.a}else if(void 0!==t[o[e][0]]){var f=o[e];for(i=0;i<e.length;i++)r[e][i]=t[f[i]];d=t.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===d?r.alpha:d)),"alpha"===e)return!1;for(i=0;i<e.length;i++)n=Math.max(0,Math.min(l[e][i],r[e][i])),r[e][i]=Math.round(n);for(var h in o)h!==e&&(r[h]=c[e][h](r[e]));return!0},D.prototype.setSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},D.prototype.setChannel=function(e,t,n){var r=this.values[e];return void 0===n?r[t]:(n===r[t]||(r[t]=n,this.setValues(e,r)),this)},"undefined"!=typeof window&&(window.Color=D);var O=D;function j(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}var S,Y={noop:function(){},uid:(S=0,function(){return S++}),isNullOrUndef:function(e){return null==e},isArray:function(e){if(Array.isArray&&Array.isArray(e))return!0;var t=Object.prototype.toString.call(e);return"[object"===t.substr(0,7)&&"Array]"===t.substr(-6)},isObject:function(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)},isFinite:function(e){return("number"==typeof e||e instanceof Number)&&isFinite(e)},valueOrDefault:function(e,t){return void 0===e?t:e},valueAtIndexOrDefault:function(e,t,n){return Y.valueOrDefault(Y.isArray(e)?e[t]:e,n)},callback:function(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)},each:function(e,t,n,r){var i,o,l;if(Y.isArray(e))if(o=e.length,r)for(i=o-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<o;i++)t.call(n,e[i],i);else if(Y.isObject(e))for(o=(l=Object.keys(e)).length,i=0;i<o;i++)t.call(n,e[l[i]],l[i])},arrayEquals:function(e,t){var i,n,r,o;if(!e||!t||e.length!==t.length)return!1;for(i=0,n=e.length;i<n;++i)if(r=e[i],o=t[i],r instanceof Array&&o instanceof Array){if(!Y.arrayEquals(r,o))return!1}else if(r!==o)return!1;return!0},clone:function(source){if(Y.isArray(source))return source.map(Y.clone);if(Y.isObject(source)){for(var e=Object.create(source),t=Object.keys(source),n=t.length,r=0;r<n;++r)e[t[r]]=Y.clone(source[t[r]]);return e}return source},_merger:function(e,t,source,n){if(j(e)){var r=t[e],o=source[e];Y.isObject(r)&&Y.isObject(o)?Y.merge(r,o,n):t[e]=Y.clone(o)}},_mergerIf:function(e,t,source){if(j(e)){var n=t[e],r=source[e];Y.isObject(n)&&Y.isObject(r)?Y.mergeIf(n,r):t.hasOwnProperty(e)||(t[e]=Y.clone(r))}},merge:function(e,source,t){var n,i,r,o,l,c=Y.isArray(source)?source:[source],d=c.length;if(!Y.isObject(e))return e;for(n=(t=t||{}).merger||Y._merger,i=0;i<d;++i)if(source=c[i],Y.isObject(source))for(l=0,o=(r=Object.keys(source)).length;l<o;++l)n(r[l],e,source,t);return e},mergeIf:function(e,source){return Y.merge(e,source,{merger:Y._mergerIf})},extend:Object.assign||function(e){return Y.merge(e,[].slice.call(arguments,1),{merger:function(e,t,n){t[e]=n[e]}})},inherits:function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},r=function(){this.constructor=n};return r.prototype=t.prototype,n.prototype=new r,n.extend=Y.inherits,e&&Y.extend(n.prototype,e),n.__super__=t.prototype,n},_deprecated:function(e,t,n,r){void 0!==t&&console.warn(e+': "'+n+'" is deprecated. Please use "'+r+'" instead')}},T=Y;Y.callCallback=Y.callback,Y.indexOf=function(e,t,n){return Array.prototype.indexOf.call(e,t,n)},Y.getValueOrDefault=Y.valueOrDefault,Y.getValueAtIndexOrDefault=Y.valueAtIndexOrDefault;var A={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var s=1.70158,p=0,a=1;return 0===e?0:1===e?1:(p||(p=.3),a<1?(a=1,s=p/4):s=p/(2*Math.PI)*Math.asin(1/a),-a*Math.pow(2,10*(e-=1))*Math.sin((e-s)*(2*Math.PI)/p))},easeOutElastic:function(e){var s=1.70158,p=0,a=1;return 0===e?0:1===e?1:(p||(p=.3),a<1?(a=1,s=p/4):s=p/(2*Math.PI)*Math.asin(1/a),a*Math.pow(2,-10*e)*Math.sin((e-s)*(2*Math.PI)/p)+1)},easeInOutElastic:function(e){var s=1.70158,p=0,a=1;return 0===e?0:2==(e/=.5)?1:(p||(p=.45),a<1?(a=1,s=p/4):s=p/(2*Math.PI)*Math.asin(1/a),e<1?a*Math.pow(2,10*(e-=1))*Math.sin((e-s)*(2*Math.PI)/p)*-.5:a*Math.pow(2,-10*(e-=1))*Math.sin((e-s)*(2*Math.PI)/p)*.5+1)},easeInBack:function(e){var s=1.70158;return e*e*((s+1)*e-s)},easeOutBack:function(e){var s=1.70158;return(e-=1)*e*((s+1)*e+s)+1},easeInOutBack:function(e){var s=1.70158;return(e/=.5)<1?e*e*((1+(s*=1.525))*e-s)*.5:.5*((e-=2)*e*((1+(s*=1.525))*e+s)+2)},easeInBounce:function(e){return 1-A.easeOutBounce(1-e)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*A.easeInBounce(2*e):.5*A.easeOutBounce(2*e-1)+.5}},E={effects:A};T.easingEffects=A;var C=Math.PI,F=C/180,P=2*C,N=C/2,z=C/4,H=2*C/3,R={clear:function(e){e.ctx.clearRect(0,0,e.width,e.height)},roundedRect:function(e,t,n,r,o,l){if(l){var c=Math.min(l,o/2,r/2),d=t+c,f=n+c,h=t+r-c,m=n+o-c;e.moveTo(t,f),d<h&&f<m?(e.arc(d,f,c,-C,-N),e.arc(h,f,c,-N,0),e.arc(h,m,c,0,N),e.arc(d,m,c,N,C)):d<h?(e.moveTo(d,n),e.arc(h,f,c,-N,N),e.arc(d,f,c,N,C+N)):f<m?(e.arc(d,f,c,-C,0),e.arc(d,m,c,0,C)):e.arc(d,f,c,-C,C),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,r,o)},drawPoint:function(e,style,t,n,r,o){var l,c,d,f,h,m=(o||0)*F;if(style&&"object"==typeof style&&("[object HTMLImageElement]"===(l=style.toString())||"[object HTMLCanvasElement]"===l))return e.save(),e.translate(n,r),e.rotate(m),e.drawImage(style,-style.width/2,-style.height/2,style.width,style.height),void e.restore();if(!(isNaN(t)||t<=0)){switch(e.beginPath(),style){default:e.arc(n,r,t,0,P),e.closePath();break;case"triangle":e.moveTo(n+Math.sin(m)*t,r-Math.cos(m)*t),m+=H,e.lineTo(n+Math.sin(m)*t,r-Math.cos(m)*t),m+=H,e.lineTo(n+Math.sin(m)*t,r-Math.cos(m)*t),e.closePath();break;case"rectRounded":f=t-(h=.516*t),c=Math.cos(m+z)*f,d=Math.sin(m+z)*f,e.arc(n-c,r-d,h,m-C,m-N),e.arc(n+d,r-c,h,m-N,m),e.arc(n+c,r+d,h,m,m+N),e.arc(n-d,r+c,h,m+N,m+C),e.closePath();break;case"rect":if(!o){f=Math.SQRT1_2*t,e.rect(n-f,r-f,2*f,2*f);break}m+=z;case"rectRot":c=Math.cos(m)*t,d=Math.sin(m)*t,e.moveTo(n-c,r-d),e.lineTo(n+d,r-c),e.lineTo(n+c,r+d),e.lineTo(n-d,r+c),e.closePath();break;case"crossRot":m+=z;case"cross":c=Math.cos(m)*t,d=Math.sin(m)*t,e.moveTo(n-c,r-d),e.lineTo(n+c,r+d),e.moveTo(n+d,r-c),e.lineTo(n-d,r+c);break;case"star":c=Math.cos(m)*t,d=Math.sin(m)*t,e.moveTo(n-c,r-d),e.lineTo(n+c,r+d),e.moveTo(n+d,r-c),e.lineTo(n-d,r+c),m+=z,c=Math.cos(m)*t,d=Math.sin(m)*t,e.moveTo(n-c,r-d),e.lineTo(n+c,r+d),e.moveTo(n+d,r-c),e.lineTo(n-d,r+c);break;case"line":c=Math.cos(m)*t,d=Math.sin(m)*t,e.moveTo(n-c,r-d),e.lineTo(n+c,r+d);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(m)*t,r+Math.sin(m)*t)}e.fill(),e.stroke()}},_isPointInArea:function(e,area){return e.x>area.left-1e-6&&e.x<area.right+1e-6&&e.y>area.top-1e-6&&e.y<area.bottom+1e-6},clipArea:function(e,area){e.save(),e.beginPath(),e.rect(area.left,area.top,area.right-area.left,area.bottom-area.top),e.clip()},unclipArea:function(e){e.restore()},lineTo:function(e,t,n,r){var o=n.steppedLine;if(o){if("middle"===o){var l=(t.x+n.x)/2;e.lineTo(l,r?n.y:t.y),e.lineTo(l,r?t.y:n.y)}else"after"===o&&!r||"after"!==o&&r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}else n.tension?e.bezierCurveTo(r?t.controlPointPreviousX:t.controlPointNextX,r?t.controlPointPreviousY:t.controlPointNextY,r?n.controlPointNextX:n.controlPointPreviousX,r?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):e.lineTo(n.x,n.y)}},I=R;T.clear=R.clear,T.drawRoundedRectangle=function(e){e.beginPath(),R.roundedRect.apply(R,arguments)};var B={_set:function(e,t){return T.merge(this[e]||(this[e]={}),t)}};B._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var $=B,W=T.valueOrDefault,U={toLineHeight:function(e,t){var n=(""+e).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e},toPadding:function(e){var t,n,b,r;return T.isObject(e)?(t=+e.top||0,n=+e.right||0,b=+e.bottom||0,r=+e.left||0):t=n=b=r=+e||0,{top:t,right:n,bottom:b,left:r,height:t+b,width:r+n}},_parseFont:function(e){var t=$.global,n=W(e.fontSize,t.defaultFontSize),r={family:W(e.fontFamily,t.defaultFontFamily),lineHeight:T.options.toLineHeight(W(e.lineHeight,t.defaultLineHeight),n),size:n,style:W(e.fontStyle,t.defaultFontStyle),weight:null,string:""};return r.string=function(e){return!e||T.isNullOrUndef(e.size)||T.isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(r),r},resolve:function(e,t,n,r){var i,o,l,c=!0;for(i=0,o=e.length;i<o;++i)if(void 0!==(l=e[i])&&(void 0!==t&&"function"==typeof l&&(l=l(t),c=!1),void 0!==n&&T.isArray(l)&&(l=l[n],c=!1),void 0!==l))return r&&!c&&(r.cacheable=!1),l}},V={_factorize:function(e){var i,t=[],n=Math.sqrt(e);for(i=1;i<n;i++)e%i==0&&(t.push(i),t.push(e/i));return n===(0|n)&&t.push(n),t.sort((function(a,b){return a-b})).pop(),t},log10:Math.log10||function(e){var t=Math.log(e)*Math.LOG10E,n=Math.round(t);return e===Math.pow(10,n)?n:t}},J=V;T.log10=V.log10;var G=T,X=E,canvas=I,Z=U,K=J,Q={getRtlAdapter:function(e,t,n){return e?function(e,t){return{x:function(n){return e+e+t-n},setWidth:function(e){t=e},textAlign:function(e){return"center"===e?e:"right"===e?"left":"right"},xPlus:function(e,t){return e-t},leftForLtr:function(e,t){return e-t}}}(t,n):{x:function(e){return e},setWidth:function(e){},textAlign:function(e){return e},xPlus:function(e,t){return e+t},leftForLtr:function(e,t){return e}}},overrideTextDirection:function(e,t){var style,n;"ltr"!==t&&"rtl"!==t||(n=[(style=e.canvas.style).getPropertyValue("direction"),style.getPropertyPriority("direction")],style.setProperty("direction",t,"important"),e.prevTextDirection=n)},restoreTextDirection:function(e){var t=e.prevTextDirection;void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}};G.easing=X,G.canvas=canvas,G.options=Z,G.math=K,G.rtl=Q;var ee=function(e){G.extend(this,e),this.initialize.apply(this,arguments)};G.extend(ee.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=G.extend({},e._model)),e._start={},e},transition:function(e){var t=this,n=t._model,r=t._start,view=t._view;return n&&1!==e?(view||(view=t._view={}),r||(r=t._start={}),function(e,view,t,n){var i,r,o,l,c,d,f,h,m,_=Object.keys(t);for(i=0,r=_.length;i<r;++i)if(d=t[o=_[i]],view.hasOwnProperty(o)||(view[o]=d),(l=view[o])!==d&&"_"!==o[0]){if(e.hasOwnProperty(o)||(e[o]=l),(f=typeof d)==typeof(c=e[o]))if("string"===f){if((h=O(c)).valid&&(m=O(d)).valid){view[o]=m.mix(h,n).rgbString();continue}}else if(G.isFinite(c)&&G.isFinite(d)){view[o]=c+(d-c)*n;continue}view[o]=d}}(r,view,n,e),t):(t._view=G.extend({},n),t._start=null,t)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return G.isNumber(this._model.x)&&G.isNumber(this._model.y)}}),ee.extend=G.inherits;var te=ee,ne=te.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),re=ne;Object.defineProperty(ne.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(ne.prototype,"chartInstance",{get:function(){return this.chart},set:function(e){this.chart=e}}),$._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:G.noop,onComplete:G.noop}});var ie={animations:[],request:null,addAnimation:function(e,t,n,r){var i,o,l=this.animations;for(t.chart=e,t.startTime=Date.now(),t.duration=n,r||(e.animating=!0),i=0,o=l.length;i<o;++i)if(l[i].chart===e)return void(l[i]=t);l.push(t),1===l.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var t=G.findIndex(this.animations,(function(t){return t.chart===e}));-1!==t&&(this.animations.splice(t,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=G.requestAnimFrame.call(window,(function(){e.request=null,e.startDigest()})))},startDigest:function(){this.advance(),this.animations.length>0&&this.requestAnimationFrame()},advance:function(){for(var e,t,n,r,o=this.animations,i=0;i<o.length;)t=(e=o[i]).chart,n=e.numSteps,r=Math.floor((Date.now()-e.startTime)/e.duration*n)+1,e.currentStep=Math.min(r,n),G.callback(e.render,[t,e],t),G.callback(e.onAnimationProgress,[e],t),e.currentStep>=n?(G.callback(e.onAnimationComplete,[e],t),t.animating=!1,o.splice(i,1)):++i}},ae=G.options.resolve,oe=["push","pop","shift","splice","unshift"];function se(e,t){var n=e._chartjs;if(n){var r=n.listeners,o=r.indexOf(t);-1!==o&&r.splice(o,1),r.length>0||(oe.forEach((function(t){delete e[t]})),delete e._chartjs)}}var le=function(e,t){this.initialize(e,t)};G.extend(le.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(e,t){var n=this;n.chart=e,n.index=t,n.linkScales(),n.addElements(),n._type=n.getMeta().type},updateIndex:function(e){this.index=e},linkScales:function(){var meta=this.getMeta(),e=this.chart,t=e.scales,n=this.getDataset(),r=e.options.scales;null!==meta.xAxisID&&meta.xAxisID in t&&!n.xAxisID||(meta.xAxisID=n.xAxisID||r.xAxes[0].id),null!==meta.yAxisID&&meta.yAxisID in t&&!n.yAxisID||(meta.yAxisID=n.yAxisID||r.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&se(this._data,this)},createMetaDataset:function(){var e=this.datasetElementType;return e&&new e({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(e){var t=this.dataElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index,_index:e})},addElements:function(){var i,e,meta=this.getMeta(),data=this.getDataset().data||[],t=meta.data;for(i=0,e=data.length;i<e;++i)t[i]=t[i]||this.createMetaData(i);meta.dataset=meta.dataset||this.createMetaDataset()},addElementAndReset:function(e){var element=this.createMetaData(e);this.getMeta().data.splice(e,0,element),this.updateElement(element,e,!0)},buildOrUpdateElements:function(){var e,t,n=this,r=n.getDataset(),data=r.data||(r.data=[]);n._data!==data&&(n._data&&se(n._data,n),data&&Object.isExtensible(data)&&(t=n,(e=data)._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),oe.forEach((function(t){var n="onData"+t.charAt(0).toUpperCase()+t.slice(1),base=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){var t=Array.prototype.slice.call(arguments),r=base.apply(this,t);return G.each(e._chartjs.listeners,(function(object){"function"==typeof object[n]&&object[n].apply(object,t)})),r}})})))),n._data=data),n.resyncElements()},_configure:function(){this._config=G.merge(Object.create(null),[this.chart.options.datasets[this._type],this.getDataset()],{merger:function(e,t,source){"_meta"!==e&&"data"!==e&&G._merger(e,t,source)}})},_update:function(e){this._configure(),this._cachedDataOpts=null,this.update(e)},update:G.noop,transition:function(e){for(var meta=this.getMeta(),t=meta.data||[],n=t.length,i=0;i<n;++i)t[i].transition(e);meta.dataset&&meta.dataset.transition(e)},draw:function(){var meta=this.getMeta(),e=meta.data||[],t=e.length,i=0;for(meta.dataset&&meta.dataset.draw();i<t;++i)e[i].draw()},getStyle:function(e){var style,meta=this.getMeta(),t=meta.dataset;return this._configure(),t&&void 0===e?style=this._resolveDatasetElementOptions(t||{}):(e=e||0,style=this._resolveDataElementOptions(meta.data[e]||{},e)),!1!==style.fill&&null!==style.fill||(style.backgroundColor=style.borderColor),style},_resolveDatasetElementOptions:function(element,e){var i,t,n,r,o=this,l=o.chart,c=o._config,d=element.custom||{},f=l.options.elements[o.datasetElementType.prototype._type]||{},h=o._datasetElementOptions,m={},_={chart:l,dataset:o.getDataset(),datasetIndex:o.index,hover:e};for(i=0,t=h.length;i<t;++i)n=h[i],r=e?"hover"+n.charAt(0).toUpperCase()+n.slice(1):n,m[n]=ae([d[r],c[r],f[r]],_);return m},_resolveDataElementOptions:function(element,e){var t=this,n=element&&element.custom,r=t._cachedDataOpts;if(r&&!n)return r;var o,i,l,c,d=t.chart,f=t._config,h=d.options.elements[t.dataElementType.prototype._type]||{},m=t._dataElementOptions,_={},y={chart:d,dataIndex:e,dataset:t.getDataset(),datasetIndex:t.index},v={cacheable:!n};if(n=n||{},G.isArray(m))for(i=0,l=m.length;i<l;++i)_[c=m[i]]=ae([n[c],f[c],h[c]],y,e,v);else for(i=0,l=(o=Object.keys(m)).length;i<l;++i)_[c=o[i]]=ae([n[c],f[m[c]],f[c],h[c]],y,e,v);return v.cacheable&&(t._cachedDataOpts=Object.freeze(_)),_},removeHoverStyle:function(element){G.merge(element._model,element.$previousStyle||{}),delete element.$previousStyle},setHoverStyle:function(element){var e=this.chart.data.datasets[element._datasetIndex],t=element._index,n=element.custom||{},r=element._model,o=G.getHoverColor;element.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth},r.backgroundColor=ae([n.hoverBackgroundColor,e.hoverBackgroundColor,o(r.backgroundColor)],void 0,t),r.borderColor=ae([n.hoverBorderColor,e.hoverBorderColor,o(r.borderColor)],void 0,t),r.borderWidth=ae([n.hoverBorderWidth,e.hoverBorderWidth,r.borderWidth],void 0,t)},_removeDatasetHoverStyle:function(){var element=this.getMeta().dataset;element&&this.removeHoverStyle(element)},_setDatasetHoverStyle:function(){var i,e,t,n,r,o,element=this.getMeta().dataset,l={};if(element){for(o=element._model,r=this._resolveDatasetElementOptions(element,!0),i=0,e=(n=Object.keys(r)).length;i<e;++i)l[t=n[i]]=o[t],o[t]=r[t];element.$previousStyle=l}},resyncElements:function(){var meta=this.getMeta(),data=this.getDataset().data,e=meta.data.length,t=data.length;t<e?meta.data.splice(t,e-t):t>e&&this.insertElements(e,t-e)},insertElements:function(e,t){for(var i=0;i<t;++i)this.addElementAndReset(e+i)},onDataPush:function(){var e=arguments.length;this.insertElements(this.getDataset().data.length-e,e)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,t){this.getMeta().data.splice(e,t),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),le.extend=G.inherits;var ue=le,ce=2*Math.PI;function de(e,t){var n=t.startAngle,r=t.endAngle,o=t.pixelMargin,l=o/t.outerRadius,c=t.x,d=t.y;e.beginPath(),e.arc(c,d,t.outerRadius,n-l,r+l),t.innerRadius>o?(l=o/t.innerRadius,e.arc(c,d,t.innerRadius-o,r+l,n-l,!0)):e.arc(c,d,o,r+Math.PI/2,n-Math.PI/2),e.closePath(),e.clip()}function fe(e,t,n){var r="inner"===t.borderAlign;r?(e.lineWidth=2*t.borderWidth,e.lineJoin="round"):(e.lineWidth=t.borderWidth,e.lineJoin="bevel"),n.fullCircles&&function(e,t,n,r){var i,o=n.endAngle;for(r&&(n.endAngle=n.startAngle+ce,de(e,n),n.endAngle=o,n.endAngle===n.startAngle&&n.fullCircles&&(n.endAngle+=ce,n.fullCircles--)),e.beginPath(),e.arc(n.x,n.y,n.innerRadius,n.startAngle+ce,n.startAngle,!0),i=0;i<n.fullCircles;++i)e.stroke();for(e.beginPath(),e.arc(n.x,n.y,t.outerRadius,n.startAngle,n.startAngle+ce),i=0;i<n.fullCircles;++i)e.stroke()}(e,t,n,r),r&&de(e,n),e.beginPath(),e.arc(n.x,n.y,t.outerRadius,n.startAngle,n.endAngle),e.arc(n.x,n.y,n.innerRadius,n.endAngle,n.startAngle,!0),e.closePath(),e.stroke()}$._set("global",{elements:{arc:{backgroundColor:$.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var he=te.extend({_type:"arc",inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,t){var n=this._view;if(n){for(var r=G.getAngleFromPoint(n,{x:e,y:t}),o=r.angle,l=r.distance,c=n.startAngle,d=n.endAngle;d<c;)d+=ce;for(;o>d;)o-=ce;for(;o<c;)o+=ce;var f=o>=c&&o<=d,h=l>=n.innerRadius&&l<=n.outerRadius;return f&&h}return!1},getCenterPoint:function(){var e=this._view,t=(e.startAngle+e.endAngle)/2,n=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,n=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},draw:function(){var i,e=this._chart.ctx,t=this._view,n="inner"===t.borderAlign?.33:0,r={x:t.x,y:t.y,innerRadius:t.innerRadius,outerRadius:Math.max(t.outerRadius-n,0),pixelMargin:n,startAngle:t.startAngle,endAngle:t.endAngle,fullCircles:Math.floor(t.circumference/ce)};if(e.save(),e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,r.fullCircles){for(r.endAngle=r.startAngle+ce,e.beginPath(),e.arc(r.x,r.y,r.outerRadius,r.startAngle,r.endAngle),e.arc(r.x,r.y,r.innerRadius,r.endAngle,r.startAngle,!0),e.closePath(),i=0;i<r.fullCircles;++i)e.fill();r.endAngle=r.startAngle+t.circumference%ce}e.beginPath(),e.arc(r.x,r.y,r.outerRadius,r.startAngle,r.endAngle),e.arc(r.x,r.y,r.innerRadius,r.endAngle,r.startAngle,!0),e.closePath(),e.fill(),t.borderWidth&&fe(e,t,r),e.restore()}}),me=G.valueOrDefault,pe=$.global.defaultColor;$._set("global",{elements:{line:{tension:.4,backgroundColor:pe,borderWidth:3,borderColor:pe,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var ge=te.extend({_type:"line",draw:function(){var e,t,n,r=this,o=r._view,l=r._chart.ctx,c=o.spanGaps,d=r._children.slice(),f=$.global,h=f.elements.line,m=-1,_=r._loop;if(d.length){if(r._loop){for(e=0;e<d.length;++e)if(t=G.previousItem(d,e),!d[e]._view.skip&&t._view.skip){d=d.slice(e).concat(d.slice(0,e)),_=c;break}_&&d.push(d[0])}for(l.save(),l.lineCap=o.borderCapStyle||h.borderCapStyle,l.setLineDash&&l.setLineDash(o.borderDash||h.borderDash),l.lineDashOffset=me(o.borderDashOffset,h.borderDashOffset),l.lineJoin=o.borderJoinStyle||h.borderJoinStyle,l.lineWidth=me(o.borderWidth,h.borderWidth),l.strokeStyle=o.borderColor||f.defaultColor,l.beginPath(),(n=d[0]._view).skip||(l.moveTo(n.x,n.y),m=0),e=1;e<d.length;++e)n=d[e]._view,t=-1===m?G.previousItem(d,e):d[m],n.skip||(m!==e-1&&!c||-1===m?l.moveTo(n.x,n.y):G.canvas.lineTo(l,t._view,n),m=e);_&&l.closePath(),l.stroke(),l.restore()}}}),_e=G.valueOrDefault,ye=$.global.defaultColor;function be(e){var t=this._view;return!!t&&Math.abs(e-t.x)<t.radius+t.hitRadius}$._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:ye,borderColor:ye,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var ve=te.extend({_type:"point",inRange:function(e,t){var n=this._view;return!!n&&Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:be,inXRange:be,inYRange:function(e){var t=this._view;return!!t&&Math.abs(e-t.y)<t.radius+t.hitRadius},getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(e){var t=this._view,n=this._chart.ctx,r=t.pointStyle,o=t.rotation,l=t.radius,c=t.x,d=t.y,f=$.global,h=f.defaultColor;t.skip||(void 0===e||G.canvas._isPointInArea(t,e))&&(n.strokeStyle=t.borderColor||h,n.lineWidth=_e(t.borderWidth,f.elements.point.borderWidth),n.fillStyle=t.backgroundColor||h,G.canvas.drawPoint(n,r,l,c,d,o))}}),xe=$.global.defaultColor;function Me(e){return e&&void 0!==e.width}function we(e){var t,n,r,o,l;return Me(e)?(l=e.width/2,t=e.x-l,n=e.x+l,r=Math.min(e.y,e.base),o=Math.max(e.y,e.base)):(l=e.height/2,t=Math.min(e.x,e.base),n=Math.max(e.x,e.base),r=e.y-l,o=e.y+l),{left:t,top:r,right:n,bottom:o}}function ke(e,t,n){return e===t?n:e===n?t:e}function Le(e,t,n){var r,o,b,l,c=e.borderWidth,d=function(e){var t=e.borderSkipped,n={};return t?(e.horizontal?e.base>e.x&&(t=ke(t,"left","right")):e.base<e.y&&(t=ke(t,"bottom","top")),n[t]=!0,n):n}(e);return G.isObject(c)?(r=+c.top||0,o=+c.right||0,b=+c.bottom||0,l=+c.left||0):r=o=b=l=+c||0,{t:d.top||r<0?0:r>n?n:r,r:d.right||o<0?0:o>t?t:o,b:d.bottom||b<0?0:b>n?n:b,l:d.left||l<0?0:l>t?t:l}}function De(e,t,n){var r=null===t,o=null===n,l=!(!e||r&&o)&&we(e);return l&&(r||t>=l.left&&t<=l.right)&&(o||n>=l.top&&n<=l.bottom)}$._set("global",{elements:{rectangle:{backgroundColor:xe,borderColor:xe,borderSkipped:"bottom",borderWidth:0}}});var Oe=te.extend({_type:"rectangle",draw:function(){var e=this._chart.ctx,t=this._view,n=function(e){var t=we(e),n=t.right-t.left,r=t.bottom-t.top,o=Le(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r},inner:{x:t.left+o.l,y:t.top+o.t,w:n-o.l-o.r,h:r-o.t-o.b}}}(t),r=n.outer,o=n.inner;e.fillStyle=t.backgroundColor,e.fillRect(r.x,r.y,r.w,r.h),r.w===o.w&&r.h===o.h||(e.save(),e.beginPath(),e.rect(r.x,r.y,r.w,r.h),e.clip(),e.fillStyle=t.borderColor,e.rect(o.x,o.y,o.w,o.h),e.fill("evenodd"),e.restore())},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){return De(this._view,e,t)},inLabelRange:function(e,t){var n=this._view;return Me(n)?De(n,e,null):De(n,null,t)},inXRange:function(e){return De(this._view,e,null)},inYRange:function(e){return De(this._view,null,e)},getCenterPoint:function(){var e,t,n=this._view;return Me(n)?(e=n.x,t=(n.y+n.base)/2):(e=(n.x+n.base)/2,t=n.y),{x:e,y:t}},getArea:function(){var e=this._view;return Me(e)?e.width*Math.abs(e.y-e.base):e.height*Math.abs(e.x-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}}),je={},Se=he,Ye=ge,Te=ve,Ae=Oe;je.Arc=Se,je.Line=Ye,je.Point=Te,je.Rectangle=Ae;var Ee=G._deprecated,Ce=G.valueOrDefault;function Fe(e,t,n){var r,o,l=n.barThickness,c=t.stackCount,d=t.pixels[e],f=G.isNullOrUndef(l)?function(e,t){var n,r,i,o,l=e._length;for(i=1,o=t.length;i<o;++i)l=Math.min(l,Math.abs(t[i]-t[i-1]));for(i=0,o=e.getTicks().length;i<o;++i)r=e.getPixelForTick(i),l=i>0?Math.min(l,Math.abs(r-n)):l,n=r;return l}(t.scale,t.pixels):-1;return G.isNullOrUndef(l)?(r=f*n.categoryPercentage,o=n.barPercentage):(r=l*c,o=1),{chunk:r/c,ratio:o,start:d-r/2}}$._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),$._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var Pe=ue.extend({dataElementType:je.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var meta,e,t=this;ue.prototype.initialize.apply(t,arguments),(meta=t.getMeta()).stack=t.getDataset().stack,meta.bar=!0,e=t._getIndexScale().options,Ee("bar chart",e.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),Ee("bar chart",e.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),Ee("bar chart",e.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),Ee("bar chart",t._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),Ee("bar chart",e.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(e){var i,t,n=this.getMeta().data;for(this._ruler=this.getRuler(),i=0,t=n.length;i<t;++i)this.updateElement(n[i],i,e)},updateElement:function(e,t,n){var r=this,meta=r.getMeta(),o=r.getDataset(),l=r._resolveDataElementOptions(e,t);e._xScale=r.getScaleForId(meta.xAxisID),e._yScale=r.getScaleForId(meta.yAxisID),e._datasetIndex=r.index,e._index=t,e._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderSkipped:l.borderSkipped,borderWidth:l.borderWidth,datasetLabel:o.label,label:r.chart.data.labels[t]},G.isArray(o.data[t])&&(e._model.borderSkipped=null),r._updateElementGeometry(e,t,n,l),e.pivot()},_updateElementGeometry:function(e,t,n,r){var o=this,l=e._model,c=o._getValueScale(),base=c.getBasePixel(),d=c.isHorizontal(),f=o._ruler||o.getRuler(),h=o.calculateBarValuePixels(o.index,t,r),m=o.calculateBarIndexPixels(o.index,t,f,r);l.horizontal=d,l.base=n?base:h.base,l.x=d?n?base:h.head:m.center,l.y=d?m.center:n?base:h.head,l.height=d?m.size:void 0,l.width=d?void 0:m.size},_getStacks:function(e){var i,meta,t=this._getIndexScale(),n=t._getMatchingVisibleMetas(this._type),r=t.options.stacked,o=n.length,l=[];for(i=0;i<o&&(meta=n[i],(!1===r||-1===l.indexOf(meta.stack)||void 0===r&&void 0===meta.stack)&&l.push(meta.stack),meta.index!==e);++i);return l},getStackCount:function(){return this._getStacks().length},getStackIndex:function(e,t){var n=this._getStacks(e),r=void 0!==t?n.indexOf(t):-1;return-1===r?n.length-1:r},getRuler:function(){var i,e,t=this._getIndexScale(),n=[];for(i=0,e=this.getMeta().data.length;i<e;++i)n.push(t.getPixelForValue(null,i,this.index));return{pixels:n,start:t._startPixel,end:t._endPixel,stackCount:this.getStackCount(),scale:t}},calculateBarValuePixels:function(e,t,n){var i,r,o,base,head,l,c,d=this.chart,f=this._getValueScale(),h=f.isHorizontal(),m=d.data.datasets,_=f._getMatchingVisibleMetas(this._type),y=f._parseValue(m[e].data[t]),v=n.minBarLength,x=f.options.stacked,M=this.getMeta().stack,w=void 0===y.start?0:y.max>=0&&y.min>=0?y.min:y.max,k=void 0===y.start?y.end:y.max>=0&&y.min>=0?y.max-y.min:y.min-y.max,L=_.length;if(x||void 0===x&&void 0!==M)for(i=0;i<L&&(r=_[i]).index!==e;++i)r.stack===M&&(o=void 0===(c=f._parseValue(m[r.index].data[t])).start?c.end:c.min>=0&&c.max>=0?c.max:c.min,(y.min<0&&o<0||y.max>=0&&o>0)&&(w+=o));return base=f.getPixelForValue(w),l=(head=f.getPixelForValue(w+k))-base,void 0!==v&&Math.abs(l)<v&&(l=v,head=k>=0&&!h||k<0&&h?base-v:base+v),{size:l,base:base,head:head,center:head+l/2}},calculateBarIndexPixels:function(e,t,n,r){var o="flex"===r.barThickness?function(e,t,n){var r,o=t.pixels,l=o[e],c=e>0?o[e-1]:null,d=e<o.length-1?o[e+1]:null,f=n.categoryPercentage;return null===c&&(c=l-(null===d?t.end-t.start:d-l)),null===d&&(d=l+l-c),r=l-(l-Math.min(c,d))/2*f,{chunk:Math.abs(d-c)/2*f/t.stackCount,ratio:n.barPercentage,start:r}}(t,n,r):Fe(t,n,r),l=this.getStackIndex(e,this.getMeta().stack),c=o.start+o.chunk*l+o.chunk/2,d=Math.min(Ce(r.maxBarThickness,1/0),o.chunk*o.ratio);return{base:c-d/2,head:c+d/2,center:c,size:d}},draw:function(){var e=this.chart,t=this._getValueScale(),n=this.getMeta().data,r=this.getDataset(),o=n.length,i=0;for(G.canvas.clipArea(e.ctx,e.chartArea);i<o;++i){var l=t._parseValue(r.data[i]);isNaN(l.min)||isNaN(l.max)||n[i].draw()}G.canvas.unclipArea(e.ctx)},_resolveDataElementOptions:function(){var e=this,t=G.extend({},ue.prototype._resolveDataElementOptions.apply(e,arguments)),n=e._getIndexScale().options,r=e._getValueScale().options;return t.barPercentage=Ce(n.barPercentage,t.barPercentage),t.barThickness=Ce(n.barThickness,t.barThickness),t.categoryPercentage=Ce(n.categoryPercentage,t.categoryPercentage),t.maxBarThickness=Ce(n.maxBarThickness,t.maxBarThickness),t.minBarLength=Ce(r.minBarLength,t.minBarLength),t}}),Ne=G.valueOrDefault,ze=G.options.resolve;$._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,data){var t=data.datasets[e.datasetIndex].label||"",n=data.datasets[e.datasetIndex].data[e.index];return t+": ("+e.xLabel+", "+e.yLabel+", "+n.r+")"}}}});var He=ue.extend({dataElementType:je.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(e){var t=this,n=t.getMeta().data;G.each(n,(function(n,r){t.updateElement(n,r,e)}))},updateElement:function(e,t,n){var r=this,meta=r.getMeta(),o=e.custom||{},l=r.getScaleForId(meta.xAxisID),c=r.getScaleForId(meta.yAxisID),d=r._resolveDataElementOptions(e,t),data=r.getDataset().data[t],f=r.index,h=n?l.getPixelForDecimal(.5):l.getPixelForValue("object"==typeof data?data:NaN,t,f),m=n?c.getBasePixel():c.getPixelForValue(data,t,f);e._xScale=l,e._yScale=c,e._options=d,e._datasetIndex=f,e._index=t,e._model={backgroundColor:d.backgroundColor,borderColor:d.borderColor,borderWidth:d.borderWidth,hitRadius:d.hitRadius,pointStyle:d.pointStyle,rotation:d.rotation,radius:n?0:d.radius,skip:o.skip||isNaN(h)||isNaN(m),x:h,y:m},e.pivot()},setHoverStyle:function(e){var t=e._model,n=e._options,r=G.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=Ne(n.hoverBackgroundColor,r(n.backgroundColor)),t.borderColor=Ne(n.hoverBorderColor,r(n.borderColor)),t.borderWidth=Ne(n.hoverBorderWidth,n.borderWidth),t.radius=n.radius+n.hoverRadius},_resolveDataElementOptions:function(e,t){var n=this,r=n.chart,o=n.getDataset(),l=e.custom||{},data=o.data[t]||{},c=ue.prototype._resolveDataElementOptions.apply(n,arguments),d={chart:r,dataIndex:t,dataset:o,datasetIndex:n.index};return n._cachedDataOpts===c&&(c=G.extend({},c)),c.radius=ze([l.radius,data.r,n._config.radius,r.options.elements.point.radius],d,t),c}}),Re=G.valueOrDefault,Ie=Math.PI,Be=2*Ie,$e=Ie/2;$._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(e){var i,t,n,r=document.createElement("ul"),data=e.data,o=data.datasets,l=data.labels;if(r.setAttribute("class",e.id+"-legend"),o.length)for(i=0,t=o[0].data.length;i<t;++i)(n=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[0].backgroundColor[i],l[i]&&n.appendChild(document.createTextNode(l[i]));return r.outerHTML},legend:{labels:{generateLabels:function(e){var data=e.data;return data.labels.length&&data.datasets.length?data.labels.map((function(label,i){var meta=e.getDatasetMeta(0),style=meta.controller.getStyle(i);return{text:label,fillStyle:style.backgroundColor,strokeStyle:style.borderColor,lineWidth:style.borderWidth,hidden:isNaN(data.datasets[0].data[i])||meta.data[i].hidden,index:i}})):[]}},onClick:function(e,t){var i,n,meta,r=t.index,o=this.chart;for(i=0,n=(o.data.datasets||[]).length;i<n;++i)(meta=o.getDatasetMeta(i)).data[r]&&(meta.data[r].hidden=!meta.data[r].hidden);o.update()}},cutoutPercentage:50,rotation:-$e,circumference:Be,tooltips:{callbacks:{title:function(){return""},label:function(e,data){var t=data.labels[e.index],n=": "+data.datasets[e.datasetIndex].data[e.index];return G.isArray(t)?(t=t.slice())[0]+=n:t+=n,t}}}});var We=ue.extend({dataElementType:je.Arc,linkScales:G.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&++t;return t},update:function(e){var t,n,i,r,o=this,l=o.chart,c=l.chartArea,d=l.options,f=1,h=1,m=0,_=0,meta=o.getMeta(),y=meta.data,v=d.cutoutPercentage/100||0,x=d.circumference,M=o._getRingWeight(o.index);if(x<Be){var w=d.rotation%Be,k=(w+=w>=Ie?-Be:w<-Ie?Be:0)+x,L=Math.cos(w),D=Math.sin(w),O=Math.cos(k),j=Math.sin(k),S=w<=0&&k>=0||k>=Be,Y=w<=$e&&k>=$e||k>=Be+$e,T=w<=-$e&&k>=-$e||k>=Ie+$e,A=w===-Ie||k>=Ie?-1:Math.min(L,L*v,O,O*v),E=T?-1:Math.min(D,D*v,j,j*v),C=S?1:Math.max(L,L*v,O,O*v),F=Y?1:Math.max(D,D*v,j,j*v);f=(C-A)/2,h=(F-E)/2,m=-(C+A)/2,_=-(F+E)/2}for(i=0,r=y.length;i<r;++i)y[i]._options=o._resolveDataElementOptions(y[i],i);for(l.borderWidth=o.getMaxBorderWidth(),t=(c.right-c.left-l.borderWidth)/f,n=(c.bottom-c.top-l.borderWidth)/h,l.outerRadius=Math.max(Math.min(t,n)/2,0),l.innerRadius=Math.max(l.outerRadius*v,0),l.radiusLength=(l.outerRadius-l.innerRadius)/(o._getVisibleDatasetWeightTotal()||1),l.offsetX=m*l.outerRadius,l.offsetY=_*l.outerRadius,meta.total=o.calculateTotal(),o.outerRadius=l.outerRadius-l.radiusLength*o._getRingWeightOffset(o.index),o.innerRadius=Math.max(o.outerRadius-l.radiusLength*M,0),i=0,r=y.length;i<r;++i)o.updateElement(y[i],i,e)},updateElement:function(e,t,n){var r=this,o=r.chart,l=o.chartArea,c=o.options,d=c.animation,f=(l.left+l.right)/2,h=(l.top+l.bottom)/2,m=c.rotation,_=c.rotation,y=r.getDataset(),v=n&&d.animateRotate||e.hidden?0:r.calculateCircumference(y.data[t])*(c.circumference/Be),x=n&&d.animateScale?0:r.innerRadius,M=n&&d.animateScale?0:r.outerRadius,w=e._options||{};G.extend(e,{_datasetIndex:r.index,_index:t,_model:{backgroundColor:w.backgroundColor,borderColor:w.borderColor,borderWidth:w.borderWidth,borderAlign:w.borderAlign,x:f+o.offsetX,y:h+o.offsetY,startAngle:m,endAngle:_,circumference:v,outerRadius:M,innerRadius:x,label:G.valueAtIndexOrDefault(y.label,t,o.data.labels[t])}});var k=e._model;n&&d.animateRotate||(k.startAngle=0===t?c.rotation:r.getMeta().data[t-1]._model.endAngle,k.endAngle=k.startAngle+k.circumference),e.pivot()},calculateTotal:function(){var e,t=this.getDataset(),meta=this.getMeta(),n=0;return G.each(meta.data,(function(element,r){e=t.data[r],isNaN(e)||element.hidden||(n+=Math.abs(e))})),n},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?Be*(Math.abs(e)/t):0},getMaxBorderWidth:function(e){var i,t,meta,n,r,o,l,c,d=0,f=this.chart;if(!e)for(i=0,t=f.data.datasets.length;i<t;++i)if(f.isDatasetVisible(i)){e=(meta=f.getDatasetMeta(i)).data,i!==this.index&&(r=meta.controller);break}if(!e)return 0;for(i=0,t=e.length;i<t;++i)n=e[i],r?(r._configure(),o=r._resolveDataElementOptions(n,i)):o=n._options,"inner"!==o.borderAlign&&(l=o.borderWidth,d=(c=o.hoverBorderWidth)>(d=l>d?l:d)?c:d);return d},setHoverStyle:function(e){var t=e._model,n=e._options,r=G.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=Re(n.hoverBackgroundColor,r(n.backgroundColor)),t.borderColor=Re(n.hoverBorderColor,r(n.borderColor)),t.borderWidth=Re(n.hoverBorderWidth,n.borderWidth)},_getRingWeightOffset:function(e){for(var t=0,i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t},_getRingWeight:function(e){return Math.max(Re(this.chart.data.datasets[e].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});$._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),$._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var Ue=Pe.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),qe=G.valueOrDefault,Ve=G.options.resolve,Je=G.canvas._isPointInArea;function Ge(e,t){var n=e&&e.options.ticks||{},r=n.reverse,o=void 0===n.min?t:0,l=void 0===n.max?t:0;return{start:r?l:o,end:r?o:l}}function Xe(e,t,n){var r=n/2,o=Ge(e,r),l=Ge(t,r);return{top:l.end,right:o.end,bottom:l.start,left:o.start}}function Ze(e){var t,n,b,r;return G.isObject(e)?(t=e.top,n=e.right,b=e.bottom,r=e.left):t=n=b=r=e,{top:t,right:n,bottom:b,left:r}}$._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var Ke=ue.extend({datasetElementType:je.Line,dataElementType:je.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(e){var i,t,n=this,meta=n.getMeta(),line=meta.dataset,r=meta.data||[],o=n.chart.options,l=n._config,c=n._showLine=qe(l.showLine,o.showLines);for(n._xScale=n.getScaleForId(meta.xAxisID),n._yScale=n.getScaleForId(meta.yAxisID),c&&(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),line._scale=n._yScale,line._datasetIndex=n.index,line._children=r,line._model=n._resolveDatasetElementOptions(line),line.pivot()),i=0,t=r.length;i<t;++i)n.updateElement(r[i],i,e);for(c&&0!==line._model.tension&&n.updateBezierControlPoints(),i=0,t=r.length;i<t;++i)r[i].pivot()},updateElement:function(e,t,n){var r,o,l=this,meta=l.getMeta(),c=e.custom||{},d=l.getDataset(),f=l.index,h=d.data[t],m=l._xScale,_=l._yScale,y=meta.dataset._model,v=l._resolveDataElementOptions(e,t);r=m.getPixelForValue("object"==typeof h?h:NaN,t,f),o=n?_.getBasePixel():l.calculatePointY(h,t,f),e._xScale=m,e._yScale=_,e._options=v,e._datasetIndex=f,e._index=t,e._model={x:r,y:o,skip:c.skip||isNaN(r)||isNaN(o),radius:v.radius,pointStyle:v.pointStyle,rotation:v.rotation,backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth,tension:qe(c.tension,y?y.tension:0),steppedLine:!!y&&y.steppedLine,hitRadius:v.hitRadius}},_resolveDatasetElementOptions:function(element){var e=this,t=e._config,n=element.custom||{},r=e.chart.options,o=r.elements.line,l=ue.prototype._resolveDatasetElementOptions.apply(e,arguments);return l.spanGaps=qe(t.spanGaps,r.spanGaps),l.tension=qe(t.lineTension,o.tension),l.steppedLine=Ve([n.steppedLine,t.steppedLine,o.stepped]),l.clip=Ze(qe(t.clip,Xe(e._xScale,e._yScale,l.borderWidth))),l},calculatePointY:function(e,t,n){var i,r,o,l,c,d,f,h=this.chart,m=this._yScale,_=0,y=0;if(m.options.stacked){for(c=+m.getRightValue(e),f=(d=h._getSortedVisibleDatasetMetas()).length,i=0;i<f&&(o=d[i]).index!==n;++i)r=h.data.datasets[o.index],"line"===o.type&&o.yAxisID===m.id&&((l=+m.getRightValue(r.data[t]))<0?y+=l||0:_+=l||0);return c<0?m.getPixelForValue(y+c):m.getPixelForValue(_+c)}return m.getPixelForValue(e)},updateBezierControlPoints:function(){var i,e,t,n,r=this.chart,meta=this.getMeta(),o=meta.dataset._model,area=r.chartArea,l=meta.data||[];function c(e,t,n){return Math.max(Math.min(e,n),t)}if(o.spanGaps&&(l=l.filter((function(e){return!e._model.skip}))),"monotone"===o.cubicInterpolationMode)G.splineCurveMonotone(l);else for(i=0,e=l.length;i<e;++i)t=l[i]._model,n=G.splineCurve(G.previousItem(l,i)._model,t,G.nextItem(l,i)._model,o.tension),t.controlPointPreviousX=n.previous.x,t.controlPointPreviousY=n.previous.y,t.controlPointNextX=n.next.x,t.controlPointNextY=n.next.y;if(r.options.elements.line.capBezierPoints)for(i=0,e=l.length;i<e;++i)t=l[i]._model,Je(t,area)&&(i>0&&Je(l[i-1]._model,area)&&(t.controlPointPreviousX=c(t.controlPointPreviousX,area.left,area.right),t.controlPointPreviousY=c(t.controlPointPreviousY,area.top,area.bottom)),i<l.length-1&&Je(l[i+1]._model,area)&&(t.controlPointNextX=c(t.controlPointNextX,area.left,area.right),t.controlPointNextY=c(t.controlPointNextY,area.top,area.bottom)))},draw:function(){var e,t=this.chart,meta=this.getMeta(),n=meta.data||[],area=t.chartArea,canvas=t.canvas,i=0,r=n.length;for(this._showLine&&(e=meta.dataset._model.clip,G.canvas.clipArea(t.ctx,{left:!1===e.left?0:area.left-e.left,right:!1===e.right?canvas.width:area.right+e.right,top:!1===e.top?0:area.top-e.top,bottom:!1===e.bottom?canvas.height:area.bottom+e.bottom}),meta.dataset.draw(),G.canvas.unclipArea(t.ctx));i<r;++i)n[i].draw(area)},setHoverStyle:function(e){var t=e._model,n=e._options,r=G.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=qe(n.hoverBackgroundColor,r(n.backgroundColor)),t.borderColor=qe(n.hoverBorderColor,r(n.borderColor)),t.borderWidth=qe(n.hoverBorderWidth,n.borderWidth),t.radius=qe(n.hoverRadius,n.radius)}}),Qe=G.options.resolve;$._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(e){var i,t,n,r=document.createElement("ul"),data=e.data,o=data.datasets,l=data.labels;if(r.setAttribute("class",e.id+"-legend"),o.length)for(i=0,t=o[0].data.length;i<t;++i)(n=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[0].backgroundColor[i],l[i]&&n.appendChild(document.createTextNode(l[i]));return r.outerHTML},legend:{labels:{generateLabels:function(e){var data=e.data;return data.labels.length&&data.datasets.length?data.labels.map((function(label,i){var meta=e.getDatasetMeta(0),style=meta.controller.getStyle(i);return{text:label,fillStyle:style.backgroundColor,strokeStyle:style.borderColor,lineWidth:style.borderWidth,hidden:isNaN(data.datasets[0].data[i])||meta.data[i].hidden,index:i}})):[]}},onClick:function(e,t){var i,n,meta,r=t.index,o=this.chart;for(i=0,n=(o.data.datasets||[]).length;i<n;++i)(meta=o.getDatasetMeta(i)).data[r].hidden=!meta.data[r].hidden;o.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,data){return data.labels[e.index]+": "+e.yLabel}}}});var et=ue.extend({dataElementType:je.Arc,linkScales:G.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var i,t,n,r=this,o=r.getDataset(),meta=r.getMeta(),l=r.chart.options.startAngle||0,c=r._starts=[],d=r._angles=[],f=meta.data;for(r._updateRadius(),meta.count=r.countVisibleElements(),i=0,t=o.data.length;i<t;i++)c[i]=l,n=r._computeAngle(i),d[i]=n,l+=n;for(i=0,t=f.length;i<t;++i)f[i]._options=r._resolveDataElementOptions(f[i],i),r.updateElement(f[i],i,e)},_updateRadius:function(){var e=this,t=e.chart,n=t.chartArea,r=t.options,o=Math.min(n.right-n.left,n.bottom-n.top);t.outerRadius=Math.max(o/2,0),t.innerRadius=Math.max(r.cutoutPercentage?t.outerRadius/100*r.cutoutPercentage:1,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),e.outerRadius=t.outerRadius-t.radiusLength*e.index,e.innerRadius=e.outerRadius-t.radiusLength},updateElement:function(e,t,n){var r=this,o=r.chart,l=r.getDataset(),c=o.options,d=c.animation,f=o.scale,h=o.data.labels,m=f.xCenter,_=f.yCenter,y=c.startAngle,v=e.hidden?0:f.getDistanceFromCenterForValue(l.data[t]),x=r._starts[t],M=x+(e.hidden?0:r._angles[t]),w=d.animateScale?0:f.getDistanceFromCenterForValue(l.data[t]),k=e._options||{};G.extend(e,{_datasetIndex:r.index,_index:t,_scale:f,_model:{backgroundColor:k.backgroundColor,borderColor:k.borderColor,borderWidth:k.borderWidth,borderAlign:k.borderAlign,x:m,y:_,innerRadius:0,outerRadius:n?w:v,startAngle:n&&d.animateRotate?y:x,endAngle:n&&d.animateRotate?y:M,label:G.valueAtIndexOrDefault(h,t,h[t])}}),e.pivot()},countVisibleElements:function(){var e=this.getDataset(),meta=this.getMeta(),t=0;return G.each(meta.data,(function(element,n){isNaN(e.data[n])||element.hidden||t++})),t},setHoverStyle:function(e){var t=e._model,n=e._options,r=G.getHoverColor,o=G.valueOrDefault;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=o(n.hoverBackgroundColor,r(n.backgroundColor)),t.borderColor=o(n.hoverBorderColor,r(n.borderColor)),t.borderWidth=o(n.hoverBorderWidth,n.borderWidth)},_computeAngle:function(e){var t=this,n=this.getMeta().count,r=t.getDataset(),meta=t.getMeta();if(isNaN(r.data[e])||meta.data[e].hidden)return 0;var o={chart:t.chart,dataIndex:e,dataset:r,datasetIndex:t.index};return Qe([t.chart.options.elements.arc.angle,2*Math.PI/n],o,e)}});$._set("pie",G.clone($.doughnut)),$._set("pie",{cutoutPercentage:0});var tt=We,nt=G.valueOrDefault;$._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var it=ue.extend({datasetElementType:je.Line,dataElementType:je.Point,linkScales:G.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var i,t,n=this,meta=n.getMeta(),line=meta.dataset,r=meta.data||[],o=n.chart.scale,l=n._config;for(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),line._scale=o,line._datasetIndex=n.index,line._children=r,line._loop=!0,line._model=n._resolveDatasetElementOptions(line),line.pivot(),i=0,t=r.length;i<t;++i)n.updateElement(r[i],i,e);for(n.updateBezierControlPoints(),i=0,t=r.length;i<t;++i)r[i].pivot()},updateElement:function(e,t,n){var r=this,o=e.custom||{},l=r.getDataset(),c=r.chart.scale,d=c.getPointPositionForValue(t,l.data[t]),f=r._resolveDataElementOptions(e,t),h=r.getMeta().dataset._model,m=n?c.xCenter:d.x,_=n?c.yCenter:d.y;e._scale=c,e._options=f,e._datasetIndex=r.index,e._index=t,e._model={x:m,y:_,skip:o.skip||isNaN(m)||isNaN(_),radius:f.radius,pointStyle:f.pointStyle,rotation:f.rotation,backgroundColor:f.backgroundColor,borderColor:f.borderColor,borderWidth:f.borderWidth,tension:nt(o.tension,h?h.tension:0),hitRadius:f.hitRadius}},_resolveDatasetElementOptions:function(){var e=this,t=e._config,n=e.chart.options,r=ue.prototype._resolveDatasetElementOptions.apply(e,arguments);return r.spanGaps=nt(t.spanGaps,n.spanGaps),r.tension=nt(t.lineTension,n.elements.line.tension),r},updateBezierControlPoints:function(){var i,e,t,n,meta=this.getMeta(),area=this.chart.chartArea,r=meta.data||[];function o(e,t,n){return Math.max(Math.min(e,n),t)}for(meta.dataset._model.spanGaps&&(r=r.filter((function(e){return!e._model.skip}))),i=0,e=r.length;i<e;++i)t=r[i]._model,n=G.splineCurve(G.previousItem(r,i,!0)._model,t,G.nextItem(r,i,!0)._model,t.tension),t.controlPointPreviousX=o(n.previous.x,area.left,area.right),t.controlPointPreviousY=o(n.previous.y,area.top,area.bottom),t.controlPointNextX=o(n.next.x,area.left,area.right),t.controlPointNextY=o(n.next.y,area.top,area.bottom)},setHoverStyle:function(e){var t=e._model,n=e._options,r=G.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=nt(n.hoverBackgroundColor,r(n.backgroundColor)),t.borderColor=nt(n.hoverBorderColor,r(n.borderColor)),t.borderWidth=nt(n.hoverBorderWidth,n.borderWidth),t.radius=nt(n.hoverRadius,n.radius)}});$._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}}),$._set("global",{datasets:{scatter:{showLine:!1}}});var at={bar:Pe,bubble:He,doughnut:We,horizontalBar:Ue,line:Ke,polarArea:et,pie:tt,radar:it,scatter:Ke};function ot(e,t){return e.native?{x:e.x,y:e.y}:G.getRelativePosition(e,t)}function st(e,t){var n,i,r,o,l,element,c=e._getSortedVisibleDatasetMetas();for(i=0,o=c.length;i<o;++i)for(r=0,l=(n=c[i].data).length;r<l;++r)(element=n[r])._view.skip||t(element)}function lt(e,t){var n=[];return st(e,(function(element){element.inRange(t.x,t.y)&&n.push(element)})),n}function ut(e,t,n,r){var o=Number.POSITIVE_INFINITY,l=[];return st(e,(function(element){if(!n||element.inRange(t.x,t.y)){var e=element.getCenterPoint(),c=r(t,e);c<o?(l=[element],o=c):c===o&&l.push(element)}})),l}function ct(e){var t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){var o=t?Math.abs(e.x-r.x):0,l=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function ft(e,t,n){var r=ot(t,e);n.axis=n.axis||"x";var o=ct(n.axis),l=n.intersect?lt(e,r):ut(e,r,!1,o),c=[];return l.length?(e._getSortedVisibleDatasetMetas().forEach((function(meta){var element=meta.data[l[0]._index];element&&!element._view.skip&&c.push(element)})),c):[]}var ht={modes:{single:function(e,t){var n=ot(t,e),r=[];return st(e,(function(element){if(element.inRange(n.x,n.y))return r.push(element),r})),r.slice(0,1)},label:ft,index:ft,dataset:function(e,t,n){var r=ot(t,e);n.axis=n.axis||"xy";var o=ct(n.axis),l=n.intersect?lt(e,r):ut(e,r,!1,o);return l.length>0&&(l=e.getDatasetMeta(l[0]._datasetIndex).data),l},"x-axis":function(e,t){return ft(e,t,{intersect:!1})},point:function(e,t){return lt(e,ot(t,e))},nearest:function(e,t,n){var r=ot(t,e);n.axis=n.axis||"xy";var o=ct(n.axis);return ut(e,r,n.intersect,o)},x:function(e,t,n){var r=ot(t,e),o=[],l=!1;return st(e,(function(element){element.inXRange(r.x)&&o.push(element),element.inRange(r.x,r.y)&&(l=!0)})),n.intersect&&!l&&(o=[]),o},y:function(e,t,n){var r=ot(t,e),o=[],l=!1;return st(e,(function(element){element.inYRange(r.y)&&o.push(element),element.inRange(r.x,r.y)&&(l=!0)})),n.intersect&&!l&&(o=[]),o}}},mt=G.extend;function pt(e,t){return G.where(e,(function(e){return e.pos===t}))}function gt(e,t){return e.sort((function(a,b){var e=t?b:a,n=t?a:b;return e.weight===n.weight?e.index-n.index:e.weight-n.weight}))}function _t(e,t,a,b){return Math.max(e[a],t[a])+Math.max(e[b],t[b])}function yt(e,t,n){var r,o,l=n.box,c=e.maxPadding;if(n.size&&(e[n.pos]-=n.size),n.size=n.horizontal?l.height:l.width,e[n.pos]+=n.size,l.getPadding){var d=l.getPadding();c.top=Math.max(c.top,d.top),c.left=Math.max(c.left,d.left),c.bottom=Math.max(c.bottom,d.bottom),c.right=Math.max(c.right,d.right)}if(r=t.outerWidth-_t(c,e,"left","right"),o=t.outerHeight-_t(c,e,"top","bottom"),r!==e.w||o!==e.h){e.w=r,e.h=o;var f=n.horizontal?[r,e.w]:[o,e.h];return!(f[0]===f[1]||isNaN(f[0])&&isNaN(f[1]))}}function bt(e,t){var n=t.maxPadding;function r(e){var r={left:0,top:0,right:0,bottom:0};return e.forEach((function(e){r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function vt(e,t,n){var i,r,o,l,c,d,f=[];for(i=0,r=e.length;i<r;++i)(l=(o=e[i]).box).update(o.width||t.w,o.height||t.h,bt(o.horizontal,t)),yt(t,n,o)&&(d=!0,f.length&&(c=!0)),l.fullWidth||f.push(o);return c&&vt(f,t,n)||d}function xt(e,t,n){var i,r,o,l,c=n.padding,d=t.x,f=t.y;for(i=0,r=e.length;i<r;++i)l=(o=e[i]).box,o.horizontal?(l.left=l.fullWidth?c.left:t.left,l.right=l.fullWidth?n.outerWidth-c.right:t.left+t.w,l.top=f,l.bottom=f+l.height,l.width=l.right-l.left,f=l.bottom):(l.left=d,l.right=d+l.width,l.top=t.top,l.bottom=t.top+t.h,l.height=l.bottom-l.top,d=l.right);t.x=d,t.y=f}$._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var Mt,wt={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),t.fullWidth=t.fullWidth||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw:function(){t.draw.apply(t,arguments)}}]},e.boxes.push(t)},removeBox:function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure:function(e,t,n){for(var r,o=["fullWidth","position","weight"],l=o.length,i=0;i<l;++i)r=o[i],n.hasOwnProperty(r)&&(t[r]=n[r])},update:function(e,t,n){if(e){var r=e.options.layout||{},o=G.options.toPadding(r.padding),l=t-o.width,c=n-o.height,d=function(e){var t=function(e){var i,t,n,r=[];for(i=0,t=(e||[]).length;i<t;++i)n=e[i],r.push({index:i,box:n,pos:n.position,horizontal:n.isHorizontal(),weight:n.weight});return r}(e),n=gt(pt(t,"left"),!0),r=gt(pt(t,"right")),o=gt(pt(t,"top"),!0),l=gt(pt(t,"bottom"));return{leftAndTop:n.concat(o),rightAndBottom:r.concat(l),chartArea:pt(t,"chartArea"),vertical:n.concat(r),horizontal:o.concat(l)}}(e.boxes),f=d.vertical,h=d.horizontal,m=Object.freeze({outerWidth:t,outerHeight:n,padding:o,availableWidth:l,vBoxMaxWidth:l/2/f.length,hBoxMaxHeight:c/2}),_=mt({maxPadding:mt({},o),w:l,h:c,x:o.left,y:o.top},o);!function(e,t){var i,n,r;for(i=0,n=e.length;i<n;++i)(r=e[i]).width=r.horizontal?r.box.fullWidth&&t.availableWidth:t.vBoxMaxWidth,r.height=r.horizontal&&t.hBoxMaxHeight}(f.concat(h),m),vt(f,_,m),vt(h,_,m)&&vt(f,_,m),function(e){var t=e.maxPadding;function n(n){var r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(_),xt(d.leftAndTop,_,m),_.x+=_.w,_.y+=_.h,xt(d.rightAndBottom,_,m),e.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h},G.each(d.chartArea,(function(t){var n=t.box;mt(n,e.chartArea),n.update(_.w,_.h)}))}}},kt=(Mt=Object.freeze({__proto__:null,default:"/*\r\n * DOM element rendering detection\r\n * https://davidwalsh.name/detect-node-insertion\r\n */\r\n@keyframes chartjs-render-animation {\r\n\tfrom { opacity: 0.99; }\r\n\tto { opacity: 1; }\r\n}\r\n\r\n.chartjs-render-monitor {\r\n\tanimation: chartjs-render-animation 0.001s;\r\n}\r\n\r\n/*\r\n * DOM element resizing detection\r\n * https://github.com/marcj/css-element-queries\r\n */\r\n.chartjs-size-monitor,\r\n.chartjs-size-monitor-expand,\r\n.chartjs-size-monitor-shrink {\r\n\tposition: absolute;\r\n\tdirection: ltr;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\tvisibility: hidden;\r\n\tz-index: -1;\r\n}\r\n\r\n.chartjs-size-monitor-expand > div {\r\n\tposition: absolute;\r\n\twidth: 1000000px;\r\n\theight: 1000000px;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n\r\n.chartjs-size-monitor-shrink > div {\r\n\tposition: absolute;\r\n\twidth: 200%;\r\n\theight: 200%;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n"}))&&Mt.default||Mt,Lt=["animationstart","webkitAnimationStart"],Dt={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function Ot(element,e){var t=G.getStyle(element,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?Number(n[1]):void 0}var jt=!!function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("e",null,t)}catch(e){}return e}()&&{passive:!0};function St(e,t,n){e.addEventListener(t,n,jt)}function Yt(e,t,n){e.removeEventListener(t,n,jt)}function Tt(e,t,n,r,o){return{type:e,chart:t,native:o||null,x:void 0!==n?n:null,y:void 0!==r?r:null}}function At(e){var t=document.createElement("div");return t.className=e||"",t}function Et(e,t,n){var r,o,l,c,d=e.$chartjs||(e.$chartjs={}),f=d.resizer=function(e){var t=At("chartjs-size-monitor"),n=At("chartjs-size-monitor-expand"),r=At("chartjs-size-monitor-shrink");n.appendChild(At()),r.appendChild(At()),t.appendChild(n),t.appendChild(r),t._reset=function(){n.scrollLeft=1e6,n.scrollTop=1e6,r.scrollLeft=1e6,r.scrollTop=1e6};var o=function(){t._reset(),e()};return St(n,"scroll",o.bind(n,"expand")),St(r,"scroll",o.bind(r,"shrink")),t}((r=function(){if(d.resizer){var r=n.options.maintainAspectRatio&&e.parentNode,o=r?r.clientWidth:0;t(Tt("resize",n)),r&&r.clientWidth<o&&n.canvas&&t(Tt("resize",n))}},l=!1,c=[],function(){c=Array.prototype.slice.call(arguments),o=o||this,l||(l=!0,G.requestAnimFrame.call(window,(function(){l=!1,r.apply(o,c)})))}));!function(e,t){var n=e.$chartjs||(e.$chartjs={}),r=n.renderProxy=function(e){"chartjs-render-animation"===e.animationName&&t()};G.each(Lt,(function(t){St(e,t,r)})),n.reflow=!!e.offsetParent,e.classList.add("chartjs-render-monitor")}(e,(function(){if(d.resizer){var t=e.parentNode;t&&t!==f.parentNode&&t.insertBefore(f,t.firstChild),f._reset()}}))}function Ct(e){var t=e.$chartjs||{},n=t.resizer;delete t.resizer,function(e){var t=e.$chartjs||{},n=t.renderProxy;n&&(G.each(Lt,(function(t){Yt(e,t,n)})),delete t.renderProxy),e.classList.remove("chartjs-render-monitor")}(e),n&&n.parentNode&&n.parentNode.removeChild(n)}var Ft={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(canvas){if(!this.disableCSSInjection){var e=canvas.getRootNode?canvas.getRootNode():document;!function(e,t){var n=e.$chartjs||(e.$chartjs={});if(!n.containsStyles){n.containsStyles=!0,t="/* Chart.js */\n"+t;var style=document.createElement("style");style.setAttribute("type","text/css"),style.appendChild(document.createTextNode(t)),e.appendChild(style)}}(e.host?e:document.head,kt)}},acquireContext:function(e,t){"string"==typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(this._ensureLoaded(e),function(canvas,e){var style=canvas.style,t=canvas.getAttribute("height"),n=canvas.getAttribute("width");if(canvas.$chartjs={initial:{height:t,width:n,style:{display:style.display,height:style.height,width:style.width}}},style.display=style.display||"block",null===n||""===n){var r=Ot(canvas,"width");void 0!==r&&(canvas.width=r)}if(null===t||""===t)if(""===canvas.style.height)canvas.height=canvas.width/(e.options.aspectRatio||2);else{var o=Ot(canvas,"height");void 0!==r&&(canvas.height=o)}}(e,t),n):null},releaseContext:function(e){var canvas=e.canvas;if(canvas.$chartjs){var t=canvas.$chartjs.initial;["height","width"].forEach((function(e){var n=t[e];G.isNullOrUndef(n)?canvas.removeAttribute(e):canvas.setAttribute(e,n)})),G.each(t.style||{},(function(e,t){canvas.style[t]=e})),canvas.width=canvas.width,delete canvas.$chartjs}},addEventListener:function(e,t,n){var canvas=e.canvas;if("resize"!==t){var r=n.$chartjs||(n.$chartjs={});St(canvas,t,(r.proxies||(r.proxies={}))[e.id+"_"+t]=function(t){n(function(e,t){var n=Dt[e.type]||e.type,r=G.getRelativePosition(e,t);return Tt(n,t,r.x,r.y,e)}(t,e))})}else Et(canvas,n,e)},removeEventListener:function(e,t,n){var canvas=e.canvas;if("resize"!==t){var r=((n.$chartjs||{}).proxies||{})[e.id+"_"+t];r&&Yt(canvas,t,r)}else Ct(canvas)}};G.addEvent=St,G.removeEvent=Yt;var Pt=Ft._enabled?Ft:{acquireContext:function(e){return e&&e.canvas&&(e=e.canvas),e&&e.getContext("2d")||null}},Nt=G.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},Pt);$._set("global",{plugins:{}});var zt={_plugins:[],_cacheId:0,register:function(e){var p=this._plugins;[].concat(e).forEach((function(e){-1===p.indexOf(e)&&p.push(e)})),this._cacheId++},unregister:function(e){var p=this._plugins;[].concat(e).forEach((function(e){var t=p.indexOf(e);-1!==t&&p.splice(t,1)})),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t,n){var i,r,o,l,c,d=this.descriptors(e),f=d.length;for(i=0;i<f;++i)if("function"==typeof(c=(o=(r=d[i]).plugin)[t])&&((l=[e].concat(n||[])).push(r.options),!1===c.apply(o,l)))return!1;return!0},descriptors:function(e){var t=e.$plugins||(e.$plugins={});if(t.id===this._cacheId)return t.descriptors;var n=[],r=[],o=e&&e.config||{},l=o.options&&o.options.plugins||{};return this._plugins.concat(o.plugins||[]).forEach((function(e){if(-1===n.indexOf(e)){var t=e.id,o=l[t];!1!==o&&(!0===o&&(o=G.clone($.global.plugins[t])),n.push(e),r.push({plugin:e,options:o||{}}))}})),t.descriptors=r,t.id=this._cacheId,r},_invalidate:function(e){delete e.$plugins}},Ht={constructors:{},defaults:{},registerScaleType:function(e,t,n){this.constructors[e]=t,this.defaults[e]=G.clone(n)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?G.merge(Object.create(null),[$.scale,this.defaults[e]]):{}},updateScaleDefaults:function(e,t){this.defaults.hasOwnProperty(e)&&(this.defaults[e]=G.extend(this.defaults[e],t))},addScalesToLayout:function(e){G.each(e.scales,(function(t){t.fullWidth=t.options.fullWidth,t.position=t.options.position,t.weight=t.options.weight,wt.addBox(e,t)}))}},Rt=G.valueOrDefault,It=G.rtl.getRtlAdapter;$._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:G.noop,title:function(e,data){var title="",t=data.labels,n=t?t.length:0;if(e.length>0){var r=e[0];r.label?title=r.label:r.xLabel?title=r.xLabel:n>0&&r.index<n&&(title=t[r.index])}return title},afterTitle:G.noop,beforeBody:G.noop,beforeLabel:G.noop,label:function(e,data){var label=data.datasets[e.datasetIndex].label||"";return label&&(label+=": "),G.isNullOrUndef(e.value)?label+=e.yLabel:label+=e.value,label},labelColor:function(e,t){var view=t.getDatasetMeta(e.datasetIndex).data[e.index]._view;return{borderColor:view.borderColor,backgroundColor:view.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:G.noop,afterBody:G.noop,beforeFooter:G.noop,footer:G.noop,afterFooter:G.noop}}});var Bt={average:function(e){if(!e.length)return!1;var i,t,n=0,r=0,o=0;for(i=0,t=e.length;i<t;++i){var l=e[i];if(l&&l.hasValue()){var c=l.tooltipPosition();n+=c.x,r+=c.y,++o}}return{x:n/o,y:r/o}},nearest:function(e,t){var i,n,r,o=t.x,l=t.y,c=Number.POSITIVE_INFINITY;for(i=0,n=e.length;i<n;++i){var d=e[i];if(d&&d.hasValue()){var f=d.getCenterPoint(),h=G.distanceBetweenPoints(t,f);h<c&&(c=h,r=d)}}if(r){var m=r.tooltipPosition();o=m.x,l=m.y}return{x:o,y:l}}};function $t(base,e){return e&&(G.isArray(e)?Array.prototype.push.apply(base,e):base.push(e)),base}function Wt(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Ut(e){var t=$.global;return{xPadding:e.xPadding,yPadding:e.yPadding,xAlign:e.xAlign,yAlign:e.yAlign,rtl:e.rtl,textDirection:e.textDirection,bodyFontColor:e.bodyFontColor,_bodyFontFamily:Rt(e.bodyFontFamily,t.defaultFontFamily),_bodyFontStyle:Rt(e.bodyFontStyle,t.defaultFontStyle),_bodyAlign:e.bodyAlign,bodyFontSize:Rt(e.bodyFontSize,t.defaultFontSize),bodySpacing:e.bodySpacing,titleFontColor:e.titleFontColor,_titleFontFamily:Rt(e.titleFontFamily,t.defaultFontFamily),_titleFontStyle:Rt(e.titleFontStyle,t.defaultFontStyle),titleFontSize:Rt(e.titleFontSize,t.defaultFontSize),_titleAlign:e.titleAlign,titleSpacing:e.titleSpacing,titleMarginBottom:e.titleMarginBottom,footerFontColor:e.footerFontColor,_footerFontFamily:Rt(e.footerFontFamily,t.defaultFontFamily),_footerFontStyle:Rt(e.footerFontStyle,t.defaultFontStyle),footerFontSize:Rt(e.footerFontSize,t.defaultFontSize),_footerAlign:e.footerAlign,footerSpacing:e.footerSpacing,footerMarginTop:e.footerMarginTop,caretSize:e.caretSize,cornerRadius:e.cornerRadius,backgroundColor:e.backgroundColor,opacity:0,legendColorBackground:e.multiKeyBackground,displayColors:e.displayColors,borderColor:e.borderColor,borderWidth:e.borderWidth}}function qt(e,t){return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-e.xPadding:e.x+e.xPadding}function Vt(e){return $t([],Wt(e))}var Jt=te.extend({initialize:function(){this._model=Ut(this._options),this._lastActive=[]},getTitle:function(){var e=this,t=e._options,n=t.callbacks,r=n.beforeTitle.apply(e,arguments),title=n.title.apply(e,arguments),o=n.afterTitle.apply(e,arguments),l=[];return l=$t(l,Wt(r)),l=$t(l,Wt(title)),l=$t(l,Wt(o))},getBeforeBody:function(){return Vt(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(e,data){var t=this,n=t._options.callbacks,r=[];return G.each(e,(function(e){var o={before:[],lines:[],after:[]};$t(o.before,Wt(n.beforeLabel.call(t,e,data))),$t(o.lines,n.label.call(t,e,data)),$t(o.after,Wt(n.afterLabel.call(t,e,data))),r.push(o)})),r},getAfterBody:function(){return Vt(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var e=this,t=e._options.callbacks,n=t.beforeFooter.apply(e,arguments),footer=t.footer.apply(e,arguments),r=t.afterFooter.apply(e,arguments),o=[];return o=$t(o,Wt(n)),o=$t(o,Wt(footer)),o=$t(o,Wt(r))},update:function(e){var i,t,element,n,r,o,l,c,d,f,h=this,m=h._options,_=h._model,y=h._model=Ut(m),v=h._active,data=h._data,x={xAlign:_.xAlign,yAlign:_.yAlign},M={x:_.x,y:_.y},w={width:_.width,height:_.height},k={x:_.caretX,y:_.caretY};if(v.length){y.opacity=1;var L=[],D=[];k=Bt[m.position].call(h,v,h._eventPosition);var O=[];for(i=0,t=v.length;i<t;++i)O.push((element=v[i],n=void 0,r=void 0,o=void 0,l=void 0,c=void 0,d=void 0,f=void 0,n=element._xScale,r=element._yScale||element._scale,o=element._index,l=element._datasetIndex,c=element._chart.getDatasetMeta(l).controller,d=c._getIndexScale(),f=c._getValueScale(),{xLabel:n?n.getLabelForIndex(o,l):"",yLabel:r?r.getLabelForIndex(o,l):"",label:d?""+d.getLabelForIndex(o,l):"",value:f?""+f.getLabelForIndex(o,l):"",index:o,datasetIndex:l,x:element._model.x,y:element._model.y}));m.filter&&(O=O.filter((function(a){return m.filter(a,data)}))),m.itemSort&&(O=O.sort((function(a,b){return m.itemSort(a,b,data)}))),G.each(O,(function(e){L.push(m.callbacks.labelColor.call(h,e,h._chart)),D.push(m.callbacks.labelTextColor.call(h,e,h._chart))})),y.title=h.getTitle(O,data),y.beforeBody=h.getBeforeBody(O,data),y.body=h.getBody(O,data),y.afterBody=h.getAfterBody(O,data),y.footer=h.getFooter(O,data),y.x=k.x,y.y=k.y,y.caretPadding=m.caretPadding,y.labelColors=L,y.labelTextColors=D,y.dataPoints=O,w=function(e,t){var n=e._chart.ctx,r=2*t.yPadding,o=0,body=t.body,l=body.reduce((function(e,t){return e+t.before.length+t.lines.length+t.after.length}),0);l+=t.beforeBody.length+t.afterBody.length;var c=t.title.length,d=t.footer.length,f=t.titleFontSize,h=t.bodyFontSize,m=t.footerFontSize;r+=c*f,r+=c?(c-1)*t.titleSpacing:0,r+=c?t.titleMarginBottom:0,r+=l*h,r+=l?(l-1)*t.bodySpacing:0,r+=d?t.footerMarginTop:0,r+=d*m,r+=d?(d-1)*t.footerSpacing:0;var _=0,y=function(line){o=Math.max(o,n.measureText(line).width+_)};return n.font=G.fontString(f,t._titleFontStyle,t._titleFontFamily),G.each(t.title,y),n.font=G.fontString(h,t._bodyFontStyle,t._bodyFontFamily),G.each(t.beforeBody.concat(t.afterBody),y),_=t.displayColors?h+2:0,G.each(body,(function(e){G.each(e.before,y),G.each(e.lines,y),G.each(e.after,y)})),_=0,n.font=G.fontString(m,t._footerFontStyle,t._footerFontFamily),G.each(t.footer,y),{width:o+=2*t.xPadding,height:r}}(this,y),M=function(e,t,n,r){var o=e.x,l=e.y,c=e.caretSize,d=e.caretPadding,f=e.cornerRadius,h=n.xAlign,m=n.yAlign,_=c+d,y=f+d;return"right"===h?o-=t.width:"center"===h&&((o-=t.width/2)+t.width>r.width&&(o=r.width-t.width),o<0&&(o=0)),"top"===m?l+=_:l-="bottom"===m?t.height+_:t.height/2,"center"===m?"left"===h?o+=_:"right"===h&&(o-=_):"left"===h?o-=y:"right"===h&&(o+=y),{x:o,y:l}}(y,w,x=function(e,t){var n,r,o,l,c,d=e._model,f=e._chart,h=e._chart.chartArea,m="center",_="center";d.y<t.height?_="top":d.y>f.height-t.height&&(_="bottom");var y=(h.left+h.right)/2,v=(h.top+h.bottom)/2;"center"===_?(n=function(e){return e<=y},r=function(e){return e>y}):(n=function(e){return e<=t.width/2},r=function(e){return e>=f.width-t.width/2}),o=function(e){return e+t.width+d.caretSize+d.caretPadding>f.width},l=function(e){return e-t.width-d.caretSize-d.caretPadding<0},c=function(e){return e<=v?"top":"bottom"},n(d.x)?(m="left",o(d.x)&&(m="center",_=c(d.y))):r(d.x)&&(m="right",l(d.x)&&(m="center",_=c(d.y)));var x=e._options;return{xAlign:x.xAlign?x.xAlign:m,yAlign:x.yAlign?x.yAlign:_}}(this,w),h._chart)}else y.opacity=0;return y.xAlign=x.xAlign,y.yAlign=x.yAlign,y.x=M.x,y.y=M.y,y.width=w.width,y.height=w.height,y.caretX=k.x,y.caretY=k.y,h._model=y,e&&m.custom&&m.custom.call(h,y),h},drawCaret:function(e,t){var n=this._chart.ctx,r=this._view,o=this.getCaretPosition(e,t,r);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)},getCaretPosition:function(e,t,n){var r,o,l,c,d,f,h=n.caretSize,m=n.cornerRadius,_=n.xAlign,y=n.yAlign,v=e.x,x=e.y,M=t.width,w=t.height;if("center"===y)d=x+w/2,"left"===_?(o=(r=v)-h,l=r,c=d+h,f=d-h):(o=(r=v+M)+h,l=r,c=d-h,f=d+h);else if("left"===_?(r=(o=v+m+h)-h,l=o+h):"right"===_?(r=(o=v+M-m-h)-h,l=o+h):(r=(o=n.caretX)-h,l=o+h),"top"===y)d=(c=x)-h,f=c;else{d=(c=x+w)+h,f=c;var k=l;l=r,r=k}return{x1:r,x2:o,x3:l,y1:c,y2:d,y3:f}},drawTitle:function(e,t,n){var r,o,i,title=t.title,l=title.length;if(l){var c=It(t.rtl,t.x,t.width);for(e.x=qt(t,t._titleAlign),n.textAlign=c.textAlign(t._titleAlign),n.textBaseline="middle",r=t.titleFontSize,o=t.titleSpacing,n.fillStyle=t.titleFontColor,n.font=G.fontString(r,t._titleFontStyle,t._titleFontFamily),i=0;i<l;++i)n.fillText(title[i],c.x(e.x),e.y+r/2),e.y+=r+o,i+1===l&&(e.y+=t.titleMarginBottom-o)}},drawBody:function(e,t,n){var r,o,l,c,i,d,f,h,m=t.bodyFontSize,_=t.bodySpacing,y=t._bodyAlign,body=t.body,v=t.displayColors,x=0,M=v?qt(t,"left"):0,w=It(t.rtl,t.x,t.width),k=function(line){n.fillText(line,w.x(e.x+x),e.y+m/2),e.y+=m+_},L=w.textAlign(y);for(n.textAlign=y,n.textBaseline="middle",n.font=G.fontString(m,t._bodyFontStyle,t._bodyFontFamily),e.x=qt(t,L),n.fillStyle=t.bodyFontColor,G.each(t.beforeBody,k),x=v&&"right"!==L?"center"===y?m/2+1:m+2:0,i=0,f=body.length;i<f;++i){for(r=body[i],o=t.labelTextColors[i],l=t.labelColors[i],n.fillStyle=o,G.each(r.before,k),d=0,h=(c=r.lines).length;d<h;++d){if(v){var D=w.x(M);n.fillStyle=t.legendColorBackground,n.fillRect(w.leftForLtr(D,m),e.y,m,m),n.lineWidth=1,n.strokeStyle=l.borderColor,n.strokeRect(w.leftForLtr(D,m),e.y,m,m),n.fillStyle=l.backgroundColor,n.fillRect(w.leftForLtr(w.xPlus(D,1),m-2),e.y+1,m-2,m-2),n.fillStyle=o}k(c[d])}G.each(r.after,k)}x=0,G.each(t.afterBody,k),e.y-=_},drawFooter:function(e,t,n){var r,i,footer=t.footer,o=footer.length;if(o){var l=It(t.rtl,t.x,t.width);for(e.x=qt(t,t._footerAlign),e.y+=t.footerMarginTop,n.textAlign=l.textAlign(t._footerAlign),n.textBaseline="middle",r=t.footerFontSize,n.fillStyle=t.footerFontColor,n.font=G.fontString(r,t._footerFontStyle,t._footerFontFamily),i=0;i<o;++i)n.fillText(footer[i],l.x(e.x),e.y+r/2),e.y+=r+t.footerSpacing}},drawBackground:function(e,t,n,r){n.fillStyle=t.backgroundColor,n.strokeStyle=t.borderColor,n.lineWidth=t.borderWidth;var o=t.xAlign,l=t.yAlign,c=e.x,d=e.y,f=r.width,h=r.height,m=t.cornerRadius;n.beginPath(),n.moveTo(c+m,d),"top"===l&&this.drawCaret(e,r),n.lineTo(c+f-m,d),n.quadraticCurveTo(c+f,d,c+f,d+m),"center"===l&&"right"===o&&this.drawCaret(e,r),n.lineTo(c+f,d+h-m),n.quadraticCurveTo(c+f,d+h,c+f-m,d+h),"bottom"===l&&this.drawCaret(e,r),n.lineTo(c+m,d+h),n.quadraticCurveTo(c,d+h,c,d+h-m),"center"===l&&"left"===o&&this.drawCaret(e,r),n.lineTo(c,d+m),n.quadraticCurveTo(c,d,c+m,d),n.closePath(),n.fill(),t.borderWidth>0&&n.stroke()},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var n={width:t.width,height:t.height},r={x:t.x,y:t.y},o=Math.abs(t.opacity<.001)?0:t.opacity,l=t.title.length||t.beforeBody.length||t.body.length||t.afterBody.length||t.footer.length;this._options.enabled&&l&&(e.save(),e.globalAlpha=o,this.drawBackground(r,t,e,n),r.y+=t.yPadding,G.rtl.overrideTextDirection(e,t.textDirection),this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),G.rtl.restoreTextDirection(e,t.textDirection),e.restore())}},handleEvent:function(e){var t,n=this,r=n._options;return n._lastActive=n._lastActive||[],"mouseout"===e.type?n._active=[]:(n._active=n._chart.getElementsAtEventForMode(e,r.mode,r),r.reverse&&n._active.reverse()),(t=!G.arrayEquals(n._active,n._lastActive))&&(n._lastActive=n._active,(r.enabled||r.custom)&&(n._eventPosition={x:e.x,y:e.y},n.update(!0),n.pivot())),t}}),Gt=Bt,Xt=Jt;Xt.positioners=Gt;var Zt=G.valueOrDefault;function Kt(){return G.merge(Object.create(null),[].slice.call(arguments),{merger:function(e,t,source,n){if("xAxes"===e||"yAxes"===e){var i,r,o,l=source[e].length;for(t[e]||(t[e]=[]),i=0;i<l;++i)o=source[e][i],r=Zt(o.type,"xAxes"===e?"category":"linear"),i>=t[e].length&&t[e].push({}),!t[e][i].type||o.type&&o.type!==t[e][i].type?G.merge(t[e][i],[Ht.getScaleDefaults(r),o]):G.merge(t[e][i],o)}else G._merger(e,t,source,n)}})}function Qt(){return G.merge(Object.create(null),[].slice.call(arguments),{merger:function(e,t,source,n){var r=t[e]||Object.create(null),o=source[e];"scales"===e?t[e]=Kt(r,o):"scale"===e?t[e]=G.merge(r,[Ht.getScaleDefaults(o.type),o]):G._merger(e,t,source,n)}})}function en(e){var t=e.options;G.each(e.scales,(function(t){wt.removeBox(e,t)})),t=Qt($.global,$[e.config.type],t),e.options=e.config.options=t,e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.tooltip._options=t.tooltips,e.tooltip.initialize()}function tn(e,t,n){var r,o=function(e){return e.id===r};do{r=t+n++}while(G.findIndex(e,o)>=0);return r}function nn(e){return"top"===e||"bottom"===e}function rn(e,t){return function(a,b){return a[e]===b[e]?a[t]-b[t]:a[e]-b[e]}}$._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var an=function(e,t){return this.construct(e,t),this};G.extend(an.prototype,{construct:function(e,t){var n=this;t=function(e){var data=(e=e||Object.create(null)).data=e.data||{};return data.datasets=data.datasets||[],data.labels=data.labels||[],e.options=Qt($.global,$[e.type],e.options||{}),e}(t);var r=Nt.acquireContext(e,t),canvas=r&&r.canvas,o=canvas&&canvas.height,l=canvas&&canvas.width;n.id=G.uid(),n.ctx=r,n.canvas=canvas,n.config=t,n.width=l,n.height=o,n.aspectRatio=o?l/o:null,n.options=t.options,n._bufferedRender=!1,n._layers=[],n.chart=n,n.controller=n,an.instances[n.id]=n,Object.defineProperty(n,"data",{get:function(){return n.config.data},set:function(e){n.config.data=e}}),r&&canvas?(n.initialize(),n.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var e=this;return zt.notify(e,"beforeInit"),G.retinaScale(e,e.options.devicePixelRatio),e.bindEvents(),e.options.responsive&&e.resize(!0),e.initToolTip(),zt.notify(e,"afterInit"),e},clear:function(){return G.canvas.clear(this),this},stop:function(){return ie.cancelAnimation(this),this},resize:function(e){var t=this,n=t.options,canvas=t.canvas,r=n.maintainAspectRatio&&t.aspectRatio||null,o=Math.max(0,Math.floor(G.getMaximumWidth(canvas))),l=Math.max(0,Math.floor(r?o/r:G.getMaximumHeight(canvas)));if((t.width!==o||t.height!==l)&&(canvas.width=t.width=o,canvas.height=t.height=l,canvas.style.width=o+"px",canvas.style.height=l+"px",G.retinaScale(t,n.devicePixelRatio),!e)){var c={width:o,height:l};zt.notify(t,"resize",[c]),n.onResize&&n.onResize(t,c),t.stop(),t.update({duration:n.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var e=this.options,t=e.scales||{},n=e.scale;G.each(t.xAxes,(function(e,n){e.id||(e.id=tn(t.xAxes,"x-axis-",n))})),G.each(t.yAxes,(function(e,n){e.id||(e.id=tn(t.yAxes,"y-axis-",n))})),n&&(n.id=n.id||"scale")},buildOrUpdateScales:function(){var e=this,t=e.options,n=e.scales||{},r=[],o=Object.keys(n).reduce((function(e,t){return e[t]=!1,e}),{});t.scales&&(r=r.concat((t.scales.xAxes||[]).map((function(e){return{options:e,dtype:"category",dposition:"bottom"}})),(t.scales.yAxes||[]).map((function(e){return{options:e,dtype:"linear",dposition:"left"}})))),t.scale&&r.push({options:t.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),G.each(r,(function(t){var r=t.options,l=r.id,c=Zt(r.type,t.dtype);nn(r.position)!==nn(t.dposition)&&(r.position=t.dposition),o[l]=!0;var d=null;if(l in n&&n[l].type===c)(d=n[l]).options=r,d.ctx=e.ctx,d.chart=e;else{var f=Ht.getScaleConstructor(c);if(!f)return;d=new f({id:l,type:c,options:r,ctx:e.ctx,chart:e}),n[d.id]=d}d.mergeTicksOptions(),t.isDefault&&(e.scale=d)})),G.each(o,(function(e,t){e||delete n[t]})),e.scales=n,Ht.addScalesToLayout(this)},buildOrUpdateControllers:function(){var i,e,t=this,n=[],r=t.data.datasets;for(i=0,e=r.length;i<e;i++){var o=r[i],meta=t.getDatasetMeta(i),l=o.type||t.config.type;if(meta.type&&meta.type!==l&&(t.destroyDatasetMeta(i),meta=t.getDatasetMeta(i)),meta.type=l,meta.order=o.order||0,meta.index=i,meta.controller)meta.controller.updateIndex(i),meta.controller.linkScales();else{var c=at[meta.type];if(void 0===c)throw new Error('"'+meta.type+'" is not a chart type.');meta.controller=new c(t,i),n.push(meta.controller)}}return n},resetElements:function(){var e=this;G.each(e.data.datasets,(function(t,n){e.getDatasetMeta(n).controller.reset()}),e)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(e){var i,t,n=this;if(e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]}),en(n),zt._invalidate(n),!1!==zt.notify(n,"beforeUpdate")){n.tooltip._data=n.data;var r=n.buildOrUpdateControllers();for(i=0,t=n.data.datasets.length;i<t;i++)n.getDatasetMeta(i).controller.buildOrUpdateElements();n.updateLayout(),n.options.animation&&n.options.animation.duration&&G.each(r,(function(e){e.reset()})),n.updateDatasets(),n.tooltip.initialize(),n.lastActive=[],zt.notify(n,"afterUpdate"),n._layers.sort(rn("z","_idx")),n._bufferedRender?n._bufferedRequest={duration:e.duration,easing:e.easing,lazy:e.lazy}:n.render(e)}},updateLayout:function(){var e=this;!1!==zt.notify(e,"beforeLayout")&&(wt.update(this,this.width,this.height),e._layers=[],G.each(e.boxes,(function(t){t._configure&&t._configure(),e._layers.push.apply(e._layers,t._layers())}),e),e._layers.forEach((function(e,t){e._idx=t})),zt.notify(e,"afterScaleUpdate"),zt.notify(e,"afterLayout"))},updateDatasets:function(){if(!1!==zt.notify(this,"beforeDatasetsUpdate")){for(var i=0,e=this.data.datasets.length;i<e;++i)this.updateDataset(i);zt.notify(this,"afterDatasetsUpdate")}},updateDataset:function(e){var meta=this.getDatasetMeta(e),t={meta:meta,index:e};!1!==zt.notify(this,"beforeDatasetUpdate",[t])&&(meta.controller._update(),zt.notify(this,"afterDatasetUpdate",[t]))},render:function(e){var t=this;e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]});var n=t.options.animation,r=Zt(e.duration,n&&n.duration),o=e.lazy;if(!1!==zt.notify(t,"beforeRender")){var l=function(e){zt.notify(t,"afterRender"),G.callback(n&&n.onComplete,[e],t)};if(n&&r){var c=new re({numSteps:r/16.66,easing:e.easing||n.easing,render:function(e,t){var n=G.easing.effects[t.easing],r=t.currentStep,o=r/t.numSteps;e.draw(n(o),o,r)},onAnimationProgress:n.onProgress,onAnimationComplete:l});ie.addAnimation(t,c,r,o)}else t.draw(),l(new re({numSteps:0,chart:t}));return t}},draw:function(e){var i,t,n=this;if(n.clear(),G.isNullOrUndef(e)&&(e=1),n.transition(e),!(n.width<=0||n.height<=0)&&!1!==zt.notify(n,"beforeDraw",[e])){for(t=n._layers,i=0;i<t.length&&t[i].z<=0;++i)t[i].draw(n.chartArea);for(n.drawDatasets(e);i<t.length;++i)t[i].draw(n.chartArea);n._drawTooltip(e),zt.notify(n,"afterDraw",[e])}},transition:function(e){for(var i=0,t=(this.data.datasets||[]).length;i<t;++i)this.isDatasetVisible(i)&&this.getDatasetMeta(i).controller.transition(e);this.tooltip.transition(e)},_getSortedDatasetMetas:function(e){var i,t,n=[];for(i=0,t=(this.data.datasets||[]).length;i<t;++i)e&&!this.isDatasetVisible(i)||n.push(this.getDatasetMeta(i));return n.sort(rn("order","index")),n},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(e){var t,i;if(!1!==zt.notify(this,"beforeDatasetsDraw",[e])){for(i=(t=this._getSortedVisibleDatasetMetas()).length-1;i>=0;--i)this.drawDataset(t[i],e);zt.notify(this,"afterDatasetsDraw",[e])}},drawDataset:function(meta,e){var t={meta:meta,index:meta.index,easingValue:e};!1!==zt.notify(this,"beforeDatasetDraw",[t])&&(meta.controller.draw(e),zt.notify(this,"afterDatasetDraw",[t]))},_drawTooltip:function(e){var t=this.tooltip,n={tooltip:t,easingValue:e};!1!==zt.notify(this,"beforeTooltipDraw",[n])&&(t.draw(),zt.notify(this,"afterTooltipDraw",[n]))},getElementAtEvent:function(e){return ht.modes.single(this,e)},getElementsAtEvent:function(e){return ht.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return ht.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,t,n){var r=ht.modes[t];return"function"==typeof r?r(this,e,n):[]},getDatasetAtEvent:function(e){return ht.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(e){var t=this.data.datasets[e];t._meta||(t._meta={});var meta=t._meta[this.id];return meta||(meta=t._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t.order||0,index:e}),meta},getVisibleDatasetCount:function(){for(var e=0,i=0,t=this.data.datasets.length;i<t;++i)this.isDatasetVisible(i)&&e++;return e},isDatasetVisible:function(e){var meta=this.getDatasetMeta(e);return"boolean"==typeof meta.hidden?!meta.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(e){var t=this.id,n=this.data.datasets[e],meta=n._meta&&n._meta[t];meta&&(meta.controller.destroy(),delete n._meta[t])},destroy:function(){var i,e,t=this,canvas=t.canvas;for(t.stop(),i=0,e=t.data.datasets.length;i<e;++i)t.destroyDatasetMeta(i);canvas&&(t.unbindEvents(),G.canvas.clear(t),Nt.releaseContext(t.ctx),t.canvas=null,t.ctx=null),zt.notify(t,"destroy"),delete an.instances[t.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new Xt({_chart:e,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var e=this,t=e._listeners={},n=function(){e.eventHandler.apply(e,arguments)};G.each(e.options.events,(function(r){Nt.addEventListener(e,r,n),t[r]=n})),e.options.responsive&&(n=function(){e.resize()},Nt.addEventListener(e,"resize",n),t.resize=n)},unbindEvents:function(){var e=this,t=e._listeners;t&&(delete e._listeners,G.each(t,(function(t,n){Nt.removeEventListener(e,n,t)})))},updateHoverStyle:function(e,t,n){var element,i,r,o=n?"set":"remove";for(i=0,r=e.length;i<r;++i)(element=e[i])&&this.getDatasetMeta(element._datasetIndex).controller[o+"HoverStyle"](element);"dataset"===t&&this.getDatasetMeta(e[0]._datasetIndex).controller["_"+o+"DatasetHoverStyle"]()},eventHandler:function(e){var t=this,n=t.tooltip;if(!1!==zt.notify(t,"beforeEvent",[e])){t._bufferedRender=!0,t._bufferedRequest=null;var r=t.handleEvent(e);n&&(r=n._start?n.handleEvent(e):r|n.handleEvent(e)),zt.notify(t,"afterEvent",[e]);var o=t._bufferedRequest;return o?t.render(o):r&&!t.animating&&(t.stop(),t.render({duration:t.options.hover.animationDuration,lazy:!0})),t._bufferedRender=!1,t._bufferedRequest=null,t}},handleEvent:function(e){var t,n=this,r=n.options||{},o=r.hover;return n.lastActive=n.lastActive||[],"mouseout"===e.type?n.active=[]:n.active=n.getElementsAtEventForMode(e,o.mode,o),G.callback(r.onHover||r.hover.onHover,[e.native,n.active],n),"mouseup"!==e.type&&"click"!==e.type||r.onClick&&r.onClick.call(n,e.native,n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,o.mode,!1),n.active.length&&o.mode&&n.updateHoverStyle(n.active,o.mode,!0),t=!G.arrayEquals(n.active,n.lastActive),n.lastActive=n.active,t}}),an.instances={};var on=an;function sn(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function ln(e){this.options=e||{}}an.Controller=an,an.types={},G.configMerge=Qt,G.scaleMerge=Kt,G.extend(ln.prototype,{formats:sn,parse:sn,format:sn,add:sn,diff:sn,startOf:sn,endOf:sn,_create:function(e){return e}}),ln.override=function(e){G.extend(ln.prototype,e)};var un={_date:ln},cn={formatters:{values:function(e){return G.isArray(e)?e:""+e},linear:function(e,t,n){var r=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(r)>1&&e!==Math.floor(e)&&(r=e-Math.floor(e));var o=G.log10(Math.abs(r)),l="";if(0!==e)if(Math.max(Math.abs(n[0]),Math.abs(n[n.length-1]))<1e-4){var c=G.log10(Math.abs(e)),d=Math.floor(c)-Math.floor(o);d=Math.max(Math.min(d,20),0),l=e.toExponential(d)}else{var f=-1*Math.floor(o);f=Math.max(Math.min(f,20),0),l=e.toFixed(f)}else l="0";return l},logarithmic:function(e,t,n){var r=e/Math.pow(10,Math.floor(G.log10(e)));return 0===e?"0":1===r||2===r||5===r||0===t||t===n.length-1?e.toExponential():""}}},dn=G.isArray,fn=G.isNullOrUndef,hn=G.valueOrDefault,mn=G.valueAtIndexOrDefault;function pn(e,t,n){var r,o=e.getTicks().length,l=Math.min(t,o-1),c=e.getPixelForTick(l),d=e._startPixel,f=e._endPixel;if(!(n&&(r=1===o?Math.max(c-d,f-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(l-1))/2,(c+=l<t?r:-r)<d-1e-6||c>f+1e-6)))return c}function gn(e,t,n,r){var i,o,l,label,c,d,f,h,m,_,y,v,x,M=n.length,w=[],k=[],L=[],D=0,O=0;for(i=0;i<M;++i){if(label=n[i].label,c=n[i].major?t.major:t.minor,e.font=d=c.string,f=r[d]=r[d]||{data:{},gc:[]},h=c.lineHeight,m=_=0,fn(label)||dn(label)){if(dn(label))for(o=0,l=label.length;o<l;++o)y=label[o],fn(y)||dn(y)||(m=G.measureText(e,f.data,f.gc,m,y),_+=h)}else m=G.measureText(e,f.data,f.gc,m,label),_=h;w.push(m),k.push(_),L.push(h/2),D=Math.max(m,D),O=Math.max(_,O)}function j(e){return{width:w[e]||0,height:k[e]||0,offset:L[e]||0}}return function(e,t){G.each(e,(function(e){var i,n=e.gc,r=n.length/2;if(r>t){for(i=0;i<r;++i)delete e.data[n[i]];n.splice(0,r)}}))}(r,M),v=w.indexOf(D),x=k.indexOf(O),{first:j(0),last:j(M-1),widest:j(v),highest:j(x)}}function _n(e){return e.drawTicks?e.tickMarkLength:0}function yn(e){var t,n;return e.display?(t=G.options._parseFont(e),n=G.options.toPadding(e.padding),t.lineHeight+n.height):0}function bn(e,t){return G.extend(G.options._parseFont({fontFamily:hn(t.fontFamily,e.fontFamily),fontSize:hn(t.fontSize,e.fontSize),fontStyle:hn(t.fontStyle,e.fontStyle),lineHeight:hn(t.lineHeight,e.lineHeight)}),{color:G.options.resolve([t.fontColor,e.fontColor,$.global.defaultFontColor])})}function vn(e){var t=bn(e,e.minor);return{minor:t,major:e.major.enabled?bn(e,e.major):t}}function xn(e){var t,n,r,o=[];for(n=0,r=e.length;n<r;++n)void 0!==(t=e[n])._index&&o.push(t);return o}function Mn(e,t,n,r){var o,i,l,c,d=hn(n,0),f=Math.min(hn(r,e.length),e.length),h=0;for(t=Math.ceil(t),r&&(t=(o=r-n)/Math.floor(o/t)),c=d;c<0;)h++,c=Math.round(d+h*t);for(i=Math.max(d,0);i<f;i++)l=e[i],i===c?(l._index=i,h++,c=Math.round(d+h*t)):delete l.label}$._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:cn.formatters.values,minor:{},major:{}}});var wn=te.extend({zeroLineIndex:0,getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var data=this.chart.data;return this.options.labels||(this.isHorizontal()?data.xLabels:data.yLabels)||data.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){G.callback(this.options.beforeUpdate,[this])},update:function(e,t,n){var i,r,o,l,c,d=this,f=d.options.ticks,h=f.sampleSize;if(d.beforeUpdate(),d.maxWidth=e,d.maxHeight=t,d.margins=G.extend({left:0,right:0,top:0,bottom:0},n),d._ticks=null,d.ticks=null,d._labelSizes=null,d._maxLabelLines=0,d.longestLabelWidth=0,d.longestTextCache=d.longestTextCache||{},d._gridLineItems=null,d._labelItems=null,d.beforeSetDimensions(),d.setDimensions(),d.afterSetDimensions(),d.beforeDataLimits(),d.determineDataLimits(),d.afterDataLimits(),d.beforeBuildTicks(),l=d.buildTicks()||[],(!(l=d.afterBuildTicks(l)||l)||!l.length)&&d.ticks)for(l=[],i=0,r=d.ticks.length;i<r;++i)l.push({value:d.ticks[i],major:!1});return d._ticks=l,c=h<l.length,o=d._convertTicksToLabels(c?function(e,t){for(var n=[],r=e.length/t,i=0,o=e.length;i<o;i+=r)n.push(e[Math.floor(i)]);return n}(l,h):l),d._configure(),d.beforeCalculateTickRotation(),d.calculateTickRotation(),d.afterCalculateTickRotation(),d.beforeFit(),d.fit(),d.afterFit(),d._ticksToDraw=f.display&&(f.autoSkip||"auto"===f.source)?d._autoSkip(l):l,c&&(o=d._convertTicksToLabels(d._ticksToDraw)),d.ticks=o,d.afterUpdate(),d.minSize},_configure:function(){var e,t,n=this,r=n.options.ticks.reverse;n.isHorizontal()?(e=n.left,t=n.right):(e=n.top,t=n.bottom,r=!r),n._startPixel=e,n._endPixel=t,n._reversePixels=r,n._length=t-e},afterUpdate:function(){G.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){G.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){G.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){G.callback(this.options.beforeDataLimits,[this])},determineDataLimits:G.noop,afterDataLimits:function(){G.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){G.callback(this.options.beforeBuildTicks,[this])},buildTicks:G.noop,afterBuildTicks:function(e){var t=this;return dn(e)&&e.length?G.callback(t.options.afterBuildTicks,[t,e]):(t.ticks=G.callback(t.options.afterBuildTicks,[t,t.ticks])||t.ticks,e)},beforeTickToLabelConversion:function(){G.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this.options.ticks;this.ticks=this.ticks.map(e.userCallback||e.callback,this)},afterTickToLabelConversion:function(){G.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){G.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var e,t,n,r,o,l,c,d=this,f=d.options,h=f.ticks,m=d.getTicks().length,_=h.minRotation||0,y=h.maxRotation,v=_;!d._isVisible()||!h.display||_>=y||m<=1||!d.isHorizontal()?d.labelRotation=_:(t=(e=d._getLabelSizes()).widest.width,n=e.highest.height-e.highest.offset,r=Math.min(d.maxWidth,d.chart.width-t),t+6>(o=f.offset?d.maxWidth/m:r/(m-1))&&(o=r/(m-(f.offset?.5:1)),l=d.maxHeight-_n(f.gridLines)-h.padding-yn(f.scaleLabel),c=Math.sqrt(t*t+n*n),v=G.toDegrees(Math.min(Math.asin(Math.min((e.highest.height+6)/o,1)),Math.asin(Math.min(l/c,1))-Math.asin(n/c))),v=Math.max(_,Math.min(y,v))),d.labelRotation=v)},afterCalculateTickRotation:function(){G.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){G.callback(this.options.beforeFit,[this])},fit:function(){var e=this,t=e.minSize={width:0,height:0},n=e.chart,r=e.options,o=r.ticks,l=r.scaleLabel,c=r.gridLines,d=e._isVisible(),f="bottom"===r.position,h=e.isHorizontal();if(h?t.width=e.maxWidth:d&&(t.width=_n(c)+yn(l)),h?d&&(t.height=_n(c)+yn(l)):t.height=e.maxHeight,o.display&&d){var m=vn(o),_=e._getLabelSizes(),y=_.first,v=_.last,x=_.widest,M=_.highest,w=.4*m.minor.lineHeight,k=o.padding;if(h){var L=0!==e.labelRotation,D=G.toRadians(e.labelRotation),O=Math.cos(D),j=Math.sin(D),S=j*x.width+O*(M.height-(L?M.offset:0))+(L?0:w);t.height=Math.min(e.maxHeight,t.height+S+k);var Y,T,A=e.getPixelForTick(0)-e.left,E=e.right-e.getPixelForTick(e.getTicks().length-1);L?(Y=f?O*y.width+j*y.offset:j*(y.height-y.offset),T=f?j*(v.height-v.offset):O*v.width+j*v.offset):(Y=y.width/2,T=v.width/2),e.paddingLeft=Math.max((Y-A)*e.width/(e.width-A),0)+3,e.paddingRight=Math.max((T-E)*e.width/(e.width-E),0)+3}else{var C=o.mirror?0:x.width+k+w;t.width=Math.min(e.maxWidth,t.width+C),e.paddingTop=y.height/2,e.paddingBottom=v.height/2}}e.handleMargins(),h?(e.width=e._length=n.width-e.margins.left-e.margins.right,e.height=t.height):(e.width=t.width,e.height=e._length=n.height-e.margins.top-e.margins.bottom)},handleMargins:function(){var e=this;e.margins&&(e.margins.left=Math.max(e.paddingLeft,e.margins.left),e.margins.top=Math.max(e.paddingTop,e.margins.top),e.margins.right=Math.max(e.paddingRight,e.margins.right),e.margins.bottom=Math.max(e.paddingBottom,e.margins.bottom))},afterFit:function(){G.callback(this.options.afterFit,[this])},isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){if(fn(e))return NaN;if(("number"==typeof e||e instanceof Number)&&!isFinite(e))return NaN;if(e)if(this.isHorizontal()){if(void 0!==e.x)return this.getRightValue(e.x)}else if(void 0!==e.y)return this.getRightValue(e.y);return e},_convertTicksToLabels:function(e){var t,i,n,r=this;for(r.ticks=e.map((function(e){return e.value})),r.beforeTickToLabelConversion(),t=r.convertTicksToLabels(e)||r.ticks,r.afterTickToLabelConversion(),i=0,n=e.length;i<n;++i)e[i].label=t[i];return t},_getLabelSizes:function(){var e=this,t=e._labelSizes;return t||(e._labelSizes=t=gn(e.ctx,vn(e.options.ticks),e.getTicks(),e.longestTextCache),e.longestLabelWidth=t.widest.width),t},_parseValue:function(e){var t,n,r,o;return dn(e)?(t=+this.getRightValue(e[0]),n=+this.getRightValue(e[1]),r=Math.min(t,n),o=Math.max(t,n)):(t=void 0,n=e=+this.getRightValue(e),r=e,o=e),{min:r,max:o,start:t,end:n}},_getScaleLabel:function(e){var t=this._parseValue(e);return void 0!==t.start?"["+t.start+", "+t.end+"]":+this.getRightValue(e)},getLabelForIndex:G.noop,getPixelForValue:G.noop,getValueForPixel:G.noop,getPixelForTick:function(e){var t=this.options.offset,n=this._ticks.length,r=1/Math.max(n-(t?0:1),1);return e<0||e>n-1?null:this.getPixelForDecimal(e*r+(t?r/2:0))},getPixelForDecimal:function(e){return this._reversePixels&&(e=1-e),this._startPixel+e*this._length},getDecimalForPixel:function(e){var t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var e=this.min,t=this.max;return this.beginAtZero?0:e<0&&t<0?t:e>0&&t>0?e:0},_autoSkip:function(e){var i,t,n,r,o=this.options.ticks,l=this._length,c=o.maxTicksLimit||l/this._tickSize()+1,d=o.major.enabled?function(e){var i,t,n=[];for(i=0,t=e.length;i<t;i++)e[i].major&&n.push(i);return n}(e):[],f=d.length,h=d[0],m=d[f-1];if(f>c)return function(e,t,n){var i,r,o=0,l=t[0];for(n=Math.ceil(n),i=0;i<e.length;i++)r=e[i],i===l?(r._index=i,l=t[++o*n]):delete r.label}(e,d,f/c),xn(e);if(n=function(e,t,n,r){var o,l,i,c,d=function(e){var i,t,n=e.length;if(n<2)return!1;for(t=e[0],i=1;i<n;++i)if(e[i]-e[i-1]!==t)return!1;return t}(e),f=(t.length-1)/r;if(!d)return Math.max(f,1);for(i=0,c=(o=G.math._factorize(d)).length-1;i<c;i++)if((l=o[i])>f)return l;return Math.max(f,1)}(d,e,0,c),f>0){for(i=0,t=f-1;i<t;i++)Mn(e,n,d[i],d[i+1]);return r=f>1?(m-h)/(f-1):null,Mn(e,n,G.isNullOrUndef(r)?0:h-r,h),Mn(e,n,m,G.isNullOrUndef(r)?e.length:m+r),xn(e)}return Mn(e,n),xn(e)},_tickSize:function(){var e=this.options.ticks,t=G.toRadians(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),o=this._getLabelSizes(),l=e.autoSkipPadding||0,c=o?o.widest.width+l:0,d=o?o.highest.height+l:0;return this.isHorizontal()?d*n>c*r?c/n:d/r:d*r<c*n?d/n:c/r},_isVisible:function(){var i,e,meta,t=this.chart,n=this.options.display;if("auto"!==n)return!!n;for(i=0,e=t.data.datasets.length;i<e;++i)if(t.isDatasetVisible(i)&&((meta=t.getDatasetMeta(i)).xAxisID===this.id||meta.yAxisID===this.id))return!0;return!1},_computeGridLineItems:function(e){var t,i,n,r,o,l,c,d,f,h,m,_,y,v,x,M,w,k=this,L=k.chart,D=k.options,O=D.gridLines,j=D.position,S=O.offsetGridLines,Y=k.isHorizontal(),T=k._ticksToDraw,A=T.length+(S?1:0),E=_n(O),C=[],F=O.drawBorder?mn(O.lineWidth,0,0):0,P=F/2,N=G._alignPixel,z=function(e){return N(L,e,F)};for("top"===j?(t=z(k.bottom),c=k.bottom-E,f=t-P,m=z(e.top)+P,y=e.bottom):"bottom"===j?(t=z(k.top),m=e.top,y=z(e.bottom)-P,c=t+P,f=k.top+E):"left"===j?(t=z(k.right),l=k.right-E,d=t-P,h=z(e.left)+P,_=e.right):(t=z(k.left),h=e.left,_=z(e.right)-P,l=t+P,d=k.left+E),i=0;i<A;++i)n=T[i]||{},fn(n.label)&&i<T.length||(i===k.zeroLineIndex&&D.offset===S?(v=O.zeroLineWidth,x=O.zeroLineColor,M=O.zeroLineBorderDash||[],w=O.zeroLineBorderDashOffset||0):(v=mn(O.lineWidth,i,1),x=mn(O.color,i,"rgba(0,0,0,0.1)"),M=O.borderDash||[],w=O.borderDashOffset||0),void 0!==(r=pn(k,n._index||i,S))&&(o=N(L,r,v),Y?l=d=h=_=o:c=f=m=y=o,C.push({tx1:l,ty1:c,tx2:d,ty2:f,x1:h,y1:m,x2:_,y2:y,width:v,color:x,borderDash:M,borderDashOffset:w})));return C.ticksLength=A,C.borderValue=t,C},_computeLabelItems:function(){var i,e,t,label,n,r,o,l,c,d,f,h,m=this,_=m.options,y=_.ticks,v=_.position,x=y.mirror,M=m.isHorizontal(),w=m._ticksToDraw,k=vn(y),L=y.padding,D=_n(_.gridLines),O=-G.toRadians(m.labelRotation),j=[];for("top"===v?(r=m.bottom-D-L,o=O?"left":"center"):"bottom"===v?(r=m.top+D+L,o=O?"right":"center"):"left"===v?(n=m.right-(x?0:D)-L,o=x?"left":"right"):(n=m.left+(x?0:D)+L,o=x?"right":"left"),i=0,e=w.length;i<e;++i)label=(t=w[i]).label,fn(label)||(l=m.getPixelForTick(t._index||i)+y.labelOffset,d=(c=t.major?k.major:k.minor).lineHeight,f=dn(label)?label.length:1,M?(n=l,h="top"===v?((O?1:.5)-f)*d:(O?0:.5)*d):(r=l,h=(1-f)*d/2),j.push({x:n,y:r,rotation:O,label:label,font:c,textOffset:h,textAlign:o}));return j},_drawGrid:function(e){var t=this,n=t.options.gridLines;if(n.display){var r,o,i,l,c,d=t.ctx,f=t.chart,h=G._alignPixel,m=n.drawBorder?mn(n.lineWidth,0,0):0,_=t._gridLineItems||(t._gridLineItems=t._computeGridLineItems(e));for(i=0,l=_.length;i<l;++i)r=(c=_[i]).width,o=c.color,r&&o&&(d.save(),d.lineWidth=r,d.strokeStyle=o,d.setLineDash&&(d.setLineDash(c.borderDash),d.lineDashOffset=c.borderDashOffset),d.beginPath(),n.drawTicks&&(d.moveTo(c.tx1,c.ty1),d.lineTo(c.tx2,c.ty2)),n.drawOnChartArea&&(d.moveTo(c.x1,c.y1),d.lineTo(c.x2,c.y2)),d.stroke(),d.restore());if(m){var y,v,x,M,w=m,k=mn(n.lineWidth,_.ticksLength-1,1),L=_.borderValue;t.isHorizontal()?(y=h(f,t.left,w)-w/2,v=h(f,t.right,k)+k/2,x=M=L):(x=h(f,t.top,w)-w/2,M=h(f,t.bottom,k)+k/2,y=v=L),d.lineWidth=m,d.strokeStyle=mn(n.color,0),d.beginPath(),d.moveTo(y,x),d.lineTo(v,M),d.stroke()}}},_drawLabels:function(){var e=this;if(e.options.ticks.display){var i,t,n,r,o,l,label,c,d=e.ctx,f=e._labelItems||(e._labelItems=e._computeLabelItems());for(i=0,n=f.length;i<n;++i){if(l=(o=f[i]).font,d.save(),d.translate(o.x,o.y),d.rotate(o.rotation),d.font=l.string,d.fillStyle=l.color,d.textBaseline="middle",d.textAlign=o.textAlign,label=o.label,c=o.textOffset,dn(label))for(t=0,r=label.length;t<r;++t)d.fillText(""+label[t],0,c),c+=l.lineHeight;else d.fillText(label,0,c);d.restore()}}},_drawTitle:function(){var e=this,t=e.ctx,n=e.options,r=n.scaleLabel;if(r.display){var o,l,c=hn(r.fontColor,$.global.defaultFontColor),d=G.options._parseFont(r),f=G.options.toPadding(r.padding),h=d.lineHeight/2,m=n.position,_=0;if(e.isHorizontal())o=e.left+e.width/2,l="bottom"===m?e.bottom-h-f.bottom:e.top+h+f.top;else{var y="left"===m;o=y?e.left+h+f.top:e.right-h-f.top,l=e.top+e.height/2,_=y?-.5*Math.PI:.5*Math.PI}t.save(),t.translate(o,l),t.rotate(_),t.textAlign="center",t.textBaseline="middle",t.fillStyle=c,t.font=d.string,t.fillText(r.labelString,0,0),t.restore()}},draw:function(e){this._isVisible()&&(this._drawGrid(e),this._drawTitle(),this._drawLabels())},_layers:function(){var e=this,t=e.options,n=t.ticks&&t.ticks.z||0,r=t.gridLines&&t.gridLines.z||0;return e._isVisible()&&n!==r&&e.draw===e._draw?[{z:r,draw:function(){e._drawGrid.apply(e,arguments),e._drawTitle.apply(e,arguments)}},{z:n,draw:function(){e._drawLabels.apply(e,arguments)}}]:[{z:n,draw:function(){e.draw.apply(e,arguments)}}]},_getMatchingVisibleMetas:function(e){var t=this,n=t.isHorizontal();return t.chart._getSortedVisibleDatasetMetas().filter((function(meta){return(!e||meta.type===e)&&(n?meta.xAxisID===t.id:meta.yAxisID===t.id)}))}});wn.prototype._draw=wn.prototype.draw;var kn=wn,Ln=G.isNullOrUndef,Dn=kn.extend({determineDataLimits:function(){var e,t=this,n=t._getLabels(),r=t.options.ticks,o=r.min,l=r.max,c=0,d=n.length-1;void 0!==o&&(e=n.indexOf(o))>=0&&(c=e),void 0!==l&&(e=n.indexOf(l))>=0&&(d=e),t.minIndex=c,t.maxIndex=d,t.min=n[c],t.max=n[d]},buildTicks:function(){var e=this._getLabels(),t=this.minIndex,n=this.maxIndex;this.ticks=0===t&&n===e.length-1?e:e.slice(t,n+1)},getLabelForIndex:function(e,t){var n=this.chart;return n.getDatasetMeta(t).controller._getValueScaleId()===this.id?this.getRightValue(n.data.datasets[t].data[e]):this._getLabels()[e]},_configure:function(){var e=this,t=e.options.offset,n=e.ticks;kn.prototype._configure.call(e),e.isHorizontal()||(e._reversePixels=!e._reversePixels),n&&(e._startValue=e.minIndex-(t?.5:0),e._valueRange=Math.max(n.length-(t?0:1),1))},getPixelForValue:function(e,t,n){var r,o,l,c=this;return Ln(t)||Ln(n)||(e=c.chart.data.datasets[n].data[t]),Ln(e)||(r=c.isHorizontal()?e.x:e.y),(void 0!==r||void 0!==e&&isNaN(t))&&(o=c._getLabels(),e=G.valueOrDefault(r,e),t=-1!==(l=o.indexOf(e))?l:t,isNaN(t)&&(t=e)),c.getPixelForDecimal((t-c._startValue)/c._valueRange)},getPixelForTick:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e],e+this.minIndex)},getValueForPixel:function(e){var t=Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange);return Math.min(Math.max(t,0),this.ticks.length-1)},getBasePixel:function(){return this.bottom}}),On={position:"bottom"};Dn._defaults=On;var jn=G.noop,Sn=G.isNullOrUndef,Yn=kn.extend({getRightValue:function(e){return"string"==typeof e?+e:kn.prototype.getRightValue.call(this,e)},handleTickRangeOptions:function(){var e=this,t=e.options.ticks;if(t.beginAtZero){var n=G.sign(e.min),r=G.sign(e.max);n<0&&r<0?e.max=0:n>0&&r>0&&(e.min=0)}var o=void 0!==t.min||void 0!==t.suggestedMin,l=void 0!==t.max||void 0!==t.suggestedMax;void 0!==t.min?e.min=t.min:void 0!==t.suggestedMin&&(null===e.min?e.min=t.suggestedMin:e.min=Math.min(e.min,t.suggestedMin)),void 0!==t.max?e.max=t.max:void 0!==t.suggestedMax&&(null===e.max?e.max=t.suggestedMax:e.max=Math.max(e.max,t.suggestedMax)),o!==l&&e.min>=e.max&&(o?e.max=e.min+1:e.min=e.max-1),e.min===e.max&&(e.max++,t.beginAtZero||e.min--)},getTickLimit:function(){var e,t=this.options.ticks,n=t.stepSize,r=t.maxTicksLimit;return n?e=Math.ceil(this.max/n)-Math.floor(this.min/n)+1:(e=this._computeTickLimit(),r=r||11),r&&(e=Math.min(r,e)),e},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:jn,buildTicks:function(){var e=this,t=e.options.ticks,n=e.getTickLimit(),r={maxTicks:n=Math.max(2,n),min:t.min,max:t.max,precision:t.precision,stepSize:G.valueOrDefault(t.fixedStepSize,t.stepSize)},o=e.ticks=function(e,t){var n,r,o,l,c=[],d=e.stepSize,f=d||1,h=e.maxTicks-1,m=e.min,_=e.max,y=e.precision,v=t.min,x=t.max,M=G.niceNum((x-v)/h/f)*f;if(M<1e-14&&Sn(m)&&Sn(_))return[v,x];(l=Math.ceil(x/M)-Math.floor(v/M))>h&&(M=G.niceNum(l*M/h/f)*f),d||Sn(y)?n=Math.pow(10,G._decimalPlaces(M)):(n=Math.pow(10,y),M=Math.ceil(M*n)/n),r=Math.floor(v/M)*M,o=Math.ceil(x/M)*M,d&&(!Sn(m)&&G.almostWhole(m/M,M/1e3)&&(r=m),!Sn(_)&&G.almostWhole(_/M,M/1e3)&&(o=_)),l=(o-r)/M,l=G.almostEquals(l,Math.round(l),M/1e3)?Math.round(l):Math.ceil(l),r=Math.round(r*n)/n,o=Math.round(o*n)/n,c.push(Sn(m)?r:m);for(var w=1;w<l;++w)c.push(Math.round((r+w*M)*n)/n);return c.push(Sn(_)?o:_),c}(r,e);e.handleDirectionalChanges(),e.max=G.max(o),e.min=G.min(o),t.reverse?(o.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),kn.prototype.convertTicksToLabels.call(e)},_configure:function(){var e,t=this,n=t.getTicks(),r=t.min,o=t.max;kn.prototype._configure.call(t),t.options.offset&&n.length&&(r-=e=(o-r)/Math.max(n.length-1,1)/2,o+=e),t._startValue=r,t._endValue=o,t._valueRange=o-r}}),Tn={position:"left",ticks:{callback:cn.formatters.linear}};function An(e,t,meta,data){var i,n,r=e.options,o=function(e,t,meta){var n=[meta.type,void 0===t&&void 0===meta.stack?meta.index:"",meta.stack].join(".");return void 0===e[n]&&(e[n]={pos:[],neg:[]}),e[n]}(t,r.stacked,meta),l=o.pos,c=o.neg,d=data.length;for(i=0;i<d;++i)n=e._parseValue(data[i]),isNaN(n.min)||isNaN(n.max)||meta.data[i].hidden||(l[i]=l[i]||0,c[i]=c[i]||0,r.relativePoints?l[i]=100:n.min<0||n.max<0?c[i]+=n.min:l[i]+=n.max)}function En(e,meta,data){var i,t,n=data.length;for(i=0;i<n;++i)t=e._parseValue(data[i]),isNaN(t.min)||isNaN(t.max)||meta.data[i].hidden||(e.min=Math.min(e.min,t.min),e.max=Math.max(e.max,t.max))}var Cn=Yn.extend({determineDataLimits:function(){var i,meta,data,e,t=this,n=t.options,r=t.chart.data.datasets,o=t._getMatchingVisibleMetas(),l=n.stacked,c={},d=o.length;if(t.min=Number.POSITIVE_INFINITY,t.max=Number.NEGATIVE_INFINITY,void 0===l)for(i=0;!l&&i<d;++i)l=void 0!==(meta=o[i]).stack;for(i=0;i<d;++i)data=r[(meta=o[i]).index].data,l?An(t,c,meta,data):En(t,meta,data);G.each(c,(function(n){e=n.pos.concat(n.neg),t.min=Math.min(t.min,G.min(e)),t.max=Math.max(t.max,G.max(e))})),t.min=G.isFinite(t.min)&&!isNaN(t.min)?t.min:0,t.max=G.isFinite(t.max)&&!isNaN(t.max)?t.max:1,t.handleTickRangeOptions()},_computeTickLimit:function(){var e;return this.isHorizontal()?Math.ceil(this.width/40):(e=G.options._parseFont(this.options.ticks),Math.ceil(this.height/e.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return this._getScaleLabel(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e){return this.getPixelForDecimal((+this.getRightValue(e)-this._startValue)/this._valueRange)},getValueForPixel:function(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange},getPixelForTick:function(e){var t=this.ticksAsNumbers;return e<0||e>t.length-1?null:this.getPixelForValue(t[e])}}),Fn=Tn;Cn._defaults=Fn;var Pn=G.valueOrDefault,Nn=G.math.log10,zn={position:"left",ticks:{callback:cn.formatters.logarithmic}};function Hn(e,t){return G.isFinite(e)&&e>=0?e:t}var Rn=kn.extend({determineDataLimits:function(){var e,meta,t,data,i,n,r=this,o=r.options,l=r.chart,c=l.data.datasets,d=r.isHorizontal();function f(meta){return d?meta.xAxisID===r.id:meta.yAxisID===r.id}r.min=Number.POSITIVE_INFINITY,r.max=Number.NEGATIVE_INFINITY,r.minNotZero=Number.POSITIVE_INFINITY;var h=o.stacked;if(void 0===h)for(e=0;e<c.length;e++)if(meta=l.getDatasetMeta(e),l.isDatasetVisible(e)&&f(meta)&&void 0!==meta.stack){h=!0;break}if(o.stacked||h){var m={};for(e=0;e<c.length;e++){var _=[(meta=l.getDatasetMeta(e)).type,void 0===o.stacked&&void 0===meta.stack?e:"",meta.stack].join(".");if(l.isDatasetVisible(e)&&f(meta))for(void 0===m[_]&&(m[_]=[]),i=0,n=(data=c[e].data).length;i<n;i++){var y=m[_];t=r._parseValue(data[i]),isNaN(t.min)||isNaN(t.max)||meta.data[i].hidden||t.min<0||t.max<0||(y[i]=y[i]||0,y[i]+=t.max)}}G.each(m,(function(e){if(e.length>0){var t=G.min(e),n=G.max(e);r.min=Math.min(r.min,t),r.max=Math.max(r.max,n)}}))}else for(e=0;e<c.length;e++)if(meta=l.getDatasetMeta(e),l.isDatasetVisible(e)&&f(meta))for(i=0,n=(data=c[e].data).length;i<n;i++)t=r._parseValue(data[i]),isNaN(t.min)||isNaN(t.max)||meta.data[i].hidden||t.min<0||t.max<0||(r.min=Math.min(t.min,r.min),r.max=Math.max(t.max,r.max),0!==t.min&&(r.minNotZero=Math.min(t.min,r.minNotZero)));r.min=G.isFinite(r.min)?r.min:null,r.max=G.isFinite(r.max)?r.max:null,r.minNotZero=G.isFinite(r.minNotZero)?r.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var e=this,t=e.options.ticks;e.min=Hn(t.min,e.min),e.max=Hn(t.max,e.max),e.min===e.max&&(0!==e.min&&null!==e.min?(e.min=Math.pow(10,Math.floor(Nn(e.min))-1),e.max=Math.pow(10,Math.floor(Nn(e.max))+1)):(e.min=1,e.max=10)),null===e.min&&(e.min=Math.pow(10,Math.floor(Nn(e.max))-1)),null===e.max&&(e.max=0!==e.min?Math.pow(10,Math.floor(Nn(e.min))+1):10),null===e.minNotZero&&(e.min>0?e.minNotZero=e.min:e.max<1?e.minNotZero=Math.pow(10,Math.floor(Nn(e.max))):e.minNotZero=1)},buildTicks:function(){var e=this,t=e.options.ticks,n=!e.isHorizontal(),r={min:Hn(t.min),max:Hn(t.max)},o=e.ticks=function(e,t){var n,r,o=[],l=Pn(e.min,Math.pow(10,Math.floor(Nn(t.min)))),c=Math.floor(Nn(t.max)),d=Math.ceil(t.max/Math.pow(10,c));0===l?(n=Math.floor(Nn(t.minNotZero)),r=Math.floor(t.minNotZero/Math.pow(10,n)),o.push(l),l=r*Math.pow(10,n)):(n=Math.floor(Nn(l)),r=Math.floor(l/Math.pow(10,n)));var f=n<0?Math.pow(10,Math.abs(n)):1;do{o.push(l),10==++r&&(r=1,f=++n>=0?1:f),l=Math.round(r*Math.pow(10,n)*f)/f}while(n<c||n===c&&r<d);var h=Pn(e.max,l);return o.push(h),o}(r,e);e.max=G.max(o),e.min=G.min(o),t.reverse?(n=!n,e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),n&&o.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),kn.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return this._getScaleLabel(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){var t=this.tickValues;return e<0||e>t.length-1?null:this.getPixelForValue(t[e])},_getFirstTickValue:function(e){var t=Math.floor(Nn(e));return Math.floor(e/Math.pow(10,t))*Math.pow(10,t)},_configure:function(){var e=this,t=e.min,n=0;kn.prototype._configure.call(e),0===t&&(t=e._getFirstTickValue(e.minNotZero),n=Pn(e.options.ticks.fontSize,$.global.defaultFontSize)/e._length),e._startValue=Nn(t),e._valueOffset=n,e._valueRange=(Nn(e.max)-Nn(t))/(1-n)},getPixelForValue:function(e){var t=this,n=0;return(e=+t.getRightValue(e))>t.min&&e>0&&(n=(Nn(e)-t._startValue)/t._valueRange+t._valueOffset),t.getPixelForDecimal(n)},getValueForPixel:function(e){var t=this,n=t.getDecimalForPixel(e);return 0===n&&0===t.min?0:Math.pow(10,t._startValue+(n-t._valueOffset)*t._valueRange)}}),In=zn;Rn._defaults=In;var Bn=G.valueOrDefault,$n=G.valueAtIndexOrDefault,Wn=G.options.resolve,Un={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:cn.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(label){return label}}};function qn(e){var t=e.ticks;return t.display&&e.display?Bn(t.fontSize,$.global.defaultFontSize)+2*t.backdropPaddingY:0}function Vn(e,t,n,r,o){return e===r||e===o?{start:t-n/2,end:t+n/2}:e<r||e>o?{start:t-n,end:t}:{start:t,end:t+n}}function Jn(e){return 0===e||180===e?"center":e<180?"left":"right"}function Gn(e,text,t,n){var i,r,o=t.y+n/2;if(G.isArray(text))for(i=0,r=text.length;i<r;++i)e.fillText(text[i],t.x,o),o+=n;else e.fillText(text,t.x,o)}function Xn(e,t,n){90===e||270===e?n.y-=t.h/2:(e>270||e<90)&&(n.y-=t.h)}function Zn(param){return G.isNumber(param)?param:0}var Kn=Yn.extend({setDimensions:function(){var e=this;e.width=e.maxWidth,e.height=e.maxHeight,e.paddingTop=qn(e.options)/2,e.xCenter=Math.floor(e.width/2),e.yCenter=Math.floor((e.height-e.paddingTop)/2),e.drawingArea=Math.min(e.height-e.paddingTop,e.width)/2},determineDataLimits:function(){var e=this,t=e.chart,n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;G.each(t.data.datasets,(function(o,l){if(t.isDatasetVisible(l)){var meta=t.getDatasetMeta(l);G.each(o.data,(function(t,o){var l=+e.getRightValue(t);isNaN(l)||meta.data[o].hidden||(n=Math.min(l,n),r=Math.max(l,r))}))}})),e.min=n===Number.POSITIVE_INFINITY?0:n,e.max=r===Number.NEGATIVE_INFINITY?0:r,e.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/qn(this.options))},convertTicksToLabels:function(){var e=this;Yn.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map((function(){var label=G.callback(e.options.pointLabels.callback,arguments,e);return label||0===label?label:""}))},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){var e=this.options;e.display&&e.pointLabels.display?function(e){var i,t,n,r=G.options._parseFont(e.options.pointLabels),o={l:0,r:e.width,t:0,b:e.height-e.paddingTop},l={};e.ctx.font=r.string,e._pointLabelSizes=[];var c,d,label,f=e.chart.data.labels.length;for(i=0;i<f;i++){n=e.getPointPosition(i,e.drawingArea+5),c=e.ctx,d=r.lineHeight,label=e.pointLabels[i],t=G.isArray(label)?{w:G.longestText(c,c.font,label),h:label.length*d}:{w:c.measureText(label).width,h:d},e._pointLabelSizes[i]=t;var h=e.getIndexAngle(i),m=G.toDegrees(h)%360,_=Vn(m,n.x,t.w,0,180),y=Vn(m,n.y,t.h,90,270);_.start<o.l&&(o.l=_.start,l.l=h),_.end>o.r&&(o.r=_.end,l.r=h),y.start<o.t&&(o.t=y.start,l.t=h),y.end>o.b&&(o.b=y.end,l.b=h)}e.setReductions(e.drawingArea,o,l)}(this):this.setCenterPoint(0,0,0,0)},setReductions:function(e,t,n){var r=this,o=t.l/Math.sin(n.l),l=Math.max(t.r-r.width,0)/Math.sin(n.r),c=-t.t/Math.cos(n.t),d=-Math.max(t.b-(r.height-r.paddingTop),0)/Math.cos(n.b);o=Zn(o),l=Zn(l),c=Zn(c),d=Zn(d),r.drawingArea=Math.min(Math.floor(e-(o+l)/2),Math.floor(e-(c+d)/2)),r.setCenterPoint(o,l,c,d)},setCenterPoint:function(e,t,n,r){var o=this,l=o.width-t-o.drawingArea,c=e+o.drawingArea,d=n+o.drawingArea,f=o.height-o.paddingTop-r-o.drawingArea;o.xCenter=Math.floor((c+l)/2+o.left),o.yCenter=Math.floor((d+f)/2+o.top+o.paddingTop)},getIndexAngle:function(e){var t=this.chart,n=(e*(360/t.data.labels.length)+((t.options||{}).startAngle||0))%360;return(n<0?n+360:n)*Math.PI*2/360},getDistanceFromCenterForValue:function(e){var t=this;if(G.isNullOrUndef(e))return NaN;var n=t.drawingArea/(t.max-t.min);return t.options.ticks.reverse?(t.max-e)*n:(e-t.min)*n},getPointPosition:function(e,t){var n=this.getIndexAngle(e)-Math.PI/2;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(e){var t=this.min,n=this.max;return this.getPointPositionForValue(e||0,this.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0)},_drawGrid:function(){var i,e,t,n=this,r=n.ctx,o=n.options,l=o.gridLines,c=o.angleLines,d=Bn(c.lineWidth,l.lineWidth),f=Bn(c.color,l.color);if(o.pointLabels.display&&function(e){var t=e.ctx,n=e.options,r=n.pointLabels,o=qn(n),l=e.getDistanceFromCenterForValue(n.ticks.reverse?e.min:e.max),c=G.options._parseFont(r);t.save(),t.font=c.string,t.textBaseline="middle";for(var i=e.chart.data.labels.length-1;i>=0;i--){var d=0===i?o/2:0,f=e.getPointPosition(i,l+d+5),h=$n(r.fontColor,i,$.global.defaultFontColor);t.fillStyle=h;var m=e.getIndexAngle(i),_=G.toDegrees(m);t.textAlign=Jn(_),Xn(_,e._pointLabelSizes[i],f),Gn(t,e.pointLabels[i],f,c.lineHeight)}t.restore()}(n),l.display&&G.each(n.ticks,(function(label,t){0!==t&&(e=n.getDistanceFromCenterForValue(n.ticksAsNumbers[t]),function(e,t,n,r){var o,l=e.ctx,c=t.circular,d=e.chart.data.labels.length,f=$n(t.color,r-1),h=$n(t.lineWidth,r-1);if((c||d)&&f&&h){if(l.save(),l.strokeStyle=f,l.lineWidth=h,l.setLineDash&&(l.setLineDash(t.borderDash||[]),l.lineDashOffset=t.borderDashOffset||0),l.beginPath(),c)l.arc(e.xCenter,e.yCenter,n,0,2*Math.PI);else{o=e.getPointPosition(0,n),l.moveTo(o.x,o.y);for(var i=1;i<d;i++)o=e.getPointPosition(i,n),l.lineTo(o.x,o.y)}l.closePath(),l.stroke(),l.restore()}}(n,l,e,t))})),c.display&&d&&f){for(r.save(),r.lineWidth=d,r.strokeStyle=f,r.setLineDash&&(r.setLineDash(Wn([c.borderDash,l.borderDash,[]])),r.lineDashOffset=Wn([c.borderDashOffset,l.borderDashOffset,0])),i=n.chart.data.labels.length-1;i>=0;i--)e=n.getDistanceFromCenterForValue(o.ticks.reverse?n.min:n.max),t=n.getPointPosition(i,e),r.beginPath(),r.moveTo(n.xCenter,n.yCenter),r.lineTo(t.x,t.y),r.stroke();r.restore()}},_drawLabels:function(){var e=this,t=e.ctx,n=e.options.ticks;if(n.display){var r,o,l=e.getIndexAngle(0),c=G.options._parseFont(n),d=Bn(n.fontColor,$.global.defaultFontColor);t.save(),t.font=c.string,t.translate(e.xCenter,e.yCenter),t.rotate(l),t.textAlign="center",t.textBaseline="middle",G.each(e.ticks,(function(label,l){(0!==l||n.reverse)&&(r=e.getDistanceFromCenterForValue(e.ticksAsNumbers[l]),n.showLabelBackdrop&&(o=t.measureText(label).width,t.fillStyle=n.backdropColor,t.fillRect(-o/2-n.backdropPaddingX,-r-c.size/2-n.backdropPaddingY,o+2*n.backdropPaddingX,c.size+2*n.backdropPaddingY)),t.fillStyle=d,t.fillText(label,0,-r))})),t.restore()}},_drawTitle:G.noop}),Qn=Un;Kn._defaults=Qn;var er=G._deprecated,nr=G.options.resolve,rr=G.valueOrDefault,ir=Number.MIN_SAFE_INTEGER||-9007199254740991,ar=Number.MAX_SAFE_INTEGER||9007199254740991,or={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},sr=Object.keys(or);function lr(a,b){return a-b}function ur(e){return G.valueOrDefault(e.time.min,e.ticks.min)}function cr(e){return G.valueOrDefault(e.time.max,e.ticks.max)}function dr(table,e,t,n){var r=function(table,e,t){for(var n,r,o,l=0,c=table.length-1;l>=0&&l<=c;){if(r=table[(n=l+c>>1)-1]||null,o=table[n],!r)return{lo:null,hi:o};if(o[e]<t)l=n+1;else{if(!(r[e]>t))return{lo:r,hi:o};c=n-1}}return{lo:o,hi:null}}(table,e,t),o=r.lo?r.hi?r.lo:table[table.length-2]:table[0],l=r.lo?r.hi?r.hi:table[table.length-1]:table[1],span=l[e]-o[e],c=span?(t-o[e])/span:0,d=(l[n]-o[n])*c;return o[n]+d}function fr(e,input){var t=e._adapter,n=e.options.time,r=n.parser,o=r||n.format,l=input;return"function"==typeof r&&(l=r(l)),G.isFinite(l)||(l="string"==typeof o?t.parse(l,o):t.parse(l)),null!==l?+l:(r||"function"!=typeof o||(l=o(input),G.isFinite(l)||(l=t.parse(l))),l)}function mr(e,input){if(G.isNullOrUndef(input))return null;var t=e.options.time,n=fr(e,e.getRightValue(input));return null===n||t.round&&(n=+e._adapter.startOf(n,t.round)),n}function pr(e,t,n,r){var i,o,l,c=sr.length;for(i=sr.indexOf(e);i<c-1;++i)if(l=(o=or[sr[i]]).steps?o.steps:ar,o.common&&Math.ceil((n-t)/(l*o.size))<=r)return sr[i];return sr[c-1]}function gr(e,t,n){var i,r,o=[],map={},l=t.length;for(i=0;i<l;++i)map[r=t[i]]=i,o.push({value:r,major:!1});return 0!==l&&n?function(e,t,map,n){var r,o,l=e._adapter,c=+l.startOf(t[0].value,n),d=t[t.length-1].value;for(r=c;r<=d;r=+l.add(r,1,n))(o=map[r])>=0&&(t[o].major=!0);return t}(e,o,map,n):o}var _r=kn.extend({initialize:function(){this.mergeTicksOptions(),kn.prototype.initialize.call(this)},update:function(){var e=this,t=e.options,time=t.time||(t.time={}),n=e._adapter=new un._date(t.adapters.date);return er("time scale",time.format,"time.format","time.parser"),er("time scale",time.min,"time.min","ticks.min"),er("time scale",time.max,"time.max","ticks.max"),G.mergeIf(time.displayFormats,n.formats()),kn.prototype.update.apply(e,arguments)},getRightValue:function(e){return e&&void 0!==e.t&&(e=e.t),kn.prototype.getRightValue.call(this,e)},determineDataLimits:function(){var i,e,t,n,data,r,o,l=this,c=l.chart,d=l._adapter,f=l.options,h=f.time.unit||"day",m=ar,_=ir,y=[],v=[],x=[],M=l._getLabels();for(i=0,t=M.length;i<t;++i)x.push(mr(l,M[i]));for(i=0,t=(c.data.datasets||[]).length;i<t;++i)if(c.isDatasetVisible(i))if(data=c.data.datasets[i].data,G.isObject(data[0]))for(v[i]=[],e=0,n=data.length;e<n;++e)r=mr(l,data[e]),y.push(r),v[i][e]=r;else v[i]=x.slice(0),o||(y=y.concat(x),o=!0);else v[i]=[];x.length&&(m=Math.min(m,x[0]),_=Math.max(_,x[x.length-1])),y.length&&(y=t>1?function(e){var i,t,n,r={},o=[];for(i=0,t=e.length;i<t;++i)r[n=e[i]]||(r[n]=!0,o.push(n));return o}(y).sort(lr):y.sort(lr),m=Math.min(m,y[0]),_=Math.max(_,y[y.length-1])),m=mr(l,ur(f))||m,_=mr(l,cr(f))||_,m=m===ar?+d.startOf(Date.now(),h):m,_=_===ir?+d.endOf(Date.now(),h)+1:_,l.min=Math.min(m,_),l.max=Math.max(m+1,_),l._table=[],l._timestamps={data:y,datasets:v,labels:x}},buildTicks:function(){var i,e,t,n=this,r=n.min,o=n.max,l=n.options,c=l.ticks,d=l.time,f=n._timestamps,h=[],m=n.getLabelCapacity(r),source=c.source,_=l.distribution;for(f="data"===source||"auto"===source&&"series"===_?f.data:"labels"===source?f.labels:function(e,t,n,r){var time,o=e._adapter,l=e.options,c=l.time,d=c.unit||pr(c.minUnit,t,n,r),f=nr([c.stepSize,c.unitStepSize,1]),h="week"===d&&c.isoWeekday,m=t,_=[];if(h&&(m=+o.startOf(m,"isoWeek",h)),m=+o.startOf(m,h?"day":d),o.diff(n,t,d)>1e5*f)throw t+" and "+n+" are too far apart with stepSize of "+f+" "+d;for(time=m;time<n;time=+o.add(time,f,d))_.push(time);return time!==n&&"ticks"!==l.bounds||_.push(time),_}(n,r,o,m),"ticks"===l.bounds&&f.length&&(r=f[0],o=f[f.length-1]),r=mr(n,ur(l))||r,o=mr(n,cr(l))||o,i=0,e=f.length;i<e;++i)(t=f[i])>=r&&t<=o&&h.push(t);return n.min=r,n.max=o,n._unit=d.unit||(c.autoSkip?pr(d.minUnit,n.min,n.max,m):function(e,t,n,r,o){var i,l;for(i=sr.length-1;i>=sr.indexOf(n);i--)if(l=sr[i],or[l].common&&e._adapter.diff(o,r,l)>=t-1)return l;return sr[n?sr.indexOf(n):0]}(n,h.length,d.minUnit,n.min,n.max)),n._majorUnit=c.major.enabled&&"year"!==n._unit?function(e){for(var i=sr.indexOf(e)+1,t=sr.length;i<t;++i)if(or[sr[i]].common)return sr[i]}(n._unit):void 0,n._table=function(e,t,n,r){if("linear"===r||!e.length)return[{time:t,pos:0},{time:n,pos:1}];var i,o,l,c,d,table=[],f=[t];for(i=0,o=e.length;i<o;++i)(c=e[i])>t&&c<n&&f.push(c);for(f.push(n),i=0,o=f.length;i<o;++i)d=f[i+1],l=f[i-1],c=f[i],void 0!==l&&void 0!==d&&Math.round((d+l)/2)===c||table.push({time:c,pos:i/(o-1)});return table}(n._timestamps.data,r,o,_),n._offsets=function(table,e,t,n,r){var o,l,c=0,d=0;return r.offset&&e.length&&(o=dr(table,"time",e[0],"pos"),c=1===e.length?1-o:(dr(table,"time",e[1],"pos")-o)/2,l=dr(table,"time",e[e.length-1],"pos"),d=1===e.length?l:(l-dr(table,"time",e[e.length-2],"pos"))/2),{start:c,end:d,factor:1/(c+1+d)}}(n._table,h,0,0,l),c.reverse&&h.reverse(),gr(n,h,n._majorUnit)},getLabelForIndex:function(e,t){var n=this,r=n._adapter,data=n.chart.data,o=n.options.time,label=data.labels&&e<data.labels.length?data.labels[e]:"",l=data.datasets[t].data[e];return G.isObject(l)&&(label=n.getRightValue(l)),o.tooltipFormat?r.format(fr(n,label),o.tooltipFormat):"string"==typeof label?label:r.format(fr(n,label),o.displayFormats.datetime)},tickFormatFunction:function(time,e,t,n){var r=this._adapter,o=this.options,l=o.time.displayFormats,c=l[this._unit],d=this._majorUnit,f=l[d],h=t[e],m=o.ticks,_=d&&f&&h&&h.major,label=r.format(time,n||(_?f:c)),y=_?m.major:m.minor,v=nr([y.callback,y.userCallback,m.callback,m.userCallback]);return v?v(label,e,t):label},convertTicksToLabels:function(e){var i,t,n=[];for(i=0,t=e.length;i<t;++i)n.push(this.tickFormatFunction(e[i].value,i,e));return n},getPixelForOffset:function(time){var e=this._offsets,t=dr(this._table,"time",time,"pos");return this.getPixelForDecimal((e.start+t)*e.factor)},getPixelForValue:function(e,t,n){var time=null;if(void 0!==t&&void 0!==n&&(time=this._timestamps.datasets[n][t]),null===time&&(time=mr(this,e)),null!==time)return this.getPixelForOffset(time)},getPixelForTick:function(e){var t=this.getTicks();return e>=0&&e<t.length?this.getPixelForOffset(t[e].value):null},getValueForPixel:function(e){var t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end,time=dr(this._table,"pos",n,"time");return this._adapter._create(time)},_getLabelSize:function(label){var e=this.options.ticks,t=this.ctx.measureText(label).width,n=G.toRadians(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(n),o=Math.sin(n),l=rr(e.fontSize,$.global.defaultFontSize);return{w:t*r+l*o,h:t*o+l*r}},getLabelWidth:function(label){return this._getLabelSize(label).w},getLabelCapacity:function(e){var t=this,n=t.options.time,r=n.displayFormats,o=r[n.unit]||r.millisecond,l=t.tickFormatFunction(e,0,gr(t,[e],t._majorUnit),o),c=t._getLabelSize(l),d=Math.floor(t.isHorizontal()?t.width/c.w:t.height/c.h);return t.options.offset&&d--,d>0?d:1}}),yr={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};_r._defaults=yr;var vr={category:Dn,linear:Cn,logarithmic:Rn,radialLinear:Kn,time:_r},xr={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};un._date.override("function"==typeof e?{_id:"moment",formats:function(){return xr},parse:function(t,n){return"string"==typeof t&&"string"==typeof n?t=e(t,n):t instanceof e||(t=e(t)),t.isValid()?t.valueOf():null},format:function(time,t){return e(time).format(t)},add:function(time,t,n){return e(time).add(t,n).valueOf()},diff:function(t,n,r){return e(t).diff(e(n),r)},startOf:function(time,t,n){return time=e(time),"isoWeek"===t?time.isoWeekday(n).valueOf():time.startOf(t).valueOf()},endOf:function(time,t){return e(time).endOf(t).valueOf()},_create:function(time){return e(time)}}:{}),$._set("global",{plugins:{filler:{propagate:!0}}});var Mr={dataset:function(source){var e=source.fill,t=source.chart,meta=t.getDatasetMeta(e),n=meta&&t.isDatasetVisible(e)&&meta.dataset._children||[],r=n.length||0;return r?function(e,i){return i<r&&n[i]._view||null}:null},boundary:function(source){var e=source.boundary,t=e?e.x:null,n=e?e.y:null;return G.isArray(e)?function(t,i){return e[i]}:function(e){return{x:null===t?e.x:t,y:null===n?e.y:n}}}};function wr(e,t,n){var r,o=e._model||{},l=o.fill;if(void 0===l&&(l=!!o.backgroundColor),!1===l||null===l)return!1;if(!0===l)return"origin";if(r=parseFloat(l,10),isFinite(r)&&Math.floor(r)===r)return"-"!==l[0]&&"+"!==l[0]||(r=t+r),!(r===t||r<0||r>=n)&&r;switch(l){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return l;default:return!1}}function kr(source){return(source.el._scale||{}).getPointPositionForValue?function(source){var e,t,n,i,r,o=source.el._scale,l=o.options,c=o.chart.data.labels.length,d=source.fill,f=[];if(!c)return null;for(e=l.ticks.reverse?o.max:o.min,t=l.ticks.reverse?o.min:o.max,n=o.getPointPositionForValue(0,e),i=0;i<c;++i)r="start"===d||"end"===d?o.getPointPositionForValue(i,"start"===d?e:t):o.getBasePosition(i),l.gridLines.circular&&(r.cx=n.x,r.cy=n.y,r.angle=o.getIndexAngle(i)-Math.PI/2),f.push(r);return f}(source):function(source){var e,t=source.el._model||{},n=source.el._scale||{},r=source.fill,o=null;if(isFinite(r))return null;if("start"===r?o=void 0===t.scaleBottom?n.bottom:t.scaleBottom:"end"===r?o=void 0===t.scaleTop?n.top:t.scaleTop:void 0!==t.scaleZero?o=t.scaleZero:n.getBasePixel&&(o=n.getBasePixel()),null!=o){if(void 0!==o.x&&void 0!==o.y)return o;if(G.isFinite(o))return{x:(e=n.isHorizontal())?o:null,y:e?null:o}}return null}(source)}function Lr(e,t,n){var r,o=e[t].fill,l=[t];if(!n)return o;for(;!1!==o&&-1===l.indexOf(o);){if(!isFinite(o))return o;if(!(r=e[o]))return!1;if(r.visible)return o;l.push(o),o=r.fill}return!1}function Dr(source){var e=source.fill,t="dataset";return!1===e?null:(isFinite(e)||(t="boundary"),Mr[t](source))}function Or(e){return e&&!e.skip}function jr(e,t,n,r,o){var i,l,c,d;if(r&&o){for(e.moveTo(t[0].x,t[0].y),i=1;i<r;++i)G.canvas.lineTo(e,t[i-1],t[i]);if(void 0===n[0].angle)for(e.lineTo(n[o-1].x,n[o-1].y),i=o-1;i>0;--i)G.canvas.lineTo(e,n[i],n[i-1],!0);else for(l=n[0].cx,c=n[0].cy,d=Math.sqrt(Math.pow(n[0].x-l,2)+Math.pow(n[0].y-c,2)),i=o-1;i>0;--i)e.arc(l,c,d,n[i].angle,n[i-1].angle,!0)}}function Sr(e,t,n,view,r,o){var i,l,c,d,f,h,m,_,y=t.length,span=view.spanGaps,v=[],x=[],M=0,w=0;for(e.beginPath(),i=0,l=y;i<l;++i)f=n(d=t[c=i%y]._view,c,view),h=Or(d),m=Or(f),o&&void 0===_&&h&&(l=y+(_=i+1)),h&&m?(M=v.push(d),w=x.push(f)):M&&w&&(span?(h&&v.push(d),m&&x.push(f)):(jr(e,v,x,M,w),M=w=0,v=[],x=[]));jr(e,v,x,M,w),e.closePath(),e.fillStyle=r,e.fill()}var Yr={id:"filler",afterDatasetsUpdate:function(e,t){var meta,i,n,source,r=(e.data.datasets||[]).length,o=t.propagate,l=[];for(i=0;i<r;++i)source=null,(n=(meta=e.getDatasetMeta(i)).dataset)&&n._model&&n instanceof je.Line&&(source={visible:e.isDatasetVisible(i),fill:wr(n,i,r),chart:e,el:n}),meta.$filler=source,l.push(source);for(i=0;i<r;++i)(source=l[i])&&(source.fill=Lr(l,i,o),source.boundary=kr(source),source.mapper=Dr(source))},beforeDatasetsDraw:function(e){var meta,i,t,view,n,r,o,l=e._getSortedVisibleDatasetMetas(),c=e.ctx;for(i=l.length-1;i>=0;--i)(meta=l[i].$filler)&&meta.visible&&(view=(t=meta.el)._view,n=t._children||[],r=meta.mapper,o=view.backgroundColor||$.global.defaultColor,r&&o&&n.length&&(G.canvas.clipArea(c,e.chartArea),Sr(c,n,r,view,o,t._loop),G.canvas.unclipArea(c)))}},Tr=G.rtl.getRtlAdapter,Ar=G.noop,Er=G.valueOrDefault;function Cr(e,t){return e.usePointStyle&&e.boxWidth>t?t:e.boxWidth}$._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,t){var n=t.datasetIndex,r=this.chart,meta=r.getDatasetMeta(n);meta.hidden=null===meta.hidden?!r.data.datasets[n].hidden:null,r.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(e){var t=e.data.datasets,n=e.options.legend||{},r=n.labels&&n.labels.usePointStyle;return e._getSortedDatasetMetas().map((function(meta){var style=meta.controller.getStyle(r?0:void 0);return{text:t[meta.index].label,fillStyle:style.backgroundColor,hidden:!e.isDatasetVisible(meta.index),lineCap:style.borderCapStyle,lineDash:style.borderDash,lineDashOffset:style.borderDashOffset,lineJoin:style.borderJoinStyle,lineWidth:style.borderWidth,strokeStyle:style.borderColor,pointStyle:style.pointStyle,rotation:style.rotation,datasetIndex:meta.index}}),this)}}},legendCallback:function(e){var i,t,n,r=document.createElement("ul"),o=e.data.datasets;for(r.setAttribute("class",e.id+"-legend"),i=0,t=o.length;i<t;i++)(n=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[i].backgroundColor,o[i].label&&n.appendChild(document.createTextNode(o[i].label));return r.outerHTML}});var Fr=te.extend({initialize:function(e){G.extend(this,e),this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1},beforeUpdate:Ar,update:function(e,t,n){var r=this;return r.beforeUpdate(),r.maxWidth=e,r.maxHeight=t,r.margins=n,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:Ar,beforeSetDimensions:Ar,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:Ar,beforeBuildLabels:Ar,buildLabels:function(){var e=this,t=e.options.labels||{},n=G.callback(t.generateLabels,[e.chart],e)||[];t.filter&&(n=n.filter((function(n){return t.filter(n,e.chart.data)}))),e.options.reverse&&n.reverse(),e.legendItems=n},afterBuildLabels:Ar,beforeFit:Ar,fit:function(){var e=this,t=e.options,n=t.labels,r=t.display,o=e.ctx,l=G.options._parseFont(n),c=l.size,d=e.legendHitBoxes=[],f=e.minSize,h=e.isHorizontal();if(h?(f.width=e.maxWidth,f.height=r?10:0):(f.width=r?10:0,f.height=e.maxHeight),r){if(o.font=l.string,h){var m=e.lineWidths=[0],_=0;o.textAlign="left",o.textBaseline="middle",G.each(e.legendItems,(function(e,i){var t=Cr(n,c)+c/2+o.measureText(e.text).width;(0===i||m[m.length-1]+t+2*n.padding>f.width)&&(_+=c+n.padding,m[m.length-(i>0?0:1)]=0),d[i]={left:0,top:0,width:t,height:c},m[m.length-1]+=t+n.padding})),f.height+=_}else{var y=n.padding,v=e.columnWidths=[],x=e.columnHeights=[],M=n.padding,w=0,k=0;G.each(e.legendItems,(function(e,i){var t=Cr(n,c)+c/2+o.measureText(e.text).width;i>0&&k+c+2*y>f.height&&(M+=w+n.padding,v.push(w),x.push(k),w=0,k=0),w=Math.max(w,t),k+=c+y,d[i]={left:0,top:0,width:t,height:c}})),M+=w,v.push(w),x.push(k),f.width+=M}e.width=f.width,e.height=f.height}else e.width=f.width=e.height=f.height=0},afterFit:Ar,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var e=this,t=e.options,n=t.labels,r=$.global,o=r.defaultColor,l=r.elements.line,c=e.height,d=e.columnHeights,f=e.width,h=e.lineWidths;if(t.display){var cursor,m=Tr(t.rtl,e.left,e.minSize.width),_=e.ctx,y=Er(n.fontColor,r.defaultFontColor),v=G.options._parseFont(n),x=v.size;_.textAlign=m.textAlign("left"),_.textBaseline="middle",_.lineWidth=.5,_.strokeStyle=y,_.fillStyle=y,_.font=v.string;var M=Cr(n,x),w=e.legendHitBoxes,k=function(e,r){switch(t.align){case"start":return n.padding;case"end":return e-r;default:return(e-r+n.padding)/2}},L=e.isHorizontal();cursor=L?{x:e.left+k(f,h[0]),y:e.top+n.padding,line:0}:{x:e.left+n.padding,y:e.top+k(c,d[0]),line:0},G.rtl.overrideTextDirection(e.ctx,t.textDirection);var D=x+n.padding;G.each(e.legendItems,(function(t,i){var r=_.measureText(t.text).width,y=M+x/2+r,v=cursor.x,O=cursor.y;m.setWidth(e.minSize.width),L?i>0&&v+y+n.padding>e.left+e.minSize.width&&(O=cursor.y+=D,cursor.line++,v=cursor.x=e.left+k(f,h[cursor.line])):i>0&&O+D>e.top+e.minSize.height&&(v=cursor.x=v+e.columnWidths[cursor.line]+n.padding,cursor.line++,O=cursor.y=e.top+k(c,d[cursor.line]));var j=m.x(v);!function(e,t,r){if(!(isNaN(M)||M<=0)){_.save();var c=Er(r.lineWidth,l.borderWidth);if(_.fillStyle=Er(r.fillStyle,o),_.lineCap=Er(r.lineCap,l.borderCapStyle),_.lineDashOffset=Er(r.lineDashOffset,l.borderDashOffset),_.lineJoin=Er(r.lineJoin,l.borderJoinStyle),_.lineWidth=c,_.strokeStyle=Er(r.strokeStyle,o),_.setLineDash&&_.setLineDash(Er(r.lineDash,l.borderDash)),n&&n.usePointStyle){var d=M*Math.SQRT2/2,f=m.xPlus(e,M/2),h=t+x/2;G.canvas.drawPoint(_,r.pointStyle,d,f,h,r.rotation)}else _.fillRect(m.leftForLtr(e,M),t,M,x),0!==c&&_.strokeRect(m.leftForLtr(e,M),t,M,x);_.restore()}}(j,O,t),w[i].left=m.leftForLtr(j,w[i].width),w[i].top=O,function(e,t,n,r){var o=x/2,l=m.xPlus(e,M+o),c=t+o;_.fillText(n.text,l,c),n.hidden&&(_.beginPath(),_.lineWidth=2,_.moveTo(l,c),_.lineTo(m.xPlus(l,r),c),_.stroke())}(j,O,t,r),L?cursor.x+=y+n.padding:cursor.y+=D})),G.rtl.restoreTextDirection(e.ctx,t.textDirection)}},_getLegendItemAt:function(e,t){var i,n,r,o=this;if(e>=o.left&&e<=o.right&&t>=o.top&&t<=o.bottom)for(r=o.legendHitBoxes,i=0;i<r.length;++i)if(e>=(n=r[i]).left&&e<=n.left+n.width&&t>=n.top&&t<=n.top+n.height)return o.legendItems[i];return null},handleEvent:function(e){var t,n=this,r=n.options,o="mouseup"===e.type?"click":e.type;if("mousemove"===o){if(!r.onHover&&!r.onLeave)return}else{if("click"!==o)return;if(!r.onClick)return}t=n._getLegendItemAt(e.x,e.y),"click"===o?t&&r.onClick&&r.onClick.call(n,e.native,t):(r.onLeave&&t!==n._hoveredItem&&(n._hoveredItem&&r.onLeave.call(n,e.native,n._hoveredItem),n._hoveredItem=t),r.onHover&&t&&r.onHover.call(n,e.native,t))}});function Pr(e,t){var legend=new Fr({ctx:e.ctx,options:t,chart:e});wt.configure(e,legend,t),wt.addBox(e,legend),e.legend=legend}var Nr={id:"legend",_element:Fr,beforeInit:function(e){var t=e.options.legend;t&&Pr(e,t)},beforeUpdate:function(e){var t=e.options.legend,legend=e.legend;t?(G.mergeIf(t,$.global.legend),legend?(wt.configure(e,legend,t),legend.options=t):Pr(e,t)):legend&&(wt.removeBox(e,legend),delete e.legend)},afterEvent:function(e,t){var legend=e.legend;legend&&legend.handleEvent(t)}},zr=G.noop;$._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var Hr=te.extend({initialize:function(e){G.extend(this,e),this.legendHitBoxes=[]},beforeUpdate:zr,update:function(e,t,n){var r=this;return r.beforeUpdate(),r.maxWidth=e,r.maxHeight=t,r.margins=n,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:zr,beforeSetDimensions:zr,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:zr,beforeBuildLabels:zr,buildLabels:zr,afterBuildLabels:zr,beforeFit:zr,fit:function(){var e,t=this,n=t.options,r=t.minSize={},o=t.isHorizontal();n.display?(e=(G.isArray(n.text)?n.text.length:1)*G.options._parseFont(n).lineHeight+2*n.padding,t.width=r.width=o?t.maxWidth:e,t.height=r.height=o?e:t.maxHeight):t.width=r.width=t.height=r.height=0},afterFit:zr,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var e=this,t=e.ctx,n=e.options;if(n.display){var r,o,l,c=G.options._parseFont(n),d=c.lineHeight,f=d/2+n.padding,h=0,m=e.top,_=e.left,y=e.bottom,v=e.right;t.fillStyle=G.valueOrDefault(n.fontColor,$.global.defaultFontColor),t.font=c.string,e.isHorizontal()?(o=_+(v-_)/2,l=m+f,r=v-_):(o="left"===n.position?_+f:v-f,l=m+(y-m)/2,r=y-m,h=Math.PI*("left"===n.position?-.5:.5)),t.save(),t.translate(o,l),t.rotate(h),t.textAlign="center",t.textBaseline="middle";var text=n.text;if(G.isArray(text))for(var x=0,i=0;i<text.length;++i)t.fillText(text[i],0,x,r),x+=d;else t.fillText(text,0,0,r);t.restore()}}});function Rr(e,t){var title=new Hr({ctx:e.ctx,options:t,chart:e});wt.configure(e,title,t),wt.addBox(e,title),e.titleBlock=title}var Ir={},Br=Yr,legend=Nr,title={id:"title",_element:Hr,beforeInit:function(e){var t=e.options.title;t&&Rr(e,t)},beforeUpdate:function(e){var t=e.options.title,n=e.titleBlock;t?(G.mergeIf(t,$.global.title),n?(wt.configure(e,n,t),n.options=t):Rr(e,t)):n&&(wt.removeBox(e,n),delete e.titleBlock)}};for(var $r in Ir.filler=Br,Ir.legend=legend,Ir.title=title,on.helpers=G,function(){function e(e,t,n){var r;return"string"==typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}function t(e){return null!=e&&"none"!==e}function n(n,r,o){var view=document.defaultView,l=G._getParentNode(n),c=view.getComputedStyle(n)[r],d=view.getComputedStyle(l)[r],f=t(c),h=t(d),m=Number.POSITIVE_INFINITY;return f||h?Math.min(f?e(c,n,o):m,h?e(d,l,o):m):"none"}G.where=function(e,t){if(G.isArray(e)&&Array.prototype.filter)return e.filter(t);var n=[];return G.each(e,(function(e){t(e)&&n.push(e)})),n},G.findIndex=Array.prototype.findIndex?function(e,t,n){return e.findIndex(t,n)}:function(e,t,n){n=void 0===n?e:n;for(var i=0,r=e.length;i<r;++i)if(t.call(n,e[i],i,e))return i;return-1},G.findNextWhere=function(e,t,n){G.isNullOrUndef(n)&&(n=-1);for(var i=n+1;i<e.length;i++){var r=e[i];if(t(r))return r}},G.findPreviousWhere=function(e,t,n){G.isNullOrUndef(n)&&(n=e.length);for(var i=n-1;i>=0;i--){var r=e[i];if(t(r))return r}},G.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},G.almostEquals=function(e,t,n){return Math.abs(e-t)<n},G.almostWhole=function(e,t){var n=Math.round(e);return n-t<=e&&n+t>=e},G.max=function(e){return e.reduce((function(e,t){return isNaN(t)?e:Math.max(e,t)}),Number.NEGATIVE_INFINITY)},G.min=function(e){return e.reduce((function(e,t){return isNaN(t)?e:Math.min(e,t)}),Number.POSITIVE_INFINITY)},G.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return 0==(e=+e)||isNaN(e)?e:e>0?1:-1},G.toRadians=function(e){return e*(Math.PI/180)},G.toDegrees=function(e){return e*(180/Math.PI)},G._decimalPlaces=function(e){if(G.isFinite(e)){for(var t=1,p=0;Math.round(e*t)/t!==e;)t*=10,p++;return p}},G.getAngleFromPoint=function(e,t){var n=t.x-e.x,r=t.y-e.y,o=Math.sqrt(n*n+r*r),l=Math.atan2(r,n);return l<-.5*Math.PI&&(l+=2*Math.PI),{angle:l,distance:o}},G.distanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},G.aliasPixel=function(e){return e%2==0?0:.5},G._alignPixel=function(e,t,n){var r=e.currentDevicePixelRatio,o=n/2;return Math.round((t-o)*r)/r+o},G.splineCurve=function(e,t,n,r){var o=e.skip?t:e,l=t,c=n.skip?t:n,d=Math.sqrt(Math.pow(l.x-o.x,2)+Math.pow(l.y-o.y,2)),f=Math.sqrt(Math.pow(c.x-l.x,2)+Math.pow(c.y-l.y,2)),h=d/(d+f),m=f/(d+f),_=r*(h=isNaN(h)?0:h),y=r*(m=isNaN(m)?0:m);return{previous:{x:l.x-_*(c.x-o.x),y:l.y-_*(c.y-o.y)},next:{x:l.x+y*(c.x-o.x),y:l.y+y*(c.y-o.y)}}},G.EPSILON=Number.EPSILON||1e-14,G.splineCurveMonotone=function(e){var i,t,n,r,o,l,c,d,f,h=(e||[]).map((function(e){return{model:e._model,deltaK:0,mK:0}})),m=h.length;for(i=0;i<m;++i)if(!(n=h[i]).model.skip){if(t=i>0?h[i-1]:null,(r=i<m-1?h[i+1]:null)&&!r.model.skip){var _=r.model.x-n.model.x;n.deltaK=0!==_?(r.model.y-n.model.y)/_:0}!t||t.model.skip?n.mK=n.deltaK:!r||r.model.skip?n.mK=t.deltaK:this.sign(t.deltaK)!==this.sign(n.deltaK)?n.mK=0:n.mK=(t.deltaK+n.deltaK)/2}for(i=0;i<m-1;++i)n=h[i],r=h[i+1],n.model.skip||r.model.skip||(G.almostEquals(n.deltaK,0,this.EPSILON)?n.mK=r.mK=0:(o=n.mK/n.deltaK,l=r.mK/n.deltaK,(d=Math.pow(o,2)+Math.pow(l,2))<=9||(c=3/Math.sqrt(d),n.mK=o*c*n.deltaK,r.mK=l*c*n.deltaK)));for(i=0;i<m;++i)(n=h[i]).model.skip||(t=i>0?h[i-1]:null,r=i<m-1?h[i+1]:null,t&&!t.model.skip&&(f=(n.model.x-t.model.x)/3,n.model.controlPointPreviousX=n.model.x-f,n.model.controlPointPreviousY=n.model.y-f*n.mK),r&&!r.model.skip&&(f=(r.model.x-n.model.x)/3,n.model.controlPointNextX=n.model.x+f,n.model.controlPointNextY=n.model.y+f*n.mK))},G.nextItem=function(e,t,n){return n?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},G.previousItem=function(e,t,n){return n?t<=0?e[e.length-1]:e[t-1]:t<=0?e[0]:e[t-1]},G.niceNum=function(e,t){var n=Math.floor(G.log10(e)),r=e/Math.pow(10,n);return(t?r<1.5?1:r<3?2:r<7?5:10:r<=1?1:r<=2?2:r<=5?5:10)*Math.pow(10,n)},G.requestAnimFrame="undefined"==typeof window?function(e){e()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},G.getRelativePosition=function(e,t){var n,r,o=e.originalEvent||e,canvas=e.target||e.srcElement,l=canvas.getBoundingClientRect(),c=o.touches;c&&c.length>0?(n=c[0].clientX,r=c[0].clientY):(n=o.clientX,r=o.clientY);var d=parseFloat(G.getStyle(canvas,"padding-left")),f=parseFloat(G.getStyle(canvas,"padding-top")),h=parseFloat(G.getStyle(canvas,"padding-right")),m=parseFloat(G.getStyle(canvas,"padding-bottom")),_=l.right-l.left-d-h,y=l.bottom-l.top-f-m;return{x:n=Math.round((n-l.left-d)/_*canvas.width/t.currentDevicePixelRatio),y:r=Math.round((r-l.top-f)/y*canvas.height/t.currentDevicePixelRatio)}},G.getConstraintWidth=function(e){return n(e,"max-width","clientWidth")},G.getConstraintHeight=function(e){return n(e,"max-height","clientHeight")},G._calculatePadding=function(e,t,n){return(t=G.getStyle(e,t)).indexOf("%")>-1?n*parseInt(t,10)/100:parseInt(t,10)},G._getParentNode=function(e){var t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t},G.getMaximumWidth=function(e){var t=G._getParentNode(e);if(!t)return e.clientWidth;var n=t.clientWidth,r=n-G._calculatePadding(t,"padding-left",n)-G._calculatePadding(t,"padding-right",n),o=G.getConstraintWidth(e);return isNaN(o)?r:Math.min(r,o)},G.getMaximumHeight=function(e){var t=G._getParentNode(e);if(!t)return e.clientHeight;var n=t.clientHeight,r=n-G._calculatePadding(t,"padding-top",n)-G._calculatePadding(t,"padding-bottom",n),o=G.getConstraintHeight(e);return isNaN(o)?r:Math.min(r,o)},G.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},G.retinaScale=function(e,t){var n=e.currentDevicePixelRatio=t||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==n){var canvas=e.canvas,r=e.height,o=e.width;canvas.height=r*n,canvas.width=o*n,e.ctx.scale(n,n),canvas.style.height||canvas.style.width||(canvas.style.height=r+"px",canvas.style.width=o+"px")}},G.fontString=function(e,t,n){return t+" "+e+"px "+n},G.longestText=function(e,t,n,r){var data=(r=r||{}).data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(data=r.data={},o=r.garbageCollect=[],r.font=t),e.font=t;var i,l,c,d,f,h=0,m=n.length;for(i=0;i<m;i++)if(null!=(d=n[i])&&!0!==G.isArray(d))h=G.measureText(e,data,o,h,d);else if(G.isArray(d))for(l=0,c=d.length;l<c;l++)null==(f=d[l])||G.isArray(f)||(h=G.measureText(e,data,o,h,f));var _=o.length/2;if(_>n.length){for(i=0;i<_;i++)delete data[o[i]];o.splice(0,_)}return h},G.measureText=function(e,data,t,n,r){var o=data[r];return o||(o=data[r]=e.measureText(r).width,t.push(r)),o>n&&(n=o),n},G.numberOfLabelLines=function(e){var t=1;return G.each(e,(function(e){G.isArray(e)&&e.length>t&&(t=e.length)})),t},G.color=O?function(e){return e instanceof CanvasGradient&&(e=$.global.defaultColor),O(e)}:function(e){return console.error("Color.js not found!"),e},G.getHoverColor=function(e){return e instanceof CanvasPattern||e instanceof CanvasGradient?e:G.color(e).saturate(.5).darken(.1).rgbString()}}(),on._adapters=un,on.Animation=re,on.animationService=ie,on.controllers=at,on.DatasetController=ue,on.defaults=$,on.Element=te,on.elements=je,on.Interaction=ht,on.layouts=wt,on.platform=Nt,on.plugins=zt,on.Scale=kn,on.scaleService=Ht,on.Ticks=cn,on.Tooltip=Xt,on.helpers.each(vr,(function(e,t){on.scaleService.registerScaleType(t,e,e._defaults)})),Ir)Ir.hasOwnProperty($r)&&on.plugins.register(Ir[$r]);on.platform.initialize();var Wr=on;return"undefined"!=typeof window&&(window.Chart=on),on.Chart=on,on.Legend=Ir.legend._element,on.Title=Ir.title._element,on.pluginService=on.plugins,on.PluginBase=on.Element.extend({}),on.canvasHelpers=on.helpers.canvas,on.layoutService=on.layouts,on.LinearScaleBase=Yn,on.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],(function(e){on[e]=function(t,n){return new on(t,on.helpers.merge(n||{},{type:e.charAt(0).toLowerCase()+e.slice(1)}))}})),Wr}(function(){try{return n(265)}catch(e){}}())},,,function(e,t){const n=/^[0-9]+$/,r=(a,b)=>{const e=n.test(a),t=n.test(b);return e&&t&&(a=+a,b=+b),a===b?0:e&&!t?-1:t&&!e?1:a<b?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(a,b)=>r(b,a)}},function(e,t,n){const r=n(274);e.exports=(a,b,e)=>0===r(a,b,e)},function(e,t,n){const r=n(273);e.exports=(a,b,e)=>{const t=new r(a,e),n=new r(b,e);return t.compare(n)||t.compareBuild(n)}},function(e,t,n){const r=n(274);e.exports=(a,b,e)=>r(a,b,e)<0},function(e,t,n){const r=n(274);e.exports=(a,b,e)=>r(a,b,e)>=0},function(e,t,n){const r=n(274);e.exports=(a,b,e)=>r(a,b,e)<=0},function(e,t,n){const r=n(273),o=n(295),{ANY:l}=o,c=n(275),d=n(296),f=n(294),h=n(308),m=n(310),_=n(309);e.exports=(e,t,n,y)=>{let v,x,M,w,k;switch(e=new r(e,y),t=new c(t,y),n){case">":v=f,x=m,M=h,w=">",k=">=";break;case"<":v=h,x=_,M=f,w="<",k="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(d(e,t,y))return!1;for(let i=0;i<t.set.length;++i){const n=t.set[i];let r=null,c=null;if(n.forEach(e=>{e.semver===l&&(e=new o(">=0.0.0")),r=r||e,c=c||e,v(e.semver,r.semver,y)?r=e:M(e.semver,c.semver,y)&&(c=e)}),r.operator===w||r.operator===k)return!1;if((!c.operator||c.operator===w)&&x(e,c.semver))return!1;if(c.operator===k&&M(e,c.semver))return!1}return!0}},,,,function(e,t,n){!function(e){"use strict";e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(input){return/^nm$/i.test(input)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},o={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},l=function(u){return function(e,t,n,l){var c=r(e),d=o[u][r(e)];return 2===c&&(d=d[t?0:1]),d.replace(/%d/i,e)}},c=["","","","","","","","","","","",""];e.defineLocale("ar",{months:c,monthsShort:c,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:l("s"),ss:l("s"),m:l("m"),mm:l("m"),h:l("h"),hh:l("h"),d:l("d"),dd:l("d"),M:l("M"),MM:l("M"),y:l("y"),yy:l("y")},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(265))},function(e,t,n){!function(e){"use strict";var t=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},n={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},r=function(u){return function(e,r,o,l){var c=t(e),d=n[u][t(e)];return 2===c&&(d=d[r?0:1]),d.replace(/%d/i,e)}},o=["","","","","","","","","","","",""];e.defineLocale("ar-dz",{months:o,monthsShort:o,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:0,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},r={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},o=function(u){return function(e,t,o,l){var c=n(e),d=r[u][n(e)];return 2===c&&(d=d[t?0:1]),d.replace(/%d/i,e)}},l=["","","","","","","","","","","",""];e.defineLocale("ar-ly",{months:l,monthsShort:l,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:o("s"),ss:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:0,doy:6}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"bir ne saniy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(input){return/^(gndz|axam)$/.test(input)},meridiem:function(e,t,n){return e<4?"gec":e<12?"shr":e<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(e){if(0===e)return e+"-nc";var a=e%10;return e+(t[a]||t[e%100-a]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r,o;return"m"===n?t?"":"":"h"===n?t?"":"":e+" "+(r=+e,o={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"}[n].split("_"),r%10==1&&r%100!=11?o[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?o[1]:o[2])}e.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:t,mm:t,h:t,hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/,isPM:function(input){return/^(|)$/.test(input)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-":e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",w:"",ww:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bn-bd",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t||""===t?e:""===t?e>=3?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<6?"":e<12?"":e<15?"":e<18?"":e<20?"":""},week:{dow:0,doy:6}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShortRegex:/^(\d{1,2})/,monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(265))},function(e,t,n){!function(e){"use strict";function t(e,t,n){return e+" "+function(text,e){return 2===e?function(text){var e={m:"v",b:"v",d:"z"};return void 0===e[text.charAt(0)]?text:e[text.charAt(0)]+text.substring(1)}(text):text}({mm:"munutenn",MM:"miz",dd:"devezh"}[n],e)}var n=[/^gen/i,/^c[\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],r=/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,o=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];e.defineLocale("br",{months:"Genver_Chwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_Chwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Mercher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:o,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:o,monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dech da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:function(e){switch(function e(t){return t>9?e(t%10):t}(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(e){return e+(1===e?"a":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(e){return"g.m."===e},meridiem:function(e,t,n){return e<12?"a.m.":"g.m."}})}(n(265))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var output=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(output="a"),e+output},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";var t="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),n="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),r=[/^led/i,/^no/i,/^be/i,/^dub/i,/^kv/i,/^(vn|erven$|ervna)/i,/^(vc|ervenec|ervence)/i,/^srp/i,/^z/i,/^j/i,/^lis/i,/^pro/i],o=/^(leden|nor|bezen|duben|kvten|ervenec|ervence|erven|ervna|srpen|z|jen|listopad|prosinec|led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i;function l(e){return e>1&&e<5&&1!=~~(e/10)}function c(e,t,n,r){var o=e+" ";switch(n){case"s":return t||r?"pr sekund":"pr sekundami";case"ss":return t||r?o+(l(e)?"sekundy":"sekund"):o+"sekundami";case"m":return t?"minuta":r?"minutu":"minutou";case"mm":return t||r?o+(l(e)?"minuty":"minut"):o+"minutami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?o+(l(e)?"hodiny":"hodin"):o+"hodinami";case"d":return t||r?"den":"dnem";case"dd":return t||r?o+(l(e)?"dny":"dn"):o+"dny";case"M":return t||r?"msc":"mscem";case"MM":return t||r?o+(l(e)?"msce":"msc"):o+"msci";case"y":return t||r?"rok":"rokem";case"yy":return t||r?o+(l(e)?"roky":"let"):o+"lety"}}e.defineLocale("cs",{months:t,monthsShort:n,monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(leden|ledna|nora|nor|bezen|bezna|duben|dubna|kvten|kvtna|ervenec|ervence|erven|ervna|srpen|srpna|z|jen|jna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:c,ss:c,m:c,mm:c,h:c,hh:c,d:c,dd:c,M:c,MM:c,y:c,yy:c},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(output){return output+(/$/i.exec(output)?"":/$/i.exec(output)?"":"")},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var output="";return e>20?output=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(output=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+output},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var o={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?o[n][0]:o[n][1]}e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var o={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?o[n][0]:o[n][1]}e.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var o={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?o[n][0]:o[n][1]}e.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""];e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:7,doy:12}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(e,t,n){return e>11?n?"":"":n?"":""},isPM:function(input){return""===(input+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var input,output=this._calendarEl[e],n=t&&t.hours();return input=output,("undefined"!=typeof Function&&input instanceof Function||"[object Function]"===Object.prototype.toString.call(input))&&(output=output.apply(t)),output.replace("{}",n%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var b=e%10;return e+(1==~~(e%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:0,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var b=e%10;return e+(1==~~(e%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var b=e%10;return e+(1==~~(e%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var b=e%10;return e+(1==~~(e%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var b=e%10;return e+(1==~~(e%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var b=e%10;return e+(1==~~(e%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:0,doy:6}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var b=e%10;return e+(1==~~(e%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var b=e%10;return e+(1==~~(e%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_ag_sept_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(input){return"p"===input.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4},invalidDate:"Fecha invlida"})}(n(265))},function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:4},invalidDate:"Fecha invlida"})}(n(265))},function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}})}(n(265))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var o={s:["mne sekundi","mni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["he minuti","ks minut"],mm:[e+" minuti",e+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[e+" tunni",e+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[e+" kuu",e+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[e+" aasta",e+" aastat"]};return t?o[n][2]?o[n][2]:o[n][1]:r?o[n][0]:o[n][1]}e.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d peva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(input){return/  /.test(input)},meridiem:function(e,t,n){return e<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[-]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})}(n(265))},function(e,t,n){!function(e){"use strict";var t="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),n=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",t[7],t[8],t[9]];function r(e,r,o,l){var c="";switch(o){case"s":return l?"muutaman sekunnin":"muutama sekunti";case"ss":c=l?"sekunnin":"sekuntia";break;case"m":return l?"minuutin":"minuutti";case"mm":c=l?"minuutin":"minuuttia";break;case"h":return l?"tunnin":"tunti";case"hh":c=l?"tunnin":"tuntia";break;case"d":return l?"pivn":"piv";case"dd":c=l?"pivn":"piv";break;case"M":return l?"kuukauden":"kuukausi";case"MM":c=l?"kuukauden":"kuukautta";break;case"y":return l?"vuoden":"vuosi";case"yy":c=l?"vuoden":"vuotta"}return c=function(e,r){return e<10?r?n[e]:t[e]:e}(e,l)+" "+c}e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnaur",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";var t=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?|janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,n=[/^janv/i,/^fvr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^aot/i,/^sept/i,/^oct/i,/^nov/i,/^dc/i];e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsRegex:t,monthsShortRegex:t,monthsStrictRegex:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,monthsShortStrictRegex:/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("ga",{months:["Eanir","Feabhra","Mrta","Aibren","Bealtaine","Meitheamh","Iil","Lnasa","Men Fmhair","Deireadh Fmhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","Mrt","Aib","Beal","Meith","Iil","Ln","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D Domhnaigh","D Luain","D Mirt","D Cadaoin","Dardaoin","D hAoine","D Sathairn"],weekdaysShort:["Domh","Luan","Mirt","Cad","Dar","Aoine","Sath"],weekdaysMin:["Do","Lu","M","C","D","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amrach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s  shin",s:"cpla soicind",ss:"%d soicind",m:"nimad",mm:"%d nimad",h:"uair an chloig",hh:"%d uair an chloig",d:"l",dd:"%d l",M:"m",MM:"%d monna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],monthsShort:["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],monthsParseExact:!0,weekdays:["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D","Lu","M","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var o={s:[" "," "],ss:[e+" ",e+" "],m:[" "," "],mm:[e+" ",e+" "],h:[" "," "],hh:[e+" ",e+" "],d:[" "," "],dd:[e+" ",e+" "],M:[" "," "],MM:[e+" ",e+" "],y:[" "," "],yy:[e+" ",e+" "]};return r?o[n][0]:o[n][1]}e.defineLocale("gom-deva",{months:{standalone:"___________".split("_"),format:"___________".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm []",LTS:"A h:mm:ss []",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm []",LLLL:"dddd, MMMM Do, YYYY, A h:mm []",llll:"ddd, D MMM YYYY, A h:mm []"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(e,t){switch(t){case"D":return e+"";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:0,doy:3},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>12?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<12?"":e<16?"":e<20?"":""}})}(n(265))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var o={s:["thoddea sekondamni","thodde sekond"],ss:[e+" sekondamni",e+" sekond"],m:["eka mintan","ek minut"],mm:[e+" mintamni",e+" mintam"],h:["eka voran","ek vor"],hh:[e+" voramni",e+" voram"],d:["eka disan","ek dis"],dd:[e+" disamni",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineamni",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsamni",e+" vorsam"]};return r?o[n][0]:o[n][1]}e.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokallim"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokallim":e<16?"donparam":e<20?"sanje":"rati"}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(e){return 2===e?"":e+" "},d:"",dd:function(e){return 2===e?"":e+" "},M:"",MM:function(e){return 2===e?"":e+" "},y:"",yy:function(e){return 2===e?"":e%10==0&&10!==e?e+" ":e+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(input){return/^("| |)$/.test(input)},meridiem:function(e,t,n){return e<5?" ":e<10?"":e<12?n?'"':" ":e<18?n?'"':" ":""}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=[/^/i,/^|/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^|/i,/^/i,/^|/i,/^|/i];e.defineLocale("hi",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},monthsParse:r,longMonthsParse:r,shortMonthsParse:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],monthsRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsShortRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsStrictRegex:/^(?||?|?|?|?|?|?|?|||?\.?||\.?||?||?)/i,monthsShortStrictRegex:/^(\.?|\.?|?|\.?|?|?|\.?|\.?|\.?|\.?|\.?|\.?)/i,calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(265))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:return"[prolu] [nedjelju] [u] LT";case 3:return"[prolu] [srijedu] [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";var t="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function n(e,t,n,r){var o=e;switch(n){case"s":return r||t?"nhny msodperc":"nhny msodperce";case"ss":return o+(r||t)?" msodperc":" msodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return o+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" ra":" rja");case"hh":return o+(r||t?" ra":" rja");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return o+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hnap":" hnapja");case"MM":return o+(r||t?" hnap":" hnapja");case"y":return"egy"+(r||t?" v":" ve");case"yy":return o+(r||t?" v":" ve")}return""}function r(e){return(e?"":"[mlt] ")+"["+t[this.day()]+"] LT[-kor]"}e.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan._feb._mrc._pr._mj._jn._jl._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(input){return"u"===input.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return r.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return r.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(input){return/^(|)$/.test(input)},meridiem:function(e){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-":e+"-";default:return e}},week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(n(265))},function(e,t,n){!function(e){"use strict";function t(e){return e%100==11||e%10!=1}function n(e,n,r,o){var l=e+" ";switch(r){case"s":return n||o?"nokkrar sekndur":"nokkrum sekndum";case"ss":return t(e)?l+(n||o?"sekndur":"sekndum"):l+"seknda";case"m":return n?"mnta":"mntu";case"mm":return t(e)?l+(n||o?"mntur":"mntum"):n?l+"mnta":l+"mntu";case"hh":return t(e)?l+(n||o?"klukkustundir":"klukkustundum"):l+"klukkustund";case"d":return n?"dagur":o?"dag":"degi";case"dd":return t(e)?n?l+"dagar":l+(o?"daga":"dgum"):n?l+"dagur":l+(o?"dag":"degi");case"M":return n?"mnuur":o?"mnu":"mnui";case"MM":return t(e)?n?l+"mnuir":l+(o?"mnui":"mnuum"):n?l+"mnuur":l+(o?"mnu":"mnui");case"y":return n||o?"r":"ri";case"yy":return t(e)?l+(n||o?"r":"rum"):l+(n||o?"r":"ri")}}e.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(s){return(/^[0-9].+$/.test(s)?"tra":"in")+" "+s},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"",narrow:"",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"",narrow:"",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"",narrow:"",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"",narrow:"",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"",narrow:"",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(|\d+)/,eraYearOrdinalParse:function(input,e){return""===e[1]?1:parseInt(e[1]||input,10)},months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(input){return""===input},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(e){return e.week()!==this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(e){return this.week()!==e.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e,t){switch(t){case"y":return 1===e?"":e+"";case"d":case"D":case"DDD":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("ka",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(s){return s.replace(/(|||||)(|)/,(function(e,t,n){return""===n?t+"":t+n+""}))},past:function(s){return/(||||)/.test(s)?s.replace(/(|)$/," ")://.test(s)?s.replace(/$/," "):s},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(e){return 0===e?e:1===e?e+"-":e<20||e<=100&&e%20==0||e%100==0?"-"+e:e+"-"},week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(e){return e+""},week:{dow:0,doy:6}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=[" ","","","","","","","",""," "," "," "];e.defineLocale("ku",{months:r,monthsShort:r,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return//.test(input)},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:" ",ss:" %d",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var o={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?o[n][0]:o[n][1]}function n(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10;return n(0===t?e/10:t)}if(e<1e4){for(;e>=10;)e/=10;return n(e)}return n(e/=1e3)}e.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(e){return n(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return n(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",ss:"%d Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Mint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(e){return""+e}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function n(e,t,n,r){return t?o(n)[0]:r?o(n)[1]:o(n)[2]}function r(e){return e%10==0||e>10&&e<20}function o(e){return t[e].split("_")}function l(e,t,l,c){var d=e+" ";return 1===e?d+n(0,t,l[0],c):t?d+(r(e)?o(l)[1]:o(l)[0]):c?d+o(l)[1]:d+(r(e)?o(l)[1]:o(l)[2])}e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:function(e,t,n,r){return t?"kelios sekunds":r?"keli sekundi":"kelias sekundes"},ss:l,m:n,mm:l,h:n,hh:l,d:n,dd:l,M:n,MM:l,y:n,yy:l},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(e,t,n){return n?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function r(e,r,o){return e+" "+n(t[o],e,r)}function o(e,r,o){return n(t[o],e,r)}e.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:function(e,t){return t?"daas sekundes":"dam sekundm"},ss:r,m:o,mm:r,h:o,hh:r,d:o,dd:r,M:o,MM:r,y:o,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var o=t.words[r];return 1===r.length?n?o[0]:o[1]:e+" "+t.correctGrammaticalCase(e,o)}};e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||" "===t||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?" ":e<20?"":""}})}(n(265))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){switch(n){case"s":return t?" ":" ";case"ss":return e+(t?" ":" ");case"m":case"mm":return e+(t?" ":" ");case"h":case"hh":return e+(t?" ":" ");case"d":case"dd":return e+(t?" ":" ");case"M":case"MM":return e+(t?" ":" ");case"y":case"yy":return e+(t?" ":" ");default:return e}}e.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/|/i,isPM:function(input){return""===input},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" ";default:return e}}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function r(e,t,n,r){var output="";if(t)switch(n){case"s":output=" ";break;case"ss":output="%d ";break;case"m":output=" ";break;case"mm":output="%d ";break;case"h":output=" ";break;case"hh":output="%d ";break;case"d":output=" ";break;case"dd":output="%d ";break;case"M":output=" ";break;case"MM":output="%d ";break;case"y":output=" ";break;case"yy":output="%d "}else switch(n){case"s":output=" ";break;case"ss":output="%d ";break;case"m":output=" ";break;case"mm":output="%d ";break;case"h":output=" ";break;case"hh":output="%d ";break;case"d":output=" ";break;case"dd":output="%d ";break;case"M":output=" ";break;case"MM":output="%d ";break;case"y":output=" ";break;case"yy":output="%d "}return output.replace(/%d/i,e)}e.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t?e:""===t||""===t||""===t?e>=12?e:e+12:void 0},meridiem:function(e,t,n){return e>=0&&e<6?"":e<12?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"":e<12?"":e<16?"":e<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}})}(n(265))},function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],o=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",w:"n week",ww:"%d weken",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],o=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("oc-lnc",{months:{standalone:"genir_febrir_mar_abril_mai_junh_julhet_agost_setembre_octbre_novembre_decembre".split("_"),format:"de genir_de febrir_de mar_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'octbre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dimcres_dijus_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[ui a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[ir a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var output=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(output="a"),e+output},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(265))},function(e,t,n){!function(e){"use strict";var t="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),r=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa/i,/^lis/i,/^gru/i];function o(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function l(e,t,n){var r=e+" ";switch(n){case"ss":return r+(o(e)?"sekundy":"sekund");case"m":return t?"minuta":"minut";case"mm":return r+(o(e)?"minuty":"minut");case"h":return t?"godzina":"godzin";case"hh":return r+(o(e)?"godziny":"godzin");case"ww":return r+(o(e)?"tygodnie":"tygodni");case"MM":return r+(o(e)?"miesice":"miesicy");case"yy":return r+(o(e)?"lata":"lat")}}e.defineLocale("pl",{months:function(e,r){return e?/D MMMM/.test(r)?n[e.month()]:t[e.month()]:t},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:l,m:l,mm:l,h:l,hh:l,d:"1 dzie",dd:"%d dni",w:"tydzie",ww:l,M:"miesic",MM:l,y:"rok",yy:l},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"do_2_3_4_5_6_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",invalidDate:"Data invlida"})}(n(265))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=" ";return(e%100>=20||e>=100&&e%100==0)&&(r=" de "),e+r+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"sptmni",MM:"luni",yy:"ani"}[n]}e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:t,m:"un minut",mm:t,h:"o or",hh:t,d:"o zi",dd:t,w:"o sptmn",ww:t,M:"o lun",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r,o;return"m"===n?t?"":"":e+" "+(r=+e,o={ss:t?"__":"__",mm:t?"__":"__",hh:"__",dd:"__",ww:"__",MM:"__",yy:"__"}[n].split("_"),r%10==1&&r%100!=11?o[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?o[1]:o[2])}var n=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];e.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:t,m:t,mm:t,h:"",hh:t,d:"",dd:t,w:"",ww:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/i,isPM:function(input){return/^(|)$/.test(input)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""];e.defineLocale("sd",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e){return e+" "},meridiemParse:/ | |.|../,isPM:function(input){return".."===input||" "===input},meridiem:function(e,t,n){return e>11?n?"..":" ":n?"..":" "}})}(n(265))},function(e,t,n){!function(e){"use strict";var t="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),n="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function r(e){return e>1&&e<5}function o(e,t,n,o){var l=e+" ";switch(n){case"s":return t||o?"pr seknd":"pr sekundami";case"ss":return t||o?l+(r(e)?"sekundy":"seknd"):l+"sekundami";case"m":return t?"minta":o?"mintu":"mintou";case"mm":return t||o?l+(r(e)?"minty":"mint"):l+"mintami";case"h":return t?"hodina":o?"hodinu":"hodinou";case"hh":return t||o?l+(r(e)?"hodiny":"hodn"):l+"hodinami";case"d":return t||o?"de":"dom";case"dd":return t||o?l+(r(e)?"dni":"dn"):l+"dami";case"M":return t||o?"mesiac":"mesiacom";case"MM":return t||o?l+(r(e)?"mesiace":"mesiacov"):l+"mesiacmi";case"y":return t||o?"rok":"rokom";case"yy":return t||o?l+(r(e)?"roky":"rokov"):l+"rokmi"}}e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:o,ss:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var o=e+" ";switch(n){case"s":return t||r?"nekaj sekund":"nekaj sekundami";case"ss":return o+=1===e?t?"sekundo":"sekundi":2===e?t||r?"sekundi":"sekundah":e<5?t||r?"sekunde":"sekundah":"sekund";case"m":return t?"ena minuta":"eno minuto";case"mm":return o+=1===e?t?"minuta":"minuto":2===e?t||r?"minuti":"minutama":e<5?t||r?"minute":"minutami":t||r?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return o+=1===e?t?"ura":"uro":2===e?t||r?"uri":"urama":e<5?t||r?"ure":"urami":t||r?"ur":"urami";case"d":return t||r?"en dan":"enim dnem";case"dd":return o+=1===e?t||r?"dan":"dnem":2===e?t||r?"dni":"dnevoma":t||r?"dni":"dnevi";case"M":return t||r?"en mesec":"enim mesecem";case"MM":return o+=1===e?t||r?"mesec":"mesecem":2===e?t||r?"meseca":"mesecema":e<5?t||r?"mesece":"meseci":t||r?"mesecev":"meseci";case"y":return t||r?"eno leto":"enim letom";case"yy":return o+=1===e?t||r?"leto":"letom":2===e?t||r?"leti":"letoma":e<5?t||r?"leta":"leti":t||r?"let":"leti"}}e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(input){return"M"===input.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var o=t.words[r];return 1===r.length?n?o[0]:o[1]:e+" "+t.correctGrammaticalCase(e,o)}};e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var o=t.words[r];return 1===r.length?n?o[0]:o[1]:e+" "+t.correctGrammaticalCase(e,o)}};e.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"",dd:t.translate,M:"",MM:t.translate,y:"",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(e){var b=e%10;return e+(1==~~(e%100/10)?":e":1===b||2===b?":a":":e")},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e+""},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||||/,meridiem:function(e,t,n){return e<2?" ":e<6?" ":e<10?" ":e<14?" ":e<18?" ":e<22?" ":" "},meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<2?e:e+12:""===t||""===t||""===t&&e>=10?e:e+12},week:{dow:0,doy:6}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var b=e%10;return e+(1==~~(e%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("tg",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=11?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<11?"":e<16?"":e<19?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'nji",4:"'nji",100:"'nji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};e.defineLocale("tk",{months:"anwar_Fewral_Mart_Aprel_Ma_Iun_Iul_Awgust_Sentabr_Oktabr_Noabr_Dekabr".split("_"),monthsShort:"an_Few_Mar_Apr_Ma_In_Il_Awg_Sen_Okt_No_Dek".split("_"),weekdays:"ekenbe_Duenbe_Sienbe_arenbe_Penenbe_Anna_enbe".split("_"),weekdaysShort:"ek_Du_Si_ar_Pen_Ann_en".split("_"),weekdaysMin:"k_D_S_r_Pn_An_n".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so",past:"%s ",s:"birne sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir gn",dd:"%d gn",M:"bir a",MM:"%d a",y:"bir yl",yy:"%d yl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'unjy";var a=e%10;return e+(t[a]||t[e%100-a]||t[e>=100?100:null])}},week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";var t="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(e,n,r,o){var l=function(e){var n=Math.floor(e%1e3/100),r=Math.floor(e%100/10),o=e%10,l="";return n>0&&(l+=t[n]+"vatlh"),r>0&&(l+=(""!==l?" ":"")+t[r]+"maH"),o>0&&(l+=(""!==l?" ":"")+t[o]),""===l?"pagh":l}(e);switch(r){case"ss":return l+" lup";case"mm":return l+" tup";case"hh":return l+" rep";case"dd":return l+" jaj";case"MM":return l+" jar";case"yy":return l+" DIS"}}e.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(output){var time=output;return time=-1!==output.indexOf("jaj")?time.slice(0,-3)+"leS":-1!==output.indexOf("jar")?time.slice(0,-3)+"waQ":-1!==output.indexOf("DIS")?time.slice(0,-3)+"nem":time+" pIq"},past:function(output){var time=output;return time=-1!==output.indexOf("jaj")?time.slice(0,-3)+"Hu":-1!==output.indexOf("jar")?time.slice(0,-3)+"wen":-1!==output.indexOf("DIS")?time.slice(0,-3)+"ben":time+" ret"},s:"puS lup",ss:n,m:"wa tup",mm:n,h:"wa rep",hh:n,d:"wa jaj",dd:n,M:"wa jar",MM:n,y:"wa DIS",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};e.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),meridiem:function(e,t,n){return e<12?n?"":"":n?"s":"S"},meridiemParse:/||s|S/,isPM:function(input){return"s"===input||"S"===input},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'nc";var a=e%10;return e+(t[a]||t[e%100-a]||t[e>=100?100:null])}},week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var o={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n mut","'iens mut"],mm:[e+" muts",e+" muts"],h:["'n ora","'iensa ora"],hh:[e+" oras",e+" oras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return r||t?o[n][0]:o[n][1]}e.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(input){return"d'o"===input.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function(e,t){return 12===e&&(e=0)," "===t||""===t||" "===t?e:" "===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?" ":r<900?"":r<1130?" ":r<1230?"":r<1800?" ":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-";case"w":case"W":return e+"-";default:return e}},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r,o;return"m"===n?t?"":"":"h"===n?t?"":"":e+" "+(r=+e,o={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"}[n].split("_"),r%10==1&&r%100!=11?o[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?o[1]:o[2])}function n(e){return function(){return e+""+(11===this.hours()?"":"")+"] LT"}}e.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:function(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return!0===e?n.nominative.slice(1,7).concat(n.nominative.slice(0,1)):e?n[/(\[[]\]) ?dddd/.test(t)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]:n.nominative},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:n("[ "),nextDay:n("[ "),lastDay:n("[ "),nextWeek:n("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return n("[] dddd [").call(this);case 1:case 2:case 4:return n("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:t,m:t,mm:t,h:"",hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/,isPM:function(input){return/^(|)$/.test(input)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";var t=["","","","","","","","","","","",""],n=["","","","","","",""];e.defineLocale("ur",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(input){return/^ch$/i.test(input)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun trc lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",w:"mt tun",ww:"%d tun",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var b=e%10;return e+(1==~~(e%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:function(e){return e.week()!==this.week()?"[]dddLT":"[]dddLT"},lastDay:"[]LT",lastWeek:function(e){return this.week()!==e.week()?"[]dddLT":"[]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1200?"":1200===r?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-mo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"D/M/YYYY",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(265))},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(265))},,function(e,t,n){const r=n(274);e.exports=(a,b,e)=>0!==r(a,b,e)},function(e,t,n){const r=n(306),o=n(451),l=n(294),c=n(309),d=n(308),f=n(310);e.exports=(a,e,b,t)=>{switch(e){case"===":return"object"==typeof a&&(a=a.version),"object"==typeof b&&(b=b.version),a===b;case"!==":return"object"==typeof a&&(a=a.version),"object"==typeof b&&(b=b.version),a!==b;case"":case"=":case"==":return r(a,b,t);case"!=":return o(a,b,t);case">":return l(a,b,t);case">=":return c(a,b,t);case"<":return d(a,b,t);case"<=":return f(a,b,t);default:throw new TypeError("Invalid operator: "+e)}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=n(266);function o(data,t){const n=t&&t.property?Object(r.u)(t.property):r.y;return!Object(r.H)(data)||(o=data,"function"==typeof e&&Object(r.E)(e.isBuffer)&&e.isBuffer(o))?n(JSON.parse(data)):function(data,e){!Object(r.B)(data)&&Object(r.F)(data)&&(data=[...data]);return e&&e.copy?JSON.parse(JSON.stringify(data)):data}(n(data),t);var o}o.responseType="json"}).call(this,n(454).Buffer)},function(e,t,n){"use strict";(function(e){var r=n(514),o=n(515),l=n(516);function c(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function d(e,t){if(c()<t)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=f.prototype:(null===e&&(e=new f(t)),e.length=t),e}function f(e,t,n){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return _(this,e)}return h(this,e,t,n)}function h(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);f.TYPED_ARRAY_SUPPORT?(e=t).__proto__=f.prototype:e=y(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!f.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|x(t,n),o=(e=d(e,r)).write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(f.isBuffer(t)){var n=0|v(t.length);return 0===(e=d(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?d(e,0):y(e,t);if("Buffer"===t.type&&l(t.data))return y(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function m(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function _(e,t){if(m(t),e=d(e,t<0?0:0|v(t)),!f.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function y(e,t){var n=t.length<0?0:0|v(t.length);e=d(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function v(e){if(e>=c())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c().toString(16)+" bytes");return 0|e}function x(e,t){if(f.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return J(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(r)return J(e).length;t=(""+t).toLowerCase(),r=!0}}function M(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return F(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function w(b,e,t){var i=b[e];b[e]=b[t],b[t]=i}function k(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=f.from(t,r)),f.isBuffer(t))return 0===t.length?-1:L(e,t,n,r,o);if("number"==typeof t)return t&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):L(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function L(e,t,n,r,o){var i,l=1,c=e.length,d=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;l=2,c/=2,d/=2,n/=2}function f(e,i){return 1===l?e[i]:e.readUInt16BE(i*l)}if(o){var h=-1;for(i=n;i<c;i++)if(f(e,i)===f(t,-1===h?0:i-h)){if(-1===h&&(h=i),i-h+1===d)return h*l}else-1!==h&&(i-=i-h),h=-1}else for(n+d>c&&(n=c-d),i=n;i>=0;i--){for(var m=!0,_=0;_<d;_++)if(f(e,i+_)!==f(t,_)){m=!1;break}if(m)return i}return-1}function D(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var l=t.length;if(l%2!=0)throw new TypeError("Invalid hex string");r>l/2&&(r=l/2);for(var i=0;i<r;++i){var c=parseInt(t.substr(2*i,2),16);if(isNaN(c))return i;e[n+i]=c}return i}function O(e,t,n,r){return X(J(t,e.length-n),e,n,r)}function j(e,t,n,r){return X(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,n,r)}function S(e,t,n,r){return j(e,t,n,r)}function Y(e,t,n,r){return X(G(t),e,n,r)}function T(e,t,n,r){return X(function(e,t){for(var n,r,o,l=[],i=0;i<e.length&&!((t-=2)<0);++i)n=e.charCodeAt(i),r=n>>8,o=n%256,l.push(o),l.push(r);return l}(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,l,c,d,f=e[i],h=null,m=f>239?4:f>223?3:f>191?2:1;if(i+m<=n)switch(m){case 1:f<128&&(h=f);break;case 2:128==(192&(o=e[i+1]))&&(d=(31&f)<<6|63&o)>127&&(h=d);break;case 3:o=e[i+1],l=e[i+2],128==(192&o)&&128==(192&l)&&(d=(15&f)<<12|(63&o)<<6|63&l)>2047&&(d<55296||d>57343)&&(h=d);break;case 4:o=e[i+1],l=e[i+2],c=e[i+3],128==(192&o)&&128==(192&l)&&128==(192&c)&&(d=(15&f)<<18|(63&o)<<12|(63&l)<<6|63&c)>65535&&d<1114112&&(h=d)}null===h?(h=65533,m=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),i+=m}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=4096));return n}(r)}t.Buffer=f,t.SlowBuffer=function(e){+e!=e&&(e=0);return f.alloc(+e)},t.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=c(),f.poolSize=8192,f._augment=function(e){return e.__proto__=f.prototype,e},f.from=function(e,t,n){return h(null,e,t,n)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(e,t,n){return function(e,t,n,r){return m(t),t<=0?d(e,t):void 0!==n?"string"==typeof r?d(e,t).fill(n,r):d(e,t).fill(n):d(e,t)}(null,e,t,n)},f.allocUnsafe=function(e){return _(null,e)},f.allocUnsafeSlow=function(e){return _(null,e)},f.isBuffer=function(b){return!(null==b||!b._isBuffer)},f.compare=function(a,b){if(!f.isBuffer(a)||!f.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var e=a.length,t=b.length,i=0,n=Math.min(e,t);i<n;++i)if(a[i]!==b[i]){e=a[i],t=b[i];break}return e<t?-1:t<e?1:0},f.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(e,t){if(!l(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return f.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=f.allocUnsafe(t),r=0;for(i=0;i<e.length;++i){var o=e[i];if(!f.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},f.byteLength=x,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<e;i+=2)w(this,i,i+1);return this},f.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<e;i+=4)w(this,i,i+3),w(this,i+1,i+2);return this},f.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<e;i+=8)w(this,i,i+7),w(this,i+1,i+6),w(this,i+2,i+5),w(this,i+3,i+4);return this},f.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):M.apply(this,arguments)},f.prototype.equals=function(b){if(!f.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===f.compare(this,b)},f.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},f.prototype.compare=function(e,t,n,r,o){if(!f.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var l=(o>>>=0)-(r>>>=0),c=(n>>>=0)-(t>>>=0),d=Math.min(l,c),h=this.slice(r,o),m=e.slice(t,n),i=0;i<d;++i)if(h[i]!==m[i]){l=h[i],c=m[i];break}return l<c?-1:c<l?1:0},f.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},f.prototype.indexOf=function(e,t,n){return k(this,e,t,n,!0)},f.prototype.lastIndexOf=function(e,t,n){return k(this,e,t,n,!1)},f.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var l=!1;;)switch(r){case"hex":return D(this,e,t,n);case"utf8":case"utf-8":return O(this,e,t,n);case"ascii":return j(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return Y(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(l)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),l=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function F(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function P(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=V(e[i]);return o}function N(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function z(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function H(e,t,n,r,o,l){if(!f.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<l)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function I(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function B(e,t,n,r,o,l){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function $(e,t,n,r,l){return l||B(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function W(e,t,n,r,l){return l||B(e,0,n,8),o.write(e,t,n,r,52,8),n+8}f.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),f.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=f.prototype;else{var o=t-e;n=new f(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},f.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||z(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},f.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||z(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},f.prototype.readUInt8=function(e,t){return t||z(e,1,this.length),this[e]},f.prototype.readUInt16LE=function(e,t){return t||z(e,2,this.length),this[e]|this[e+1]<<8},f.prototype.readUInt16BE=function(e,t){return t||z(e,2,this.length),this[e]<<8|this[e+1]},f.prototype.readUInt32LE=function(e,t){return t||z(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},f.prototype.readUInt32BE=function(e,t){return t||z(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},f.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||z(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},f.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||z(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},f.prototype.readInt8=function(e,t){return t||z(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},f.prototype.readInt16LE=function(e,t){t||z(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt16BE=function(e,t){t||z(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt32LE=function(e,t){return t||z(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},f.prototype.readInt32BE=function(e,t){return t||z(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},f.prototype.readFloatLE=function(e,t){return t||z(e,4,this.length),o.read(this,e,!0,23,4)},f.prototype.readFloatBE=function(e,t){return t||z(e,4,this.length),o.read(this,e,!1,23,4)},f.prototype.readDoubleLE=function(e,t){return t||z(e,8,this.length),o.read(this,e,!0,52,8)},f.prototype.readDoubleBE=function(e,t){return t||z(e,8,this.length),o.read(this,e,!1,52,8)},f.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||H(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},f.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||H(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},f.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,1,255,0),f.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},f.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},f.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},f.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):I(this,e,t,!0),t+4},f.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},f.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);H(this,e,t,n,o-1,-o)}var i=0,l=1,sub=0;for(this[t]=255&e;++i<n&&(l*=256);)e<0&&0===sub&&0!==this[t+i-1]&&(sub=1),this[t+i]=(e/l>>0)-sub&255;return t+n},f.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);H(this,e,t,n,o-1,-o)}var i=n-1,l=1,sub=0;for(this[t+i]=255&e;--i>=0&&(l*=256);)e<0&&0===sub&&0!==this[t+i+1]&&(sub=1),this[t+i]=(e/l>>0)-sub&255;return t+n},f.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,1,127,-128),f.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},f.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},f.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},f.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):I(this,e,t,!0),t+4},f.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},f.prototype.writeFloatLE=function(e,t,n){return $(this,e,t,!0,n)},f.prototype.writeFloatBE=function(e,t,n){return $(this,e,t,!1,n)},f.prototype.writeDoubleLE=function(e,t,n){return W(this,e,t,!0,n)},f.prototype.writeDoubleBE=function(e,t,n){return W(this,e,t,!1,n)},f.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!f.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},f.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var code=e.charCodeAt(0);code<256&&(e=code)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!f.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var o=f.isBuffer(e)?e:J(new f(e,r).toString()),l=o.length;for(i=0;i<n-t;++i)this[i+t]=o[i%l]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function V(e){return e<16?"0"+e.toString(16):e.toString(16)}function J(e,t){var n;t=t||1/0;for(var r=e.length,o=null,l=[],i=0;i<r;++i){if((n=e.charCodeAt(i))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&l.push(239,191,189);continue}if(i+1===r){(t-=3)>-1&&l.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&l.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&l.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;l.push(n)}else if(n<2048){if((t-=2)<0)break;l.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;l.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;l.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return l}function G(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function X(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(47))},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"JsonPatchError",(function(){return H})),n.d(r,"deepClone",(function(){return R})),n.d(r,"getValueByPointer",(function(){return $})),n.d(r,"applyOperation",(function(){return W})),n.d(r,"applyPatch",(function(){return U})),n.d(r,"applyReducer",(function(){return V})),n.d(r,"validator",(function(){return J})),n.d(r,"validate",(function(){return G})),n.d(r,"_areEquals",(function(){return X}));var o={};n.r(o),n.d(o,"unobserve",(function(){return ee})),n.d(o,"observe",(function(){return te})),n.d(o,"generate",(function(){return ne})),n.d(o,"compare",(function(){return ie}));var l={};n.r(l),n.d(l,"aggregate",(function(){return ms})),n.d(l,"bin",(function(){return ps})),n.d(l,"collect",(function(){return _s})),n.d(l,"compare",(function(){return ys})),n.d(l,"countpattern",(function(){return vs})),n.d(l,"cross",(function(){return xs})),n.d(l,"density",(function(){return ws})),n.d(l,"dotbin",(function(){return js})),n.d(l,"expression",(function(){return Ss})),n.d(l,"extent",(function(){return Ts})),n.d(l,"facet",(function(){return Es})),n.d(l,"field",(function(){return Cs})),n.d(l,"filter",(function(){return Ps})),n.d(l,"flatten",(function(){return Ns})),n.d(l,"fold",(function(){return zs})),n.d(l,"formula",(function(){return Hs})),n.d(l,"generate",(function(){return Rs})),n.d(l,"impute",(function(){return $s})),n.d(l,"joinaggregate",(function(){return Ws})),n.d(l,"kde",(function(){return Us})),n.d(l,"key",(function(){return qs})),n.d(l,"load",(function(){return Js})),n.d(l,"lookup",(function(){return Xs})),n.d(l,"multiextent",(function(){return Zs})),n.d(l,"multivalues",(function(){return Qs})),n.d(l,"params",(function(){return tl})),n.d(l,"pivot",(function(){return nl})),n.d(l,"prefacet",(function(){return rl})),n.d(l,"project",(function(){return il})),n.d(l,"proxy",(function(){return al})),n.d(l,"quantile",(function(){return sl})),n.d(l,"relay",(function(){return ll})),n.d(l,"sample",(function(){return cl})),n.d(l,"sequence",(function(){return fl})),n.d(l,"sieve",(function(){return hl})),n.d(l,"subflow",(function(){return As})),n.d(l,"timeunit",(function(){return ml})),n.d(l,"tupleindex",(function(){return gl})),n.d(l,"values",(function(){return _l})),n.d(l,"window",(function(){return Ml}));var c={};n.r(c),n.d(c,"interpolate",(function(){return Jc})),n.d(c,"interpolateArray",(function(){return Rc})),n.d(c,"interpolateBasis",(function(){return Oc})),n.d(c,"interpolateBasisClosed",(function(){return jc})),n.d(c,"interpolateDate",(function(){return Bc})),n.d(c,"interpolateDiscrete",(function(){return Fd})),n.d(c,"interpolateHue",(function(){return Pd})),n.d(c,"interpolateNumber",(function(){return $c})),n.d(c,"interpolateNumberArray",(function(){return zc})),n.d(c,"interpolateObject",(function(){return Wc})),n.d(c,"interpolateRound",(function(){return Gc})),n.d(c,"interpolateString",(function(){return Vc})),n.d(c,"interpolateTransformCss",(function(){return Id})),n.d(c,"interpolateTransformSvg",(function(){return Bd})),n.d(c,"interpolateZoom",(function(){return Wd})),n.d(c,"interpolateRgb",(function(){return Cc})),n.d(c,"interpolateRgbBasis",(function(){return Pc})),n.d(c,"interpolateRgbBasisClosed",(function(){return Nc})),n.d(c,"interpolateHsl",(function(){return qd})),n.d(c,"interpolateHslLong",(function(){return Vd})),n.d(c,"interpolateLab",(function(){return lf})),n.d(c,"interpolateHcl",(function(){return cf})),n.d(c,"interpolateHclLong",(function(){return df})),n.d(c,"interpolateCubehelix",(function(){return xf})),n.d(c,"interpolateCubehelixLong",(function(){return Mf})),n.d(c,"piecewise",(function(){return Td})),n.d(c,"quantize",(function(){return wf}));var d={};n.r(d),n.d(d,"bound",(function(){return R_})),n.d(d,"identifier",(function(){return B_})),n.d(d,"mark",(function(){return $_})),n.d(d,"overlap",(function(){return W_})),n.d(d,"render",(function(){return Z_})),n.d(d,"viewlayout",(function(){return yy}));var f={};n.r(f),n.d(f,"axisticks",(function(){return vy})),n.d(f,"datajoin",(function(){return xy})),n.d(f,"encode",(function(){return wy})),n.d(f,"legendentries",(function(){return ky})),n.d(f,"linkpath",(function(){return Sy})),n.d(f,"pie",(function(){return Cy})),n.d(f,"scale",(function(){return Ny})),n.d(f,"sortitems",(function(){return Iy})),n.d(f,"stack",(function(){return $y}));var h={};n.r(h),n.d(h,"contour",(function(){return yM})),n.d(h,"geojson",(function(){return bM})),n.d(h,"geopath",(function(){return vM})),n.d(h,"geopoint",(function(){return xM})),n.d(h,"geoshape",(function(){return MM})),n.d(h,"graticule",(function(){return wM})),n.d(h,"heatmap",(function(){return kM})),n.d(h,"isocontour",(function(){return lM})),n.d(h,"kde2d",(function(){return pM})),n.d(h,"projection",(function(){return DM}));var m={};n.r(m),n.d(m,"force",(function(){return bw}));var _={};n.r(_),n.d(_,"nest",(function(){return vk})),n.d(_,"pack",(function(){return Dk})),n.d(_,"partition",(function(){return jk})),n.d(_,"stratify",(function(){return Sk})),n.d(_,"tree",(function(){return Ak})),n.d(_,"treelinks",(function(){return Ek})),n.d(_,"treemap",(function(){return Pk}));var y={};n.r(y),n.d(y,"label",(function(){return eL}));var v={};n.r(v),n.d(v,"loess",(function(){return nL})),n.d(v,"regression",(function(){return iL}));var x={};n.r(x),n.d(x,"voronoi",(function(){return DL}));var M={};n.r(M),n.d(M,"wordcloud",(function(){return HL}));var w={};n.r(w),n.d(w,"crossfilter",(function(){return qL})),n.d(w,"resolvefilter",(function(){return VL}));var k={};n.r(k),n.d(k,"Debug",(function(){return le.a})),n.d(k,"Error",(function(){return le.b})),n.d(k,"Info",(function(){return le.c})),n.d(k,"None",(function(){return le.d})),n.d(k,"Warn",(function(){return le.e})),n.d(k,"accessor",(function(){return le.f})),n.d(k,"accessorFields",(function(){return le.g})),n.d(k,"accessorName",(function(){return le.h})),n.d(k,"array",(function(){return le.i})),n.d(k,"ascending",(function(){return le.j})),n.d(k,"clampRange",(function(){return le.k})),n.d(k,"compare",(function(){return le.l})),n.d(k,"constant",(function(){return le.m})),n.d(k,"debounce",(function(){return le.n})),n.d(k,"error",(function(){return le.o})),n.d(k,"extend",(function(){return le.p})),n.d(k,"extent",(function(){return le.q})),n.d(k,"extentIndex",(function(){return le.r})),n.d(k,"falsy",(function(){return le.s})),n.d(k,"fastmap",(function(){return le.t})),n.d(k,"field",(function(){return le.u})),n.d(k,"flush",(function(){return le.v})),n.d(k,"hasOwnProperty",(function(){return le.w})),n.d(k,"id",(function(){return le.x})),n.d(k,"identity",(function(){return le.y})),n.d(k,"inherits",(function(){return le.z})),n.d(k,"inrange",(function(){return le.A})),n.d(k,"isArray",(function(){return le.B})),n.d(k,"isBoolean",(function(){return le.C})),n.d(k,"isDate",(function(){return le.D})),n.d(k,"isFunction",(function(){return le.E})),n.d(k,"isIterable",(function(){return le.F})),n.d(k,"isNumber",(function(){return le.G})),n.d(k,"isObject",(function(){return le.H})),n.d(k,"isRegExp",(function(){return le.I})),n.d(k,"isString",(function(){return le.J})),n.d(k,"key",(function(){return le.K})),n.d(k,"lerp",(function(){return le.L})),n.d(k,"logger",(function(){return le.M})),n.d(k,"lruCache",(function(){return le.N})),n.d(k,"merge",(function(){return le.O})),n.d(k,"mergeConfig",(function(){return le.P})),n.d(k,"one",(function(){return le.Q})),n.d(k,"pad",(function(){return le.R})),n.d(k,"panLinear",(function(){return le.S})),n.d(k,"panLog",(function(){return le.T})),n.d(k,"panPow",(function(){return le.U})),n.d(k,"panSymlog",(function(){return le.V})),n.d(k,"peek",(function(){return le.W})),n.d(k,"quarter",(function(){return le.X})),n.d(k,"repeat",(function(){return le.Y})),n.d(k,"span",(function(){return le.Z})),n.d(k,"splitAccessPath",(function(){return le.ab})),n.d(k,"stringValue",(function(){return le.bb})),n.d(k,"toBoolean",(function(){return le.cb})),n.d(k,"toDate",(function(){return le.db})),n.d(k,"toNumber",(function(){return le.eb})),n.d(k,"toSet",(function(){return le.fb})),n.d(k,"toString",(function(){return le.gb})),n.d(k,"truncate",(function(){return le.hb})),n.d(k,"truthy",(function(){return le.ib})),n.d(k,"utcquarter",(function(){return le.jb})),n.d(k,"visitArray",(function(){return le.kb})),n.d(k,"writeConfig",(function(){return le.lb})),n.d(k,"zero",(function(){return le.mb})),n.d(k,"zoomLinear",(function(){return le.nb})),n.d(k,"zoomLog",(function(){return le.ob})),n.d(k,"zoomPow",(function(){return le.pb})),n.d(k,"zoomSymlog",(function(){return le.qb})),n.d(k,"Dataflow",(function(){return Wa})),n.d(k,"EventStream",(function(){return Sa})),n.d(k,"MultiPulse",(function(){return Ha})),n.d(k,"Operator",(function(){return Da})),n.d(k,"Parameters",(function(){return wa})),n.d(k,"Pulse",(function(){return Fa})),n.d(k,"Transform",(function(){return qa})),n.d(k,"changeset",(function(){return Ma})),n.d(k,"definition",(function(){return Ja})),n.d(k,"ingest",(function(){return ga})),n.d(k,"isTuple",(function(){return ha})),n.d(k,"transform",(function(){return Ga})),n.d(k,"transforms",(function(){return Va})),n.d(k,"tupleid",(function(){return ma})),n.d(k,"bandwidthNRD",(function(){return oo})),n.d(k,"bin",(function(){return so})),n.d(k,"bootstrapCI",(function(){return co})),n.d(k,"cumulativeLogNormal",(function(){return Do})),n.d(k,"cumulativeNormal",(function(){return vo})),n.d(k,"cumulativeUniform",(function(){return Ao})),n.d(k,"densityLogNormal",(function(){return Lo})),n.d(k,"densityNormal",(function(){return bo})),n.d(k,"densityUniform",(function(){return To})),n.d(k,"dotbin",(function(){return fo})),n.d(k,"quantileLogNormal",(function(){return Oo})),n.d(k,"quantileNormal",(function(){return xo})),n.d(k,"quantileUniform",(function(){return Eo})),n.d(k,"quantiles",(function(){return io})),n.d(k,"quartiles",(function(){return ao})),n.d(k,"random",(function(){return lo})),n.d(k,"randomInteger",(function(){return mo})),n.d(k,"randomKDE",(function(){return wo})),n.d(k,"randomLCG",(function(){return ho})),n.d(k,"randomLogNormal",(function(){return jo})),n.d(k,"randomMixture",(function(){return So})),n.d(k,"randomNormal",(function(){return Mo})),n.d(k,"randomUniform",(function(){return Co})),n.d(k,"regressionExp",(function(){return Io})),n.d(k,"regressionLinear",(function(){return Ho})),n.d(k,"regressionLoess",(function(){return qo})),n.d(k,"regressionLog",(function(){return Ro})),n.d(k,"regressionPoly",(function(){return Wo})),n.d(k,"regressionPow",(function(){return Bo})),n.d(k,"regressionQuad",(function(){return $o})),n.d(k,"sampleCurve",(function(){return Xo})),n.d(k,"sampleLogNormal",(function(){return ko})),n.d(k,"sampleNormal",(function(){return yo})),n.d(k,"sampleUniform",(function(){return Yo})),n.d(k,"setRandom",(function(){return uo})),n.d(k,"DATE",(function(){return gn})),n.d(k,"DAY",(function(){return _n})),n.d(k,"DAYOFYEAR",(function(){return yn})),n.d(k,"HOURS",(function(){return bn})),n.d(k,"MILLISECONDS",(function(){return Mn})),n.d(k,"MINUTES",(function(){return vn})),n.d(k,"MONTH",(function(){return mn})),n.d(k,"QUARTER",(function(){return hn})),n.d(k,"SECONDS",(function(){return xn})),n.d(k,"TIME_UNITS",(function(){return wn})),n.d(k,"WEEK",(function(){return pn})),n.d(k,"YEAR",(function(){return fn})),n.d(k,"dayofyear",(function(){return Yn})),n.d(k,"timeBin",(function(){return gr})),n.d(k,"timeFloor",(function(){return qn})),n.d(k,"timeInterval",(function(){return Kn})),n.d(k,"timeOffset",(function(){return nr})),n.d(k,"timeSequence",(function(){return ar})),n.d(k,"timeUnitSpecifier",(function(){return On})),n.d(k,"timeUnits",(function(){return Ln})),n.d(k,"utcFloor",(function(){return Gn})),n.d(k,"utcInterval",(function(){return Qn})),n.d(k,"utcOffset",(function(){return rr})),n.d(k,"utcSequence",(function(){return or})),n.d(k,"utcdayofyear",(function(){return Pn})),n.d(k,"utcweek",(function(){return Nn})),n.d(k,"week",(function(){return Tn})),n.d(k,"loader",(function(){return la})),n.d(k,"read",(function(){return sa})),n.d(k,"inferType",(function(){return Me})),n.d(k,"inferTypes",(function(){return we})),n.d(k,"typeParsers",(function(){return be})),n.d(k,"format",(function(){return Ue})),n.d(k,"formats",(function(){return qe})),n.d(k,"responseType",(function(){return Ve})),n.d(k,"Bounds",(function(){return _m})),n.d(k,"CanvasHandler",(function(){return zg})),n.d(k,"CanvasRenderer",(function(){return $g})),n.d(k,"Gradient",(function(){return kh})),n.d(k,"GroupItem",(function(){return bm})),n.d(k,"Handler",(function(){return Dg})),n.d(k,"Item",(function(){return ym})),n.d(k,"Marks",(function(){return dg})),n.d(k,"RenderType",(function(){return w_})),n.d(k,"Renderer",(function(){return jg})),n.d(k,"ResourceLoader",(function(){return vm})),n.d(k,"SVGHandler",(function(){return Ug})),n.d(k,"SVGRenderer",(function(){return l_})),n.d(k,"SVGStringRenderer",(function(){return M_})),n.d(k,"Scenegraph",(function(){return yg})),n.d(k,"boundClip",(function(){return T_})),n.d(k,"boundContext",(function(){return Im})),n.d(k,"boundItem",(function(){return fg})),n.d(k,"boundMark",(function(){return mg})),n.d(k,"boundStroke",(function(){return wm})),n.d(k,"domChild",(function(){return Mg})),n.d(k,"domClear",(function(){return wg})),n.d(k,"domCreate",(function(){return vg})),n.d(k,"domFind",(function(){return xg})),n.d(k,"font",(function(){return ag})),n.d(k,"fontFamily",(function(){return ig})),n.d(k,"fontSize",(function(){return Qp})),n.d(k,"intersect",(function(){return D_})),n.d(k,"intersectBoxLine",(function(){return Km})),n.d(k,"intersectPath",(function(){return Jm})),n.d(k,"intersectPoint",(function(){return Gm})),n.d(k,"intersectRule",(function(){return Zm})),n.d(k,"lineHeight",(function(){return eg})),n.d(k,"markup",(function(){return n_})),n.d(k,"multiLineOffset",(function(){return ng})),n.d(k,"pathCurves",(function(){return Dh})),n.d(k,"pathEqual",(function(){return E_})),n.d(k,"pathParse",(function(){return Sh})),n.d(k,"pathRectangle",(function(){return Kh})),n.d(k,"pathRender",(function(){return Rh})),n.d(k,"pathSymbols",(function(){return Wh})),n.d(k,"pathTrail",(function(){return Qh})),n.d(k,"point",(function(){return Lg})),n.d(k,"renderModule",(function(){return L_})),n.d(k,"resetSVGClipId",(function(){return pm})),n.d(k,"resetSVGDefIds",(function(){return C_})),n.d(k,"sceneEqual",(function(){return A_})),n.d(k,"sceneFromJSON",(function(){return _g})),n.d(k,"scenePickVisit",(function(){return cp})),n.d(k,"sceneToJSON",(function(){return gg})),n.d(k,"sceneVisit",(function(){return up})),n.d(k,"sceneZOrder",(function(){return lp})),n.d(k,"serializeXML",(function(){return r_})),n.d(k,"textMetrics",(function(){return Vp})),n.d(k,"interpolate",(function(){return Gf})),n.d(k,"interpolateColors",(function(){return qf})),n.d(k,"interpolateRange",(function(){return Uf})),n.d(k,"quantizeInterpolator",(function(){return Vf})),n.d(k,"scale",(function(){return Ff})),n.d(k,"scheme",(function(){return Qf})),n.d(k,"projection",(function(){return Gx})),n.d(k,"View",(function(){return RS})),n.d(k,"defaultLocale",(function(){return aa})),n.d(k,"formatLocale",(function(){return Zi})),n.d(k,"locale",(function(){return ia})),n.d(k,"resetDefaultLocale",(function(){return oa})),n.d(k,"timeFormatLocale",(function(){return na})),n.d(k,"expressionFunction",(function(){return qj})),n.d(k,"parse",(function(){return hE})),n.d(k,"runtimeContext",(function(){return nS})),n.d(k,"version",(function(){return pE}));var L={};n.r(L),n.d(L,"invalidSpec",(function(){return MP})),n.d(L,"FIT_NON_SINGLE",(function(){return wP})),n.d(L,"containerSizeNonSingle",(function(){return kP})),n.d(L,"containerSizeNotCompatibleWithAutosize",(function(){return LP})),n.d(L,"droppingFit",(function(){return DP})),n.d(L,"unknownField",(function(){return OP})),n.d(L,"cannotProjectOnChannelWithoutField",(function(){return jP})),n.d(L,"cannotProjectAggregate",(function(){return SP})),n.d(L,"nearestNotSupportForContinuous",(function(){return YP})),n.d(L,"selectionNotSupported",(function(){return TP})),n.d(L,"selectionNotFound",(function(){return AP})),n.d(L,"SCALE_BINDINGS_CONTINUOUS",(function(){return EP})),n.d(L,"LEGEND_BINDINGS_MUST_HAVE_PROJECTION",(function(){return CP})),n.d(L,"cannotLookupVariableParameter",(function(){return FP})),n.d(L,"noSameUnitLookup",(function(){return PP})),n.d(L,"NEEDS_SAME_SELECTION",(function(){return NP})),n.d(L,"INTERVAL_INITIALIZED_WITH_X_Y",(function(){return zP})),n.d(L,"noSuchRepeatedValue",(function(){return HP})),n.d(L,"columnsNotSupportByRowCol",(function(){return RP})),n.d(L,"CONCAT_CANNOT_SHARE_AXIS",(function(){return IP})),n.d(L,"unrecognizedParse",(function(){return BP})),n.d(L,"differentParse",(function(){return $P})),n.d(L,"ADD_SAME_CHILD_TWICE",(function(){return WP})),n.d(L,"invalidTransformIgnored",(function(){return UP})),n.d(L,"NO_FIELDS_NEEDS_AS",(function(){return qP})),n.d(L,"customFormatTypeNotAllowed",(function(){return VP})),n.d(L,"projectionOverridden",(function(){return JP})),n.d(L,"REPLACE_ANGLE_WITH_THETA",(function(){return GP})),n.d(L,"primitiveChannelDef",(function(){return XP})),n.d(L,"invalidFieldType",(function(){return ZP})),n.d(L,"invalidFieldTypeForCountAggregate",(function(){return KP})),n.d(L,"invalidAggregate",(function(){return QP})),n.d(L,"missingFieldType",(function(){return eN})),n.d(L,"droppingColor",(function(){return tN})),n.d(L,"relativeBandSizeNotSupported",(function(){return nN})),n.d(L,"emptyFieldDef",(function(){return rN})),n.d(L,"LINE_WITH_VARYING_SIZE",(function(){return iN})),n.d(L,"incompatibleChannel",(function(){return aN})),n.d(L,"invalidEncodingChannel",(function(){return oN})),n.d(L,"channelShouldBeDiscrete",(function(){return sN})),n.d(L,"channelShouldBeDiscreteOrDiscretizing",(function(){return lN})),n.d(L,"facetChannelDropped",(function(){return uN})),n.d(L,"discreteChannelCannotEncode",(function(){return cN})),n.d(L,"rangeMarkAlignmentCannotBeExpression",(function(){return dN})),n.d(L,"lineWithRange",(function(){return fN})),n.d(L,"orientOverridden",(function(){return hN})),n.d(L,"CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN",(function(){return mN})),n.d(L,"cannotUseScalePropertyWithNonColor",(function(){return pN})),n.d(L,"cannotUseRelativeBandSizeWithNonBandScale",(function(){return gN})),n.d(L,"unaggregateDomainHasNoEffectForRawField",(function(){return _N})),n.d(L,"unaggregateDomainWithNonSharedDomainOp",(function(){return yN})),n.d(L,"unaggregatedDomainWithLogScale",(function(){return bN})),n.d(L,"cannotApplySizeToNonOrientedMark",(function(){return vN})),n.d(L,"scaleTypeNotWorkWithChannel",(function(){return xN})),n.d(L,"scaleTypeNotWorkWithFieldDef",(function(){return MN})),n.d(L,"scalePropertyNotWorkWithScaleType",(function(){return wN})),n.d(L,"scaleTypeNotWorkWithMark",(function(){return kN})),n.d(L,"stepDropped",(function(){return LN})),n.d(L,"mergeConflictingProperty",(function(){return DN})),n.d(L,"mergeConflictingDomainProperty",(function(){return ON})),n.d(L,"independentScaleMeansIndependentGuide",(function(){return jN})),n.d(L,"domainSortDropped",(function(){return SN})),n.d(L,"MORE_THAN_ONE_SORT",(function(){return YN})),n.d(L,"FACETED_INDEPENDENT_DIFFERENT_SOURCES",(function(){return TN})),n.d(L,"FACETED_INDEPENDENT_SAME_FIELDS_DIFFERENT_SOURCES",(function(){return AN})),n.d(L,"FACETED_INDEPENDENT_SAME_SOURCE",(function(){return EN})),n.d(L,"INVALID_CHANNEL_FOR_AXIS",(function(){return CN})),n.d(L,"cannotStackRangedMark",(function(){return FN})),n.d(L,"cannotStackNonLinearScale",(function(){return PN})),n.d(L,"stackNonSummativeAggregate",(function(){return NN})),n.d(L,"invalidTimeUnit",(function(){return zN})),n.d(L,"droppedDay",(function(){return HN})),n.d(L,"errorBarCenterAndExtentAreNotNeeded",(function(){return RN})),n.d(L,"errorBarCenterIsUsedWithWrongExtent",(function(){return IN})),n.d(L,"errorBarContinuousAxisHasCustomizedAggregate",(function(){return BN})),n.d(L,"errorBand1DNotSupport",(function(){return $N})),n.d(L,"channelRequiredForBinned",(function(){return WN})),n.d(L,"channelShouldNotBeUsedForBinned",(function(){return UN})),n.d(L,"domainRequiredForThresholdScale",(function(){return qN}));var D={};n.r(D),n.d(D,"version",(function(){return zJ})),n.d(D,"compile",(function(){return NJ})),n.d(D,"normalize",(function(){return O$})),n.d(D,"deepEqual",(function(){return OE})),n.d(D,"duplicate",(function(){return jE})),n.d(D,"pick",(function(){return SE})),n.d(D,"omit",(function(){return YE})),n.d(D,"stringify",(function(){return TE})),n.d(D,"hash",(function(){return AE})),n.d(D,"isNullOrFalse",(function(){return EE})),n.d(D,"contains",(function(){return CE})),n.d(D,"some",(function(){return FE})),n.d(D,"every",(function(){return PE})),n.d(D,"mergeDeep",(function(){return NE})),n.d(D,"unique",(function(){return HE})),n.d(D,"isEqual",(function(){return RE})),n.d(D,"setEqual",(function(){return IE})),n.d(D,"hasIntersection",(function(){return BE})),n.d(D,"prefixGenerator",(function(){return $E})),n.d(D,"fieldIntersection",(function(){return WE})),n.d(D,"isEmpty",(function(){return UE})),n.d(D,"keys",(function(){return qE})),n.d(D,"vals",(function(){return VE})),n.d(D,"entries",(function(){return JE})),n.d(D,"isBoolean",(function(){return GE})),n.d(D,"varName",(function(){return XE})),n.d(D,"logicalExpr",(function(){return ZE})),n.d(D,"deleteNestedProperty",(function(){return KE})),n.d(D,"titleCase",(function(){return QE})),n.d(D,"accessPathWithDatum",(function(){return eC})),n.d(D,"flatAccessWithDatum",(function(){return tC})),n.d(D,"replacePathInField",(function(){return rC})),n.d(D,"replaceAll",(function(){return iC})),n.d(D,"removePathFromField",(function(){return aC})),n.d(D,"accessPathDepth",(function(){return oC})),n.d(D,"getFirstDefined",(function(){return sC})),n.d(D,"uniqueId",(function(){return uC})),n.d(D,"resetIdCounter",(function(){return cC})),n.d(D,"internalField",(function(){return dC})),n.d(D,"isInternalField",(function(){return fC})),n.d(D,"normalizeAngle",(function(){return hC})),n.d(D,"isNumeric",(function(){return mC}));var O={};n.r(O),n.d(O,"dark",(function(){return RJ})),n.d(O,"excel",(function(){return IJ})),n.d(O,"fivethirtyeight",(function(){return BJ})),n.d(O,"ggplot2",(function(){return $J})),n.d(O,"googlecharts",(function(){return ZJ})),n.d(O,"latimes",(function(){return qJ})),n.d(O,"quartz",(function(){return VJ})),n.d(O,"urbaninstitute",(function(){return XJ})),n.d(O,"version",(function(){return KJ})),n.d(O,"vox",(function(){return JJ}));var j,S=(j=function(e,b){return(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)b.hasOwnProperty(p)&&(e[p]=b[p])})(e,b)},function(e,b){function t(){this.constructor=e}j(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}),Y=Object.prototype.hasOwnProperty;function T(e,t){return Y.call(e,t)}function A(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);t=[];for(var i in e)T(e,i)&&t.push(i);return t}function E(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function C(e){for(var t,i=0,n=e.length;i<n;){if(!((t=e.charCodeAt(i))>=48&&t<=57))return!1;i++}return!0}function F(path){return-1===path.indexOf("/")&&-1===path.indexOf("~")?path:path.replace(/~/g,"~0").replace(/\//g,"~1")}function P(path){return path.replace(/~1/g,"/").replace(/~0/g,"~")}function N(e,t){var n=[e];for(var r in t){var o="object"==typeof t[r]?JSON.stringify(t[r],null,2):t[r];void 0!==o&&n.push(r+": "+o)}return n.join("\n")}var z=function(e){function t(t,n,r,o,l){var c=this.constructor,d=e.call(this,N(t,{name:n,index:r,operation:o,tree:l}))||this;return d.name=n,d.index=r,d.operation=o,d.tree=l,Object.setPrototypeOf(d,c.prototype),d.message=N(t,{name:n,index:r,operation:o,tree:l}),d}return S(t,e),t}(Error),H=z,R=E,I={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=$(n,this.path);r&&(r=E(r));var o=W(n,{op:"remove",path:this.from}).removed;return W(n,{op:"add",path:this.path,value:o}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=$(n,this.from);return W(n,{op:"add",path:this.path,value:E(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:X(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},B={add:function(e,i,t){return C(i)?e.splice(i,0,this.value):e[i]=this.value,{newDocument:t,index:i}},remove:function(e,i,t){return{newDocument:t,removed:e.splice(i,1)[0]}},replace:function(e,i,t){var n=e[i];return e[i]=this.value,{newDocument:t,removed:n}},move:I.move,copy:I.copy,test:I.test,_get:I._get};function $(e,t){if(""==t)return e;var n={op:"_get",path:t};return W(e,n),n.value}function W(e,t,n,r,o,l){if(void 0===n&&(n=!1),void 0===r&&(r=!0),void 0===o&&(o=!0),void 0===l&&(l=0),n&&("function"==typeof n?n(t,0,e,t.path):J(t,0)),""===t.path){var c={newDocument:e};if("add"===t.op)return c.newDocument=t.value,c;if("replace"===t.op)return c.newDocument=t.value,c.removed=e,c;if("move"===t.op||"copy"===t.op)return c.newDocument=$(e,t.from),"move"===t.op&&(c.removed=e),c;if("test"===t.op){if(c.test=X(e,t.value),!1===c.test)throw new H("Test operation failed","TEST_OPERATION_FAILED",l,t,e);return c.newDocument=e,c}if("remove"===t.op)return c.removed=e,c.newDocument=null,c;if("_get"===t.op)return t.value=e,c;if(n)throw new H("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",l,t,e);return c}r||(e=E(e));var d=(t.path||"").split("/"),f=e,h=1,m=d.length,_=void 0,y=void 0,v=void 0;for(v="function"==typeof n?n:J;;){if(y=d[h],o&&"__proto__"==y)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===_&&(void 0===f[y]?_=d.slice(0,h).join("/"):h==m-1&&(_=t.path),void 0!==_&&v(t,0,e,_)),h++,Array.isArray(f)){if("-"===y)y=f.length;else{if(n&&!C(y))throw new H("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",l,t,e);C(y)&&(y=~~y)}if(h>=m){if(n&&"add"===t.op&&y>f.length)throw new H("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",l,t,e);if(!1===(c=B[t.op].call(t,f,y,e)).test)throw new H("Test operation failed","TEST_OPERATION_FAILED",l,t,e);return c}}else if(y&&-1!=y.indexOf("~")&&(y=P(y)),h>=m){if(!1===(c=I[t.op].call(t,f,y,e)).test)throw new H("Test operation failed","TEST_OPERATION_FAILED",l,t,e);return c}f=f[y]}}function U(e,t,n,r,o){if(void 0===r&&(r=!0),void 0===o&&(o=!0),n&&!Array.isArray(t))throw new H("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=E(e));for(var l=new Array(t.length),i=0,c=t.length;i<c;i++)l[i]=W(e,t[i],n,!0,o,i),e=l[i].newDocument;return l.newDocument=e,l}function V(e,t,n){var r=W(e,t);if(!1===r.test)throw new H("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function J(e,t,n,r){if("object"!=typeof e||null===e||Array.isArray(e))throw new H("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(!I[e.op])throw new H("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n);if("string"!=typeof e.path)throw new H("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new H('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new H("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new H("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&function e(t){if(void 0===t)return!0;if(t)if(Array.isArray(t)){for(var i=0,n=t.length;i<n;i++)if(e(t[i]))return!0}else if("object"==typeof t){var r=A(t),o=r.length;for(i=0;i<o;i++)if(e(t[r[i]]))return!0}return!1}(e.value))throw new H("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n)if("add"==e.op){var o=e.path.split("/").length,l=r.split("/").length;if(o!==l+1&&o!==l)throw new H("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==r)throw new H("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if("move"===e.op||"copy"===e.op){var c=G([{op:"_get",path:e.from,value:void 0}],n);if(c&&"OPERATION_PATH_UNRESOLVABLE"===c.name)throw new H("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}function G(e,t,n){try{if(!Array.isArray(e))throw new H("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)U(E(t),E(e),n||!0);else{n=n||J;for(var i=0;i<e.length;i++)n(e[i],i,t,void 0)}}catch(e){if(e instanceof H)return e;throw e}}function X(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==typeof b){var i,e,t,n=Array.isArray(a),r=Array.isArray(b);if(n&&r){if((e=a.length)!=b.length)return!1;for(i=e;0!=i--;)if(!X(a[i],b[i]))return!1;return!0}if(n!=r)return!1;var o=Object.keys(a);if((e=o.length)!==Object.keys(b).length)return!1;for(i=e;0!=i--;)if(!b.hasOwnProperty(o[i]))return!1;for(i=e;0!=i--;)if(!X(a[t=o[i]],b[t]))return!1;return!0}return a!=a&&b!=b}var Z=new WeakMap,K=function(e){this.observers=new Map,this.obj=e},Q=function(e,t){this.callback=e,this.observer=t};function ee(e,t){t.unobserve()}function te(e,t){var n,r=function(e){return Z.get(e)}(e);if(r){var o=function(e,t){return e.observers.get(t)}(r,t);n=o&&o.observer}else r=new K(e),Z.set(e,r);if(n)return n;if(n={},r.value=E(e),t){n.callback=t,n.next=null;var l=function(){ne(n)},c=function(){clearTimeout(n.next),n.next=setTimeout(l)};"undefined"!=typeof window&&(window.addEventListener("mouseup",c),window.addEventListener("keyup",c),window.addEventListener("mousedown",c),window.addEventListener("keydown",c),window.addEventListener("change",c))}return n.patches=[],n.object=e,n.unobserve=function(){ne(n),clearTimeout(n.next),function(e,t){e.observers.delete(t.callback)}(r,n),"undefined"!=typeof window&&(window.removeEventListener("mouseup",c),window.removeEventListener("keyup",c),window.removeEventListener("mousedown",c),window.removeEventListener("keydown",c),window.removeEventListener("change",c))},r.observers.set(t,new Q(t,n)),n}function ne(e,t){void 0===t&&(t=!1);var n=Z.get(e.object);re(n.value,e.object,e.patches,"",t),e.patches.length&&U(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function re(e,t,n,path,r){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var o=A(t),l=A(e),c=!1,d=l.length-1;d>=0;d--){var f=e[m=l[d]];if(!T(t,m)||void 0===t[m]&&void 0!==f&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(r&&n.push({op:"test",path:path+"/"+F(m),value:E(f)}),n.push({op:"remove",path:path+"/"+F(m)}),c=!0):(r&&n.push({op:"test",path:path,value:e}),n.push({op:"replace",path:path,value:t}),!0);else{var h=t[m];"object"==typeof f&&null!=f&&"object"==typeof h&&null!=h?re(f,h,n,path+"/"+F(m),r):f!==h&&(!0,r&&n.push({op:"test",path:path+"/"+F(m),value:E(f)}),n.push({op:"replace",path:path+"/"+F(m),value:E(h)}))}}if(c||o.length!=l.length)for(d=0;d<o.length;d++){var m;T(e,m=o[d])||void 0===t[m]||n.push({op:"add",path:path+"/"+F(m),value:E(t[m])})}}}function ie(e,t,n){void 0===n&&(n=!1);var r=[];return re(e,t,r,"",n),r}Object.assign({},r,o,{JsonPatchError:z,deepClone:E,escapePathComponent:F,unescapePathComponent:P});var ae=n(486),oe=n.n(ae),se=n(487),le=n(266);const ue=/^([A-Za-z]+:)?\/\//,ce=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,de=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g;async function fe(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function he(e,t){t=Object(le.p)({},this.options,t);const n=this.fileAccess,r={href:null};let o,l,base;const c=ce.test(e.replace(de,""));null!=e&&"string"==typeof e&&c||Object(le.o)("Sanitize failure, invalid URI: "+Object(le.bb)(e));const d=ue.test(e);return(base=t.baseURL)&&!d&&(e.startsWith("/")||"/"===base[base.length-1]||(e="/"+e),e=base+e),l=(o=e.startsWith("file://"))||"file"===t.mode||"http"!==t.mode&&!d&&n,o?e=e.slice("file://".length):e.startsWith("//")&&("file"===t.defaultProtocol?(e=e.slice(2),l=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!l}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),"image"===t.context&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function me(e){return e?t=>new Promise((n,r)=>{e.readFile(t,(e,data)=>{e?r(e):n(data)})}):pe}async function pe(){Object(le.o)("No file system access.")}function ge(e){return e?async function(t,n){const r=Object(le.p)({},this.options.http,n),o=n&&n.response,l=await e(t,r);return l.ok?Object(le.E)(l[o])?l[o]():l.text():Object(le.o)(l.status+""+l.statusText)}:_e}async function _e(){Object(le.o)("No HTTP fetch method available.")}const ye=e=>!(Number.isNaN(+e)||e instanceof Date),be={boolean:le.cb,integer:le.eb,number:le.eb,date:le.db,string:le.gb,unknown:le.y},ve=[e=>"true"===e||"false"===e||!0===e||!1===e,e=>ye(e)&&Number.isInteger(+e),ye,e=>!Number.isNaN(Date.parse(e))],xe=["boolean","integer","number","date"];function Me(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=ve.length,a=ve.map((e,i)=>i+1);for(let l,c,i=0,d=0;i<n;++i)for(c=t?e[i][t]:e[i],l=0;l<r;++l)if(a[l]&&(null!=(o=c)&&o==o)&&!ve[l](c)&&(a[l]=0,++d,d===ve.length))return"string";var o;return xe[a.reduce((u,e)=>0===u?e:u,0)-1]}function we(data,e){return e.reduce((e,t)=>(e[t]=Me(data,t),e),{})}var ke={},Le={};function De(e){return new Function("d","return {"+e.map((function(e,i){return JSON.stringify(e)+": d["+i+'] || ""'})).join(",")+"}")}function Oe(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function je(e,t){var s=e+"",n=s.length;return n<t?new Array(t-n+1).join(0)+s:s}function Se(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),o=e.getUTCSeconds(),l=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+je(-t,6):t>9999?"+"+je(t,6):je(t,4))+"-"+je(e.getUTCMonth()+1,2)+"-"+je(e.getUTCDate(),2)+(l?"T"+je(n,2)+":"+je(r,2)+":"+je(o,2)+"."+je(l,3)+"Z":o?"T"+je(n,2)+":"+je(r,2)+":"+je(o,2)+"Z":r||n?"T"+je(n,2)+":"+je(r,2)+"Z":"")}var Ye=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(text,e){var t,r=[],o=text.length,l=0,c=0,d=o<=0,f=!1;function h(){if(d)return Le;if(f)return f=!1,ke;var i,e,t=l;if(34===text.charCodeAt(t)){for(;l++<o&&34!==text.charCodeAt(l)||34===text.charCodeAt(++l););return(i=l)>=o?d=!0:10===(e=text.charCodeAt(l++))?f=!0:13===e&&(f=!0,10===text.charCodeAt(l)&&++l),text.slice(t+1,i-1).replace(/""/g,'"')}for(;l<o;){if(10===(e=text.charCodeAt(i=l++)))f=!0;else if(13===e)f=!0,10===text.charCodeAt(l)&&++l;else if(e!==n)continue;return text.slice(t,i)}return d=!0,text.slice(t,o)}for(10===text.charCodeAt(o-1)&&--o,13===text.charCodeAt(o-1)&&--o;(t=h())!==Le;){for(var m=[];t!==ke&&t!==Le;)m.push(t),t=h();e&&null==(m=e(m,c++))||r.push(m)}return r}function o(t,n){return t.map((function(t){return n.map((function(e){return c(t[e])})).join(e)}))}function l(t){return t.map(c).join(e)}function c(e){return null==e?"":e instanceof Date?Se(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(text,e){var t,n,o=r(text,(function(r,i){if(t)return t(r,i-1);n=r,t=e?function(e,t){var object=De(e);return function(n,i){return t(object(n),i,e)}}(r,e):De(r)}));return o.columns=n||[],o},parseRows:r,format:function(t,n){return null==n&&(n=Oe(t)),[n.map(c).join(e)].concat(o(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=Oe(e)),o(e,t).join("\n")},formatRows:function(e){return e.map(l).join("\n")},formatRow:l,formatValue:c}};function Te(e){const t=function(data,t){const n={delimiter:e};return Ae(data,t?Object(le.p)(t,n):n)};return t.responseType="text",t}function Ae(data,e){return e.header&&(data=e.header.map(le.bb).join(e.delimiter)+"\n"+data),Ye(e.delimiter).parse(data+"")}Ae.responseType="text";var Ee=n(453),Ce=function(e){return e},Fe=function(e){if(null==e)return Ce;var t,n,r=e.scale[0],o=e.scale[1],l=e.translate[0],c=e.translate[1];return function(input,i){i||(t=n=0);var e=2,d=input.length,output=new Array(d);for(output[0]=(t+=input[0])*r+l,output[1]=(n+=input[1])*o+c;e<d;)output[e]=input[e],++e;return output}},Pe=function(e,t){return"string"==typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return Ne(e,t)}))}:Ne(e,t)};function Ne(e,t){var n=t.id,r=t.bbox,o=null==t.properties?{}:t.properties,l=ze(e,t);return null==n&&null==r?{type:"Feature",properties:o,geometry:l}:null==r?{type:"Feature",id:n,properties:o,geometry:l}:{type:"Feature",id:n,bbox:r,properties:o,geometry:l}}function ze(e,t){var n=Fe(e.transform),r=e.arcs;function o(i,e){e.length&&e.pop();for(var a=r[i<0?~i:i],t=0,o=a.length;t<o;++t)e.push(n(a[t],t));i<0&&function(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}(e,o)}function l(p){return n(p)}function line(e){for(var t=[],i=0,n=e.length;i<n;++i)o(e[i],t);return t.length<2&&t.push(t[0]),t}function c(e){for(var t=line(e);t.length<4;)t.push(t[0]);return t}function polygon(e){return e.map(c)}return function e(t){var n,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(e)};case"Point":n=l(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(l);break;case"LineString":n=line(t.arcs);break;case"MultiLineString":n=t.arcs.map(line);break;case"Polygon":n=polygon(t.arcs);break;case"MultiPolygon":n=t.arcs.map(polygon);break;default:return null}return{type:r,coordinates:n}}(t)}var He=function(e,t){var n={},r={},o={},l=[],c=-1;function d(e,t){for(var r in e){var o=e[r];delete t[o.start],delete o.start,delete o.end,o.forEach((function(i){n[i<0?~i:i]=1})),l.push(o)}}return t.forEach((function(i,n){var r,o=e.arcs[i<0?~i:i];o.length<3&&!o[1][0]&&!o[1][1]&&(r=t[++c],t[c]=i,t[n]=r)})),t.forEach((function(i){var t,g,n=function(i){var t,n=e.arcs[i<0?~i:i],r=n[0];e.transform?(t=[0,0],n.forEach((function(e){t[0]+=e[0],t[1]+=e[1]}))):t=n[n.length-1];return i<0?[t,r]:[r,t]}(i),l=n[0],c=n[1];if(t=o[l])if(delete o[t.end],t.push(i),t.end=c,g=r[c]){delete r[g.start];var d=g===t?t:t.concat(g);r[d.start=t.start]=o[d.end=g.end]=d}else r[t.start]=o[t.end]=t;else if(t=r[c])if(delete r[t.start],t.unshift(i),t.start=l,g=o[l]){delete o[g.end];var f=g===t?t:g.concat(t);r[f.start=g.start]=o[f.end=t.end]=f}else r[t.start]=o[t.end]=t;else r[(t=[i]).start=l]=o[t.end=c]=t})),d(o,r),d(r,o),t.forEach((function(i){n[i<0?~i:i]||l.push([i])})),l},Re=function(e){return ze(e,Ie.apply(this,arguments))};function Ie(e,object,filter){var t,i,n;if(arguments.length>1)t=Be(e,object,filter);else for(i=0,t=new Array(n=e.arcs.length);i<n;++i)t[i]=i;return{type:"MultiLineString",arcs:He(e,t)}}function Be(e,object,filter){var t,n=[],r=[];function o(i){var e=i<0?~i:i;(r[e]||(r[e]=[])).push({i:i,g:t})}function l(e){e.forEach(o)}function c(e){e.forEach(l)}return function e(n){switch(t=n,n.type){case"GeometryCollection":n.geometries.forEach(e);break;case"LineString":l(n.arcs);break;case"MultiLineString":case"Polygon":c(n.arcs);break;case"MultiPolygon":!function(e){e.forEach(c)}(n.arcs)}}(object),r.forEach(null==filter?function(e){n.push(e[0].i)}:function(e){filter(e[0].g,e[e.length-1].g)&&n.push(e[0].i)}),n}const $e={interior:(a,b)=>a!==b,exterior:(a,b)=>a===b};function We(data,e){let t,object,n,filter;return data=Object(Ee.a)(data,e),e&&e.feature?(t=Pe,n=e.feature):e&&e.mesh?(t=Re,n=e.mesh,filter=$e[e.filter]):Object(le.o)("Missing TopoJSON feature or mesh parameter."),object=(object=data.objects[n])?t(data,object,filter):Object(le.o)("Invalid TopoJSON object: "+n),object&&object.features||[object]}We.responseType="json";const Ue={dsv:Ae,csv:Te(","),tsv:Te("\t"),json:Ee.a,topojson:We};function qe(e,t){return arguments.length>1?(Ue[e]=t,this):Object(le.w)(Ue,e)?Ue[e]:null}function Ve(e){const t=qe(e);return t&&t.responseType||"text"}var Je=Math.sqrt(50),Ge=Math.sqrt(10),Xe=Math.sqrt(2),Ze=function(e,t,n){var r,o,l,c,i=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),0===(c=Ke(e,t,n))||!isFinite(c))return[];if(c>0)for(e=Math.ceil(e/c),t=Math.floor(t/c),l=new Array(o=Math.ceil(t-e+1));++i<o;)l[i]=(e+i)*c;else for(c=-c,e=Math.ceil(e*c),t=Math.floor(t*c),l=new Array(o=Math.ceil(t-e+1));++i<o;)l[i]=(e+i)/c;return r&&l.reverse(),l};function Ke(e,t,n){var r=(t-e)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),l=r/Math.pow(10,o);return o>=0?(l>=Je?10:l>=Ge?5:l>=Xe?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(l>=Je?10:l>=Ge?5:l>=Xe?2:1)}function Qe(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),l=r/o;return l>=Je?o*=10:l>=Ge?o*=5:l>=Xe&&(o*=2),t<e?-o:o}var et=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tt(e){if(!(t=et.exec(e)))throw new Error("invalid format: "+e);var t;return new nt({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function nt(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}tt.prototype=nt.prototype,nt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};function it(e,p){if((i=(e=p?e.toExponential(p-1):e.toExponential()).indexOf("e"))<0)return null;var i,t=e.slice(0,i);return[t.length>1?t[0]+t.slice(2):t,+e.slice(i+1)]}var at,ot,st,lt,ut=function(e){return(e=it(Math.abs(e)))?e[1]:NaN},ct=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ut(t)/3)))-ut(Math.abs(e)))},ft=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ut(t)-ut(e))+1},ht=function(e){return Math.max(0,-ut(Math.abs(e)))},mt=function(e,p){var t=it(e,p);if(!t)return e+"";var n=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+n:n.length>r+1?n.slice(0,r+1)+"."+n.slice(r+1):n+new Array(r-n.length+2).join("0")},pt={"%":(e,p)=>(100*e).toFixed(p),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,p)=>e.toExponential(p),f:(e,p)=>e.toFixed(p),g:(e,p)=>e.toPrecision(p),o:e=>Math.round(e).toString(8),p:(e,p)=>mt(100*e,p),r:mt,s:function(e,p){var t=it(e,p);if(!t)return e+"";var n=t[0],r=t[1],i=r-(at=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+it(e,Math.max(0,p+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)},gt=function(e){return e},_t=Array.prototype.map,yt=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"],bt=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?gt:(t=_t.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],l=0,g=t[0],c=0;i>0&&g>0&&(c+g+1>r&&(g=Math.max(1,r-c)),o.push(e.substring(i-=g,i+g)),!((c+=g+1)>r));)g=t[l=(l+1)%t.length];return o.reverse().join(n)}),o=void 0===e.currency?"":e.currency[0]+"",l=void 0===e.currency?"":e.currency[1]+"",c=void 0===e.decimal?".":e.decimal+"",d=void 0===e.numerals?gt:function(e){return function(t){return t.replace(/[0-9]/g,(function(i){return e[+i]}))}}(_t.call(e.numerals,String)),f=void 0===e.percent?"%":e.percent+"",h=void 0===e.minus?"":e.minus+"",m=void 0===e.nan?"NaN":e.nan+"";function _(e){var t=(e=tt(e)).fill,n=e.align,_=e.sign,symbol=e.symbol,y=e.zero,v=e.width,x=e.comma,M=e.precision,w=e.trim,k=e.type;"n"===k?(x=!0,k="g"):pt[k]||(void 0===M&&(M=12),w=!0,k="g"),(y||"0"===t&&"="===n)&&(y=!0,t="0",n="=");var L="$"===symbol?o:"#"===symbol&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",D="$"===symbol?l:/[%p]/.test(k)?f:"",O=pt[k],j=/[defgprs%]/.test(k);function S(e){var i,o,l,f=L,S=D;if("c"===k)S=O(e)+S,e="";else{var Y=(e=+e)<0||1/e<0;if(e=isNaN(e)?m:O(Math.abs(e),M),w&&(e=function(s){e:for(var e,t=s.length,i=1,n=-1;i<t;++i)switch(s[i]){case".":n=e=i;break;case"0":0===n&&(n=i),e=i;break;default:if(!+s[i])break e;n>0&&(n=0)}return n>0?s.slice(0,n)+s.slice(e+1):s}(e)),Y&&0==+e&&"+"!==_&&(Y=!1),f=(Y?"("===_?_:h:"-"===_||"("===_?"":_)+f,S=("s"===k?yt[8+at/3]:"")+S+(Y&&"("===_?")":""),j)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){S=(46===l?c+e.slice(i+1):e.slice(i))+S,e=e.slice(0,i);break}}x&&!y&&(e=r(e,1/0));var T=f.length+e.length+S.length,A=T<v?new Array(v-T+1).join(t):"";switch(x&&y&&(e=r(A+e,A.length?v-S.length:1/0),A=""),n){case"<":e=f+e+S+A;break;case"=":e=f+A+e+S;break;case"^":e=A.slice(0,T=A.length>>1)+f+e+S+A.slice(T);break;default:e=A+f+e+S}return d(e)}return M=void 0===M?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M)),S.toString=function(){return e+""},S}return{format:_,formatPrefix:function(e,t){var n=_(((e=tt(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(ut(t)/3))),o=Math.pow(10,-r),l=yt[8+r/3];return function(e){return n(o*e)+l}}}};ot=bt({thousands:",",grouping:[3],currency:["$",""]}),st=ot.format,lt=ot.formatPrefix;var vt=new Date,xt=new Date;function Mt(e,t,n,r){function o(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return o.floor=function(t){return e(t=new Date(+t)),t},o.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},o.round=function(e){var t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},o.range=function(n,r,l){var c,d=[];if(n=o.ceil(n),l=null==l?1:Math.floor(l),!(n<r&&l>0))return d;do{d.push(c=new Date(+n)),t(n,l),e(n)}while(c<n&&n<r);return d},o.filter=function(n){return Mt((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(o.count=function(t,r){return vt.setTime(+t),xt.setTime(+r),e(vt),e(xt),Math.floor(n(vt,xt))},o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(r?function(t){return r(t)%e==0}:function(t){return o.count(0,t)%e==0}):o:null}),o}var wt=Mt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5,e=>e.getDate()-1),kt=wt;wt.range;function Lt(i){return Mt((function(e){e.setDate(e.getDate()-(e.getDay()+7-i)%7),e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5}))}var Dt=Lt(0),Ot=Lt(1),jt=Lt(2),St=Lt(3),Yt=Lt(4),Tt=Lt(5),At=Lt(6),Et=(Dt.range,Ot.range,jt.range,St.range,Yt.range,Tt.range,At.range,Mt((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1}))),Ct=Et;Et.range;function Ft(i){return Mt((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-i)%7),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/6048e5}))}var Pt=Ft(0),Nt=Ft(1),zt=Ft(2),Ht=Ft(3),Rt=Ft(4),It=Ft(5),Bt=Ft(6),$t=(Pt.range,Nt.range,zt.range,Ht.range,Rt.range,It.range,Bt.range,Mt((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));$t.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Mt((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var Wt=$t,Ut=($t.range,Mt((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),qt=Ut,Vt=(Ut.range,Mt((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getHours()}))),Jt=Vt,Gt=(Vt.range,Mt((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getMinutes()}))),Xt=Gt,Zt=(Gt.range,Mt((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()}))),Kt=Zt,Qt=(Zt.range,Mt((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e})));Qt.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Mt((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):Qt:null};var en=Qt,tn=(Qt.range,Mt((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));tn.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Mt((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var nn=tn,rn=(tn.range,Mt((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}))),an=rn,on=(rn.range,Mt((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getUTCHours()}))),sn=on,ln=(on.range,Mt((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getUTCMinutes()}))),un=ln,cn=(ln.range,function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}),dn=function(e){let t=e,n=e;function r(a,e,t,r){for(null==t&&(t=0),null==r&&(r=a.length);t<r;){const o=t+r>>>1;n(a[o],e)<0?t=o+1:r=o}return t}return 1===e.length&&(t=(t,n)=>e(t)-n,n=function(e){return(t,n)=>cn(e(t),n)}(e)),{left:r,center:function(a,e,n,o){null==n&&(n=0),null==o&&(o=a.length);const i=r(a,e,n,o-1);return i>n&&t(a[i-1],e)>-t(a[i],e)?i-1:i},right:function(a,e,t,r){for(null==t&&(t=0),null==r&&(r=a.length);t<r;){const o=t+r>>>1;n(a[o],e)>0?r=o:t=o+1}return t}}};const fn="year",hn="quarter",mn="month",pn="week",gn="date",_n="day",yn="dayofyear",bn="hours",vn="minutes",xn="seconds",Mn="milliseconds",wn=[fn,hn,mn,pn,gn,_n,yn,bn,vn,xn,Mn],kn=wn.reduce((e,u,i)=>(e[u]=1+i,e),{});function Ln(e){const u=Object(le.i)(e).slice(),t={};u.length||Object(le.o)("Missing time unit."),u.forEach(e=>{Object(le.w)(kn,e)?t[e]=1:Object(le.o)("Invalid time unit: ".concat(e,"."))});return(t[pn]||t[_n]?1:0)+(t[hn]||t[mn]||t[gn]?1:0)+(t[yn]?1:0)>1&&Object(le.o)("Incompatible time units: ".concat(e)),u.sort((a,b)=>kn[a]-kn[b]),u}const Dn={[fn]:"%Y ",[hn]:"Q%q ",[mn]:"%b ",[gn]:"%d ",[pn]:"W%U ",[_n]:"%a ",[yn]:"%j ",[bn]:"%H:00",[vn]:"00:%M",[xn]:":%S",[Mn]:".%L",["".concat(fn,"-").concat(mn)]:"%Y-%m ",["".concat(fn,"-").concat(mn,"-").concat(gn)]:"%Y-%m-%d ",["".concat(bn,"-").concat(vn)]:"%H:%M"};function On(e,t){const s=Object(le.p)({},Dn,t),u=Ln(e),n=u.length;let r,o,l="",c=0;for(c=0;c<n;)for(r=u.length;r>c;--r)if(o=u.slice(c,r).join("-"),null!=s[o]){l+=s[o],c=r;break}return l.trim()}const jn=new Date;function Sn(e){return jn.setFullYear(e),jn.setMonth(0),jn.setDate(1),jn.setHours(0,0,0,0),jn}function Yn(e){return An(new Date(e))}function Tn(e){return En(new Date(e))}function An(e){return kt.count(Sn(e.getFullYear())-1,e)}function En(e){return Dt.count(Sn(e.getFullYear())-1,e)}function Cn(e){return Sn(e).getDay()}function Fn(e,t,n,r,o,l,c){if(0<=e&&e<100){const d=new Date(-1,t,n,r,o,l,c);return d.setFullYear(e),d}return new Date(e,t,n,r,o,l,c)}function Pn(e){return zn(new Date(e))}function Nn(e){return Hn(new Date(e))}function zn(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return Ct.count(t-1,e)}function Hn(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return Pt.count(t-1,e)}function Rn(e){return jn.setTime(Date.UTC(e,0,1)),jn.getUTCDay()}function In(e,t,n,r,o,l,c){if(0<=e&&e<100){const e=new Date(Date.UTC(-1,t,n,r,o,l,c));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(e,t,n,r,o,l,c))}function Bn(e,t,n,r,o){const s=t||1,b=Object(le.W)(e),l=(e,p,t)=>function(e,t,n,r){const u=n<=1?e:r?(t,o)=>r+n*Math.floor((e(t,o)-r)/n):(t,r)=>n*Math.floor(e(t,r)/n);return t?(e,n)=>t(u(e,n),n):u}(n[t=t||e],r[t],e===b&&s,p),c=new Date,u=Object(le.fb)(e),d=u[fn]?l(fn):Object(le.m)(2012),f=u[mn]?l(mn):u[hn]?l(hn):le.mb,h=u[pn]&&u[_n]?l(_n,1,pn+_n):u[pn]?l(pn,1):u[_n]?l(_n,1):u[gn]?l(gn,1):u[yn]?l(yn,1):le.Q,m=u[bn]?l(bn):le.mb,_=u[vn]?l(vn):le.mb,y=u[xn]?l(xn):le.mb,v=u[Mn]?l(Mn):le.mb;return function(e){c.setTime(+e);const t=d(c);return o(t,f(c),h(c,t),m(c),_(c),y(c),v(c))}}function $n(e,t,n){return t+7*e-(n+6)%7}const Wn={[fn]:e=>e.getFullYear(),[hn]:e=>Math.floor(e.getMonth()/3),[mn]:e=>e.getMonth(),[gn]:e=>e.getDate(),[bn]:e=>e.getHours(),[vn]:e=>e.getMinutes(),[xn]:e=>e.getSeconds(),[Mn]:e=>e.getMilliseconds(),[yn]:e=>An(e),[pn]:e=>En(e),[pn+_n]:(e,t)=>$n(En(e),e.getDay(),Cn(t)),[_n]:(e,t)=>$n(1,e.getDay(),Cn(t))},Un={[hn]:q=>3*q,[pn]:(e,t)=>$n(e,0,Cn(t))};function qn(e,t){return Bn(e,t||1,Wn,Un,Fn)}const Vn={[fn]:e=>e.getUTCFullYear(),[hn]:e=>Math.floor(e.getUTCMonth()/3),[mn]:e=>e.getUTCMonth(),[gn]:e=>e.getUTCDate(),[bn]:e=>e.getUTCHours(),[vn]:e=>e.getUTCMinutes(),[xn]:e=>e.getUTCSeconds(),[Mn]:e=>e.getUTCMilliseconds(),[yn]:e=>zn(e),[pn]:e=>Hn(e),[_n]:(e,t)=>$n(1,e.getUTCDay(),Rn(t)),[pn+_n]:(e,t)=>$n(Hn(e),e.getUTCDay(),Rn(t))},Jn={[hn]:q=>3*q,[pn]:(e,t)=>$n(e,0,Rn(t))};function Gn(e,t){return Bn(e,t||1,Vn,Jn,In)}const Xn={[fn]:Wt,[hn]:qt.every(3),[mn]:qt,[pn]:Dt,[gn]:kt,[_n]:kt,[yn]:kt,[bn]:Jt,[vn]:Xt,[xn]:Kt,[Mn]:en},Zn={[fn]:nn,[hn]:an.every(3),[mn]:an,[pn]:Pt,[gn]:Ct,[_n]:Ct,[yn]:Ct,[bn]:sn,[vn]:un,[xn]:Kt,[Mn]:en};function Kn(e){return Xn[e]}function Qn(e){return Zn[e]}function er(e,t,n){return e?e.offset(t,n):void 0}function nr(e,t,n){return er(Kn(e),t,n)}function rr(e,t,n){return er(Qn(e),t,n)}function ir(e,t,n,r){return e?e.range(t,n,r):void 0}function ar(e,t,n,r){return ir(Kn(e),t,n,r)}function or(e,t,n,r){return ir(Qn(e),t,n,r)}const sr=[fn,mn,gn,bn,vn,xn,Mn],lr=sr.slice(0,-1),ur=lr.slice(0,-1),cr=ur.slice(0,-1),dr=cr.slice(0,-1),fr=[fn,mn],mr=[fn],pr=[[lr,1,1e3],[lr,5,5e3],[lr,15,15e3],[lr,30,3e4],[ur,1,6e4],[ur,5,3e5],[ur,15,9e5],[ur,30,18e5],[cr,1,36e5],[cr,3,108e5],[cr,6,216e5],[cr,12,432e5],[dr,1,864e5],[[fn,pn],1,6048e5],[fr,1,2592e6],[fr,3,7776e6],[mr,1,31536e6]];function gr(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(Object(le.Z)(t))/n;let o,l,i=dn(i=>i[2]).right(pr,r);return i===pr.length?(o=mr,l=Qe(t[0]/31536e6,t[1]/31536e6,n)):i?(i=pr[r/pr[i-1][2]<pr[i][2]/r?i-1:i],o=i[0],l=i[1]):(o=sr,l=Math.max(Qe(t[0],t[1],n),1)),{units:o,step:l}}function _r(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yr(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function vr(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function xr(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,l=e.days,c=e.shortDays,d=e.months,f=e.shortMonths,h=Er(o),m=Cr(o),_=Er(l),y=Cr(l),v=Er(c),x=Cr(c),M=Er(d),w=Cr(d),k=Er(f),L=Cr(f),D={a:function(e){return c[e.getDay()]},A:function(e){return l[e.getDay()]},b:function(e){return f[e.getMonth()]},B:function(e){return d[e.getMonth()]},c:null,d:ti,e:ti,f:oi,g:yi,G:vi,H:ni,I:ri,j:ii,L:ai,m:si,M:ui,p:function(e){return o[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:$i,s:Wi,S:ci,u:di,U:fi,V:mi,w:pi,W:gi,x:null,X:null,y:_i,Y:bi,Z:xi,"%":Bi},O={a:function(e){return c[e.getUTCDay()]},A:function(e){return l[e.getUTCDay()]},b:function(e){return f[e.getUTCMonth()]},B:function(e){return d[e.getUTCMonth()]},c:null,d:Mi,e:Mi,f:Oi,g:zi,G:Ri,H:wi,I:ki,j:Li,L:Di,m:ji,M:Si,p:function(e){return o[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:$i,s:Wi,S:Yi,u:Ti,U:Ai,V:Ci,w:Fi,W:Pi,x:null,X:null,y:Ni,Y:Hi,Z:Ii,"%":Bi},j={a:function(e,t,i){var n=v.exec(t.slice(i));return n?(e.w=x.get(n[0].toLowerCase()),i+n[0].length):-1},A:function(e,t,i){var n=_.exec(t.slice(i));return n?(e.w=y.get(n[0].toLowerCase()),i+n[0].length):-1},b:function(e,t,i){var n=k.exec(t.slice(i));return n?(e.m=L.get(n[0].toLowerCase()),i+n[0].length):-1},B:function(e,t,i){var n=M.exec(t.slice(i));return n?(e.m=w.get(n[0].toLowerCase()),i+n[0].length):-1},c:function(e,n,i){return T(e,t,n,i)},d:Ur,e:Ur,f:Zr,g:Ir,G:Rr,H:Vr,I:Vr,j:qr,L:Xr,m:Wr,M:Jr,p:function(e,t,i){var n=h.exec(t.slice(i));return n?(e.p=m.get(n[0].toLowerCase()),i+n[0].length):-1},q:$r,Q:Qr,s:ei,S:Gr,u:Pr,U:Nr,V:zr,w:Fr,W:Hr,x:function(e,t,i){return T(e,n,t,i)},X:function(e,t,i){return T(e,r,t,i)},y:Ir,Y:Rr,Z:Br,"%":Kr};function S(e,t){return function(n){var r,o,l,c=[],i=-1,d=0,f=e.length;for(n instanceof Date||(n=new Date(+n));++i<f;)37===e.charCodeAt(i)&&(c.push(e.slice(d,i)),null!=(o=Or[r=e.charAt(++i)])?r=e.charAt(++i):o="e"===r?" ":"0",(l=t[r])&&(r=l(n,o)),c.push(r),d=i+1);return c.push(e.slice(d,i)),c.join("")}}function Y(e,t){return function(n){var r,o,l=vr(1900,void 0,1);if(T(l,e,n+="",0)!=n.length)return null;if("Q"in l)return new Date(l.Q);if("s"in l)return new Date(1e3*l.s+("L"in l?l.L:0));if(t&&!("Z"in l)&&(l.Z=0),"p"in l&&(l.H=l.H%12+12*l.p),void 0===l.m&&(l.m="q"in l?l.q:0),"V"in l){if(l.V<1||l.V>53)return null;"w"in l||(l.w=1),"Z"in l?(o=(r=yr(vr(l.y,0,1))).getUTCDay(),r=o>4||0===o?Nt.ceil(r):Nt(r),r=Ct.offset(r,7*(l.V-1)),l.y=r.getUTCFullYear(),l.m=r.getUTCMonth(),l.d=r.getUTCDate()+(l.w+6)%7):(o=(r=_r(vr(l.y,0,1))).getDay(),r=o>4||0===o?Ot.ceil(r):Ot(r),r=kt.offset(r,7*(l.V-1)),l.y=r.getFullYear(),l.m=r.getMonth(),l.d=r.getDate()+(l.w+6)%7)}else("W"in l||"U"in l)&&("w"in l||(l.w="u"in l?l.u%7:"W"in l?1:0),o="Z"in l?yr(vr(l.y,0,1)).getUTCDay():_r(vr(l.y,0,1)).getDay(),l.m=0,l.d="W"in l?(l.w+6)%7+7*l.W-(o+5)%7:l.w+7*l.U-(o+6)%7);return"Z"in l?(l.H+=l.Z/100|0,l.M+=l.Z%100,yr(l)):_r(l)}}function T(e,t,n,r){for(var o,l,i=0,c=t.length,d=n.length;i<c;){if(r>=d)return-1;if(37===(o=t.charCodeAt(i++))){if(o=t.charAt(i++),!(l=j[o in Or?t.charAt(i++):o])||(r=l(e,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return D.x=S(n,D),D.X=S(r,D),D.c=S(t,D),O.x=S(n,O),O.X=S(r,O),O.c=S(t,O),{format:function(e){var t=S(e+="",D);return t.toString=function(){return e},t},parse:function(e){var p=Y(e+="",!1);return p.toString=function(){return e},p},utcFormat:function(e){var t=S(e+="",O);return t.toString=function(){return e},t},utcParse:function(e){var p=Y(e+="",!0);return p.toString=function(){return e},p}}}var Mr,wr,kr,Lr,Dr,Or={"-":"",_:" ",0:"0"},jr=/^\s*\d+/,Sr=/^%/,Yr=/[\\^$*+?|[\]().{}]/g;function Tr(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",l=o.length;return r+(l<n?new Array(n-l+1).join(t)+o:o)}function Ar(s){return s.replace(Yr,"\\$&")}function Er(e){return new RegExp("^(?:"+e.map(Ar).join("|")+")","i")}function Cr(e){return new Map(e.map((e,i)=>[e.toLowerCase(),i]))}function Fr(e,t,i){var n=jr.exec(t.slice(i,i+1));return n?(e.w=+n[0],i+n[0].length):-1}function Pr(e,t,i){var n=jr.exec(t.slice(i,i+1));return n?(e.u=+n[0],i+n[0].length):-1}function Nr(e,t,i){var n=jr.exec(t.slice(i,i+2));return n?(e.U=+n[0],i+n[0].length):-1}function zr(e,t,i){var n=jr.exec(t.slice(i,i+2));return n?(e.V=+n[0],i+n[0].length):-1}function Hr(e,t,i){var n=jr.exec(t.slice(i,i+2));return n?(e.W=+n[0],i+n[0].length):-1}function Rr(e,t,i){var n=jr.exec(t.slice(i,i+4));return n?(e.y=+n[0],i+n[0].length):-1}function Ir(e,t,i){var n=jr.exec(t.slice(i,i+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),i+n[0].length):-1}function Br(e,t,i){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(i,i+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),i+n[0].length):-1}function $r(e,t,i){var n=jr.exec(t.slice(i,i+1));return n?(e.q=3*n[0]-3,i+n[0].length):-1}function Wr(e,t,i){var n=jr.exec(t.slice(i,i+2));return n?(e.m=n[0]-1,i+n[0].length):-1}function Ur(e,t,i){var n=jr.exec(t.slice(i,i+2));return n?(e.d=+n[0],i+n[0].length):-1}function qr(e,t,i){var n=jr.exec(t.slice(i,i+3));return n?(e.m=0,e.d=+n[0],i+n[0].length):-1}function Vr(e,t,i){var n=jr.exec(t.slice(i,i+2));return n?(e.H=+n[0],i+n[0].length):-1}function Jr(e,t,i){var n=jr.exec(t.slice(i,i+2));return n?(e.M=+n[0],i+n[0].length):-1}function Gr(e,t,i){var n=jr.exec(t.slice(i,i+2));return n?(e.S=+n[0],i+n[0].length):-1}function Xr(e,t,i){var n=jr.exec(t.slice(i,i+3));return n?(e.L=+n[0],i+n[0].length):-1}function Zr(e,t,i){var n=jr.exec(t.slice(i,i+6));return n?(e.L=Math.floor(n[0]/1e3),i+n[0].length):-1}function Kr(e,t,i){var n=Sr.exec(t.slice(i,i+1));return n?i+n[0].length:-1}function Qr(e,t,i){var n=jr.exec(t.slice(i));return n?(e.Q=+n[0],i+n[0].length):-1}function ei(e,t,i){var n=jr.exec(t.slice(i));return n?(e.s=+n[0],i+n[0].length):-1}function ti(e,p){return Tr(e.getDate(),p,2)}function ni(e,p){return Tr(e.getHours(),p,2)}function ri(e,p){return Tr(e.getHours()%12||12,p,2)}function ii(e,p){return Tr(1+kt.count(Wt(e),e),p,3)}function ai(e,p){return Tr(e.getMilliseconds(),p,3)}function oi(e,p){return ai(e,p)+"000"}function si(e,p){return Tr(e.getMonth()+1,p,2)}function ui(e,p){return Tr(e.getMinutes(),p,2)}function ci(e,p){return Tr(e.getSeconds(),p,2)}function di(e){var t=e.getDay();return 0===t?7:t}function fi(e,p){return Tr(Dt.count(Wt(e)-1,e),p,2)}function hi(e){var t=e.getDay();return t>=4||0===t?Yt(e):Yt.ceil(e)}function mi(e,p){return e=hi(e),Tr(Yt.count(Wt(e),e)+(4===Wt(e).getDay()),p,2)}function pi(e){return e.getDay()}function gi(e,p){return Tr(Ot.count(Wt(e)-1,e),p,2)}function _i(e,p){return Tr(e.getFullYear()%100,p,2)}function yi(e,p){return Tr((e=hi(e)).getFullYear()%100,p,2)}function bi(e,p){return Tr(e.getFullYear()%1e4,p,4)}function vi(e,p){var t=e.getDay();return Tr((e=t>=4||0===t?Yt(e):Yt.ceil(e)).getFullYear()%1e4,p,4)}function xi(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Tr(t/60|0,"0",2)+Tr(t%60,"0",2)}function Mi(e,p){return Tr(e.getUTCDate(),p,2)}function wi(e,p){return Tr(e.getUTCHours(),p,2)}function ki(e,p){return Tr(e.getUTCHours()%12||12,p,2)}function Li(e,p){return Tr(1+Ct.count(nn(e),e),p,3)}function Di(e,p){return Tr(e.getUTCMilliseconds(),p,3)}function Oi(e,p){return Di(e,p)+"000"}function ji(e,p){return Tr(e.getUTCMonth()+1,p,2)}function Si(e,p){return Tr(e.getUTCMinutes(),p,2)}function Yi(e,p){return Tr(e.getUTCSeconds(),p,2)}function Ti(e){var t=e.getUTCDay();return 0===t?7:t}function Ai(e,p){return Tr(Pt.count(nn(e)-1,e),p,2)}function Ei(e){var t=e.getUTCDay();return t>=4||0===t?Rt(e):Rt.ceil(e)}function Ci(e,p){return e=Ei(e),Tr(Rt.count(nn(e),e)+(4===nn(e).getUTCDay()),p,2)}function Fi(e){return e.getUTCDay()}function Pi(e,p){return Tr(Nt.count(nn(e)-1,e),p,2)}function Ni(e,p){return Tr(e.getUTCFullYear()%100,p,2)}function zi(e,p){return Tr((e=Ei(e)).getUTCFullYear()%100,p,2)}function Hi(e,p){return Tr(e.getUTCFullYear()%1e4,p,4)}function Ri(e,p){var t=e.getUTCDay();return Tr((e=t>=4||0===t?Rt(e):Rt.ceil(e)).getUTCFullYear()%1e4,p,4)}function Ii(){return"+0000"}function Bi(){return"%"}function $i(e){return+e}function Wi(e){return Math.floor(+e/1e3)}function Ui(e){const t={};return n=>t[n]||(t[n]=e(n))}function qi(e){const t=Ui(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(e){const s=tt(e||",");if(null==s.precision){switch(s.precision=12,s.type){case"%":s.precision-=2;break;case"e":s.precision-=1}return function(e,t){return n=>{const r=e(n),o=r.indexOf(t);if(o<0)return r;let l=function(e,t){let n,i=e.lastIndexOf("e");if(i>0)return i;for(i=e.length;--i>t;)if(n=e.charCodeAt(i),n>=48&&n<=57)return i+1}(r,o);const c=l<r.length?r.slice(l):"";for(;--l>o;)if("0"!==r[l]){++l;break}return r.slice(0,l)+c}}(t(s),t(".1f")(1)[1])}return t(s)},formatSpan(e,r,o,l){l=tt(null==l?",f":l);const c=Qe(e,r,o),d=Math.max(Math.abs(e),Math.abs(r));let f;if(null==l.precision)switch(l.type){case"s":return isNaN(f=ct(c,d))||(l.precision=f),n(l,d);case"":case"e":case"g":case"p":case"r":isNaN(f=ft(c,d))||(l.precision=f-("e"===l.type));break;case"f":case"%":isNaN(f=ht(c))||(l.precision=f-2*("%"===l.type))}return t(l)}}}let Vi,Ji;function Gi(){return Vi=qi({format:st,formatPrefix:lt})}function Xi(e){return qi(bt(e))}function Zi(e){return arguments.length?Vi=Xi(e):Vi}function Ki(e,t,n){n=n||{},Object(le.H)(n)||Object(le.o)("Invalid time multi-format specifier: ".concat(n));const r=t(xn),o=t(vn),l=t(bn),c=t(gn),d=t(pn),f=t(mn),h=t(hn),m=t(fn),_=e(n[Mn]||".%L"),y=e(n[xn]||":%S"),v=e(n[vn]||"%I:%M"),x=e(n[bn]||"%I %p"),M=e(n[gn]||n[_n]||"%a %d"),w=e(n[pn]||"%b %d"),k=e(n[mn]||"%B"),q=e(n[hn]||"%B"),L=e(n[fn]||"%Y");return e=>(r(e)<e?_:o(e)<e?y:l(e)<e?v:c(e)<e?x:f(e)<e?d(e)<e?M:w:m(e)<e?h(e)<e?k:q:L)(e)}function Qi(e){const t=Ui(e.format),n=Ui(e.utcFormat);return{timeFormat:e=>Object(le.J)(e)?t(e):Ki(t,Kn,e),utcFormat:e=>Object(le.J)(e)?n(e):Ki(n,Qn,e),timeParse:Ui(e.parse),utcParse:Ui(e.utcParse)}}function ea(){return Ji=Qi({format:wr,parse:kr,utcFormat:Lr,utcParse:Dr})}function ta(e){return Qi(xr(e))}function na(e){return arguments.length?Ji=ta(e):Ji}!function(e){Mr=xr(e),wr=Mr.format,kr=Mr.parse,Lr=Mr.utcFormat,Dr=Mr.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Gi(),ea();const ra=(e,time)=>Object(le.p)({},e,time);function ia(e,t){const n=e?Xi(e):Zi(),time=t?ta(t):na();return ra(n,time)}function aa(e,t){const n=arguments.length;return n&&2!==n&&Object(le.o)("defaultLocale expects either zero or two arguments."),n?ra(Zi(e),na(t)):ra(Zi(),na())}function oa(){return Gi(),ea(),aa()}var sa=function(data,e,t,n){const r=qe((e=e||{}).type||"json");return r||Object(le.o)("Unknown data format type: "+e.type),data=r(data,e),e.parse&&function(data,e,t,n){if(!data.length)return;const r=na();t=t||r.timeParse,n=n||r.utcParse;let o,l,i,c,d,f,h=data.columns||Object.keys(data[0]);"auto"===e&&(e=we(data,h));h=Object.keys(e);const m=h.map(r=>{const o=e[r];let l,pattern;if(o&&(o.startsWith("date:")||o.startsWith("utc:"))){l=o.split(/:(.+)?/,2),pattern=l[1],("'"===pattern[0]&&"'"===pattern[pattern.length-1]||'"'===pattern[0]&&'"'===pattern[pattern.length-1])&&(pattern=pattern.slice(1,-1));return("utc"===l[0]?n:t)(pattern)}if(!be[o])throw Error("Illegal format pattern: "+r+":"+o);return be[o]});for(i=0,d=data.length,f=h.length;i<d;++i)for(o=data[i],c=0;c<f;++c)l=h[c],o[l]=m[c](o[l])}(data,e.parse,t,n),Object(le.w)(data,"columns")&&delete data.columns,data};const la=function(e,t){return n=>({options:n||{},sanitize:he,load:fe,fileAccess:!!t,file:me(t),http:ge(e)})}("undefined"!=typeof fetch&&fetch,null);function ua(e){const t=e||le.y,n=[],r={};return n.add=e=>{const o=t(e);return r[o]||(r[o]=1,n.push(e)),n},n.remove=e=>{const o=t(e);if(r[o]){r[o]=0;const t=n.indexOf(e);t>=0&&n.splice(t,1)}return n},n}async function ca(e,t){try{await t(e)}catch(t){e.error(t)}}const da=Symbol("vega_id");let fa=1;function ha(e){return!(!e||!ma(e))}function ma(e){return e[da]}function pa(e,t){return e[da]=t,e}function ga(e){const t=e===Object(e)?e:{data:e};return ma(t)?t:pa(t,fa++)}function _a(e){return ya(e,ga({}))}function ya(e,t){for(const n in e)t[n]=e[n];return t}function ba(e,t){return pa(t,ma(e))}function va(e,t){return e?t?(a,b)=>e(a,b)||ma(t(a))-ma(t(b)):(a,b)=>e(a,b)||ma(a)-ma(b):null}function xa(e){return e&&e.constructor===Ma}function Ma(){const e=[],t=[],n=[],r=[],o=[];let l=null,c=!1;return{constructor:Ma,insert(t){const n=Object(le.i)(t),r=n.length;for(let i=0;i<r;++i)e.push(n[i]);return this},remove(e){const a=Object(le.E)(e)?r:t,n=Object(le.i)(e),o=n.length;for(let i=0;i<o;++i)a.push(n[i]);return this},modify(e,t,r){const l={field:t,value:Object(le.m)(r)};return Object(le.E)(e)?(l.filter=e,o.push(l)):(l.tuple=e,n.push(l)),this},encode(e,t){return Object(le.E)(e)?o.push({filter:e,field:t}):n.push({tuple:e,field:t}),this},clean(e){return l=e,this},reflow(){return c=!0,this},pulse(d,f){const h={},m={};let i,_,y,v,x,M;for(i=0,_=f.length;i<_;++i)h[ma(f[i])]=1;for(i=0,_=t.length;i<_;++i)x=t[i],h[ma(x)]=-1;for(i=0,_=r.length;i<_;++i)v=r[i],f.forEach(e=>{v(e)&&(h[ma(e)]=-1)});for(i=0,_=e.length;i<_;++i)x=e[i],M=ma(x),h[M]?h[M]=1:d.add.push(ga(e[i]));for(i=0,_=f.length;i<_;++i)x=f[i],h[ma(x)]<0&&d.rem.push(x);function w(e,t,n){n?e[t]=n(e):d.encode=t,c||(m[ma(e)]=e)}for(i=0,_=n.length;i<_;++i)y=n[i],x=y.tuple,v=y.field,M=h[ma(x)],M>0&&(w(x,v,y.value),d.modifies(v));for(i=0,_=o.length;i<_;++i)y=o[i],v=y.filter,f.forEach(e=>{v(e)&&h[ma(e)]>0&&w(e,y.field,y.value)}),d.modifies(y.field);if(c)d.mod=t.length||r.length?f.filter(e=>h[ma(e)]>0):f.slice();else for(M in m)d.mod.push(m[M]);return(l||null==l&&(t.length||r.length))&&d.clean(!0),d}}}function wa(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}wa.prototype={set(e,t,n,r){const o=this,l=o[e],c=o["_:mod:_"];return null!=t&&t>=0?(l[t]!==n||r)&&(l[t]=n,c[t+":"+e]=-1,c[e]=-1):(l!==n||r)&&(o[e]=n,c[e]=Object(le.B)(n)?1+n.length:-1),o},modified(e,t){const n=this["_:mod:_"];if(!arguments.length){for(const e in n)if(n[e])return!0;return!1}if(Object(le.B)(e)){for(let t=0;t<e.length;++t)if(n[e[t]])return!0;return!1}return null!=t&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this["_:mod:_"]={},this}};let ka=0;const La=new wa;function Da(e,t,n,r){this.id=++ka,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function Oa(e){return function(t){const n=this.flags;return 0===arguments.length?!!(n&e):(this.flags=t?n|e:n&~e,this)}}Da.prototype={targets(){return this._targets||(this._targets=ua(le.x))},set(e){return this.value!==e?(this.value=e,1):0},skip:Oa(1),modified:Oa(2),parameters(e,t,n){t=!1!==t;const r=this._argval=this._argval||new wa,o=this._argops=this._argops||[],l=[];let c,d,f,i;const h=(e,n,c)=>{c instanceof Da?(c!==this&&(t&&c.targets().add(this),l.push(c)),o.push({op:c,name:e,index:n})):r.set(e,n,c)};for(c in e)if(d=e[c],"pulse"===c)Object(le.i)(d).forEach(e=>{e instanceof Da?e!==this&&(e.targets().add(this),l.push(e)):Object(le.o)("Pulse parameters must be operator instances.")}),this.source=d;else if(Object(le.B)(d))for(r.set(c,-1,Array(f=d.length)),i=0;i<f;++i)h(c,i,d[i]);else h(c,-1,d);return this.marshall().clear(),n&&(o.initonly=!0),l},marshall(e){const t=this._argval||La,n=this._argops;let r,i,o,l;if(n){const c=n.length;for(i=0;i<c;++i)r=n[i],o=r.op,l=o.modified()&&o.stamp===e,t.set(r.name,r.index,o.value,l);if(n.initonly){for(i=0;i<c;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let i,t,n,r;if(e)for(i=0,t=e.length;i<t;++i)n=e[i],r=n.op,r._targets&&r._targets.remove(this)},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};let ja=0;function Sa(filter,e,t){this.id=++ja,this.value=null,t&&(this.receive=t),filter&&(this._filter=filter),e&&(this._apply=e)}function Ya(filter,e,t){return new Sa(filter,e,t)}Sa.prototype={_filter:le.ib,_apply:le.y,targets(){return this._targets||(this._targets=ua(le.x))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(filter){const s=Ya(filter);return this.targets().add(s),s},apply(e){const s=Ya(null,e);return this.targets().add(s),s},merge(){const s=Ya();this.targets().add(s);for(let i=0,e=arguments.length;i<e;++i)arguments[i].targets().add(s);return s},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const s=Ya();return this.targets().add(Ya(null,null,Object(le.n)(e,e=>{const t=e.dataflow;s.receive(e),t&&t.run&&t.run()}))),s},between(a,b){let e=!1;return a.targets().add(Ya(null,null,()=>e=!0)),b.targets().add(Ya(null,null,()=>e=!1)),this.filter(()=>e)},detach(){}};const Ta={skip:!0};function Aa(e,t,n,r,o,l){const c=Object(le.p)({},l,Ta);let d,f;Object(le.E)(n)||(n=Object(le.m)(n)),void 0===r?d=t=>e.touch(n(t)):Object(le.E)(r)?(f=new Da(null,r,o,!1),d=t=>{f.evaluate(t);const r=n(t),o=f.value;xa(o)?e.pulse(r,o,l):e.update(r,o,c)}):d=t=>e.update(n(t),r,c),t.apply(d)}function Ea(e,source,t,n,r,o){if(void 0===n)source.targets().add(t);else{const l=o||{},c=new Da(null,function(e,t){return t=Object(le.E)(t)?t:Object(le.m)(t),e?function(n,r){const o=t(n,r);return e.skip()||(e.skip(o!==this.value).value=o),o}:t}(t,n),r,!1);c.modified(l.force),c.rank=source.rank,source.targets().add(c),t&&(c.skip(!0),c.value=t.value,c.targets().add(t),e.connect(t,[c]))}}const Ca={};function Fa(e,t,n){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function Pa(data,filter){const e=[];return Object(le.kb)(data,filter,t=>e.push(t)),e}function Na(e,t){const map={};return e.visit(t,e=>{map[ma(e)]=1}),e=>map[ma(e)]?null:e}function za(a,b){return a?(e,i)=>a(e,i)&&b(e,i):b}function Ha(e,t,n,r){const p=this,o=n.length;let l=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(let i=0;i<o;++i){const e=n[i];if(e.stamp===t){if(e.fields){const t=p.fields||(p.fields={});for(const n in e.fields)t[n]=1}e.changed(p.ADD)&&(l|=p.ADD),e.changed(p.REM)&&(l|=p.REM),e.changed(p.MOD)&&(l|=p.MOD)}}this.changes=l}function Ra(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}Fa.prototype={StopPropagation:Ca,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(e){return new Fa(this.dataflow).init(this,e)},clone(){const p=this.fork(7);return p.add=p.add.slice(),p.rem=p.rem.slice(),p.mod=p.mod.slice(),p.source&&(p.source=p.source.slice()),p.materialize(23)},addAll(){let p=this;return!p.source||p.add===p.rem||!p.rem.length&&p.source.length===p.add.length||(p=new Fa(this.dataflow).init(this),p.add=p.source,p.rem=[]),p},init(e,t){const p=this;return p.stamp=e.stamp,p.encode=e.encode,!e.fields||64&t||(p.fields=e.fields),1&t?(p.addF=e.addF,p.add=e.add):(p.addF=null,p.add=[]),2&t?(p.remF=e.remF,p.rem=e.rem):(p.remF=null,p.rem=[]),4&t?(p.modF=e.modF,p.mod=e.mod):(p.modF=null,p.mod=[]),32&t?(p.srcF=null,p.source=null):(p.srcF=e.srcF,p.source=e.source,e.cleans&&(p.cleans=e.cleans)),p},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},reflow(e){if(e)return this.fork(7).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(4,Na(this,1))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return Object(le.B)(e)?e.forEach(e=>t[e]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return!(!t&&!this.mod.length||!n)&&(arguments.length?Object(le.B)(e)?e.some(e=>n[e]):n[e]:!!n)},filter(e,filter){const p=this;return 1&e&&(p.addF=za(p.addF,filter)),2&e&&(p.remF=za(p.remF,filter)),4&e&&(p.modF=za(p.modF,filter)),16&e&&(p.srcF=za(p.srcF,filter)),p},materialize(e){const p=this;return 1&(e=e||7)&&p.addF&&(p.add=Pa(p.add,p.addF),p.addF=null),2&e&&p.remF&&(p.rem=Pa(p.rem,p.remF),p.remF=null),4&e&&p.modF&&(p.mod=Pa(p.mod,p.modF),p.modF=null),16&e&&p.srcF&&(p.source=p.source.filter(p.srcF),p.srcF=null),p},visit(e,t){const p=this,n=t;if(16&e)return Object(le.kb)(p.source,p.srcF,n),p;1&e&&Object(le.kb)(p.add,p.addF,n),2&e&&Object(le.kb)(p.rem,p.remF,n),4&e&&Object(le.kb)(p.mod,p.modF,n);const r=p.source;if(8&e&&r){const e=p.add.length+p.mod.length;e===r.length||(e?Object(le.kb)(r,Na(p,5),n):Object(le.kb)(r,p.srcF,n))}return p}},Object(le.z)(Ha,Fa,{fork(e){const p=new Fa(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&p.ADD&&this.visit(p.ADD,e=>p.add.push(e)),e&p.REM&&this.visit(p.REM,e=>p.rem.push(e)),e&p.MOD&&this.visit(p.MOD,e=>p.mod.push(e))),p},changed(e){return this.changes&e},modified(e){const p=this,t=p.fields;return t&&p.changes&p.MOD?Object(le.B)(e)?e.some(e=>t[e]):t[e]:0},filter(){Object(le.o)("MultiPulse does not support filtering.")},materialize(){Object(le.o)("MultiPulse does not support materialization.")},visit(e,t){const p=this,n=p.pulses,r=n.length;let i=0;if(e&p.SOURCE)for(;i<r;++i)n[i].visit(e,t);else for(;i<r;++i)n[i].stamp===p.stamp&&n[i].visit(e,t);return p}});const Ia={skip:!1,force:!1};function Ba(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),$a(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,function(e,t,n){const r=t,o=e.length,l=e[t];let c,d=1+(t<<1);for(;d<o;)c=d+1,c<o&&n(e[d],e[c])>=0&&(d=c),e[t]=e[d],d=1+((t=d)<<1);e[t]=l,$a(e,r,t,n)}(t,0,e)):r=n,r}}}function $a(e,t,n,r){let o,l;const c=e[n];for(;n>t&&(l=n-1>>1,o=e[l],r(c,o)<0);)e[n]=o,n=l;return e[n]=c}function Wa(){this.logger(Object(le.M)()),this.logLevel(le.b),this._clock=0,this._rank=0,this._locale=aa();try{this._loader=la()}catch(e){}this._touched=ua(le.x),this._input={},this._pulse=null,this._heap=Ba((a,b)=>a.qrank-b.qrank),this._postrun=[]}function Ua(e){return function(){return this._log[e].apply(this,arguments)}}function qa(e,t){Da.call(this,e,null,t)}Wa.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:Ua("error"),warn:Ua("warn"),info:Ua("info"),debug:Ua("debug"),logLevel:Ua("level"),cleanThreshold:1e4,add:function(e,t,n,r){let o,l=1;return e instanceof Da?o=e:e&&e.prototype instanceof Da?o=new e:Object(le.E)(e)?o=new Da(null,e):(l=0,o=new Da(e,t)),this.rank(o),l&&(r=n,n=t),n&&this.connect(o,o.parameters(n,r)),this.touch(o),o},connect:function(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank)return void this.rerank(e)},rank:function(e){e.rank=++this._rank},rerank:function(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&Object(le.o)("Cycle detected in dataflow graph.")},pulse:function(e,t,n){this.touch(e,n||Ia);const p=new Fa(this,this._clock+(this._pulse?0:1)),r=e.pulse&&e.pulse.source||[];return p.target=e,this._input[e.id]=t.pulse(p,r),this},touch:function(e,t){const n=t||Ia;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this},update:function(e,t,n){const r=n||Ia;return(e.set(t)||r.force)&&this.touch(e,r),this},changeset:Ma,ingest:function(e,data,t){return data=this.parse(data,t),this.pulse(e,this.changeset().insert(data))},parse:function(data,e){const t=this.locale();return sa(data,e,t.timeParse,t.utcParse)},preload:async function(e,t,n){const r=this,o=r._pending||function(e){let t;const n=new Promise(a=>t=a);return n.requests=0,n.done=()=>{0==--n.requests&&(e._pending=null,t(e))},e._pending=n}(r);o.requests+=1;const l=await r.request(t,n);return r.pulse(e,r.changeset().remove(le.ib).insert(l.data||[])),o.done(),l},request:async function(e,t){const n=this;let data,r=0;try{data=await n.loader().load(e,{context:"dataflow",response:Ve(t&&t.type)});try{data=n.parse(data,t)}catch(t){r=-2,n.warn("Data ingestion failed",e,t)}}catch(t){r=-1,n.warn("Loading failed",e,t)}return{data:data,status:r}},events:function(source,e,filter,t){const n=this,s=Ya(filter,t),r=function(e){e.dataflow=n;try{s.receive(e)}catch(e){n.error(e)}finally{n.run()}};let o;o="string"==typeof source&&"undefined"!=typeof document?document.querySelectorAll(source):Object(le.i)(source);const l=o.length;for(let i=0;i<l;++i)o[i].addEventListener(e,r);return s},on:function(source,e,t,n,r){return(source instanceof Da?Ea:Aa)(this,source,e,t,n,r),this},evaluate:async function(e,t,n){const r=this,o=[];if(r._pulse)return Ra(r);if(r._pending&&await r._pending,t&&await ca(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const l=++r._clock;r._pulse=new Fa(r,l,e),r._touched.forEach(e=>r._enqueue(e,!0)),r._touched=ua(le.x);let c,d,f,h=0;try{for(;r._heap.size()>0;)c=r._heap.pop(),c.rank===c.qrank?(d=c.run(r._getPulse(c,e)),d.then?d=await d:d.async&&(o.push(d.async),d=Ca),d!==Ca&&c._targets&&c._targets.forEach(e=>r._enqueue(e)),++h):r._enqueue(c,!0)}catch(e){r._heap.clear(),f=e}if(r._input={},r._pulse=null,r.debug("Pulse ".concat(l,": ").concat(h," operators")),f&&(r._postrun=[],r.error(f)),r._postrun.length){const e=r._postrun.sort((a,b)=>b.priority-a.priority);r._postrun=[];for(let i=0;i<e.length;++i)await ca(r,e[i].callback)}return n&&await ca(r,n),o.length&&Promise.all(o).then(e=>r.runAsync(null,()=>{e.forEach(e=>{try{e(r)}catch(e){r.error(e)}})})),r},run:function(e,t,n){return this._pulse?Ra(this):(this.evaluate(e,t,n),this)},runAsync:async function(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running},runAfter:function(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(e){this.error(e)}},_enqueue:function(e,t){const q=e.stamp<this._clock;q&&(e.stamp=this._clock),(q||t)&&(e.qrank=e.rank,this._heap.push(e))},_getPulse:function(e,t){const s=e.source,n=this._clock;return s&&Object(le.B)(s)?new Ha(this,n,s.map(e=>e.pulse),t):this._input[e.id]||function(p,s){if(s&&s.stamp===p.stamp)return s;p=p.fork(),s&&s!==Ca&&(p.source=s.source);return p}(this._pulse,s&&s.pulse)}},Object(le.z)(qa,Da,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(e=>this.pulse=e):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const Va={};function Ja(e){const t=Ga(e);return t&&t.Definition||null}function Ga(e){return e=e&&e.toLowerCase(),Object(le.w)(Va,e)?Va[e]:null}function Xa(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(n<o||void 0===n&&o>=o)&&(n=o)}return n}function Za(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n>t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(n>o||void 0===n&&o>=o)&&(n=o)}return n}function Ka(e,i,t){const n=e[i];e[i]=e[t],e[t]=n}var Qa=function(e){return null===e?NaN:+e};function eo(e,p,t){if(n=(e=Float64Array.from(function*(e,t){if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,t))).length){if((p=+p)<=0||n<2)return Za(e);if(p>=1)return Xa(e);var n,i=(n-1)*p,r=Math.floor(i),o=Xa(function e(t,n,r=0,o=t.length-1,l=cn){for(;o>r;){if(o-r>600){const c=o-r+1,d=n-r+1,f=Math.log(c),s=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*s*(c-s)/c)*(d-c/2<0?-1:1);e(t,n,Math.max(r,Math.floor(n-d*s/c+h)),Math.min(o,Math.floor(n+(c-d)*s/c+h)),l)}const c=t[n];let i=r,d=o;for(Ka(t,r,n),l(t[o],c)>0&&Ka(t,r,o);i<d;){for(Ka(t,i,d),++i,--d;l(t[i],c)<0;)++i;for(;l(t[d],c)>0;)--d}0===l(t[r],c)?Ka(t,r,d):(++d,Ka(t,d,o)),d<=n&&(r=d+1),n<=d&&(o=d-1)}return t}(e,r).subarray(0,r+1));return o+(Za(e.subarray(r+1))-o)*(i-r)}}function to(e,p,t=Qa){if(n=e.length){if((p=+p)<=0||n<2)return+t(e[0],0,e);if(p>=1)return+t(e[n-1],n-1,e);var n,i=(n-1)*p,r=Math.floor(i),o=+t(e[r],r,e);return o+(+t(e[r+1],r+1,e)-o)*(i-r)}}var no=function(e,t){return eo(e,.5,t)};function*ro(e,t){if(null==t)for(let t of e)null!=t&&""!==t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let r of e)r=t(r,++n,e),null!=r&&""!==r&&(r=+r)>=r&&(yield r)}}function io(e,p,t){const n=Float64Array.from(ro(e,t));return n.sort(cn),p.map(e=>to(n,e))}function ao(e,t){return io(e,[.25,.5,.75],t)}function oo(e,t){const n=e.length,r=function(e,t){const n=function(e,t){let n,r=0,o=0,l=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(n=t-o,o+=n/++r,l+=n*(t-o));else{let c=-1;for(let d of e)null!=(d=t(d,++c,e))&&(d=+d)>=d&&(n=d-o,o+=n/++r,l+=n*(d-o))}if(r>1)return l/(r-1)}(e,t);return n?Math.sqrt(n):n}(e,t),q=ao(e,t),o=(q[2]-q[0])/1.34;return 1.06*(Math.min(r,o)||r||Math.abs(q[0])||1)*Math.pow(n,-.2)}function so(e){const t=e.maxbins||20,base=e.base||10,n=Math.log(base),div=e.divide||[5,2];let r,o,l,c,i,d,f=e.extent[0],h=e.extent[1];const span=e.span||h-f||Math.abs(f)||1;if(e.step)r=e.step;else if(e.steps){for(c=span/t,i=0,d=e.steps.length;i<d&&e.steps[i]<c;++i);r=e.steps[Math.max(0,i-1)]}else{for(o=Math.ceil(Math.log(t)/n),l=e.minstep||0,r=Math.max(l,Math.pow(base,Math.round(Math.log(span)/n)-o));Math.ceil(span/r)>t;)r*=base;for(i=0,d=div.length;i<d;++i)c=r/div[i],c>=l&&span/c<=t&&(r=c)}c=Math.log(r);const m=c>=0?0:1+~~(-c/n),_=Math.pow(base,-m-1);return(e.nice||void 0===e.nice)&&(c=Math.floor(f/r+_)*r,f=f<c?c-r:c,h=Math.ceil(h/r)*r),{start:f,stop:h===f?f+r:h,step:r}}var lo=Math.random;function uo(e){lo=e}function co(e,t,n,r){if(!e.length)return[void 0,void 0];const o=Float64Array.from(ro(e,r)),l=o.length,c=t;let a,i,d,f;for(d=0,f=Array(c);d<c;++d){for(a=0,i=0;i<l;++i)a+=o[~~(lo()*l)];f[d]=a/l}return f.sort(cn),[eo(f,n/2),eo(f,1-n/2)]}function fo(e,t,n,r){r=r||(e=>e);const o=e.length,l=new Float64Array(o);let c,i=0,d=1,a=r(e[0]),b=a,f=a+t;for(;d<o;++d){if(c=r(e[d]),c>=f){for(b=(a+b)/2;i<d;++i)l[i]=b;f=c+t,a=c}b=c}for(b=(a+b)/2;i<d;++i)l[i]=b;return n?function(e,t){const n=e.length;let r,o,a=0,b=1;for(;e[a]===e[b];)++b;for(;b<n;){for(r=b+1;e[b]===e[r];)++r;if(e[b]-e[b-1]<t){for(o=b+(a+r-b-b>>1);o<b;)e[o++]=e[b];for(;o>b;)e[o--]=e[a]}a=b,b=r}return e}(l,t+t/4):l}function ho(e){return function(){return(e=(1103515245*e+12345)%2147483647)/2147483647}}function mo(e,t){let a,b,n;null==t&&(t=e,e=0);const r={min(e){return arguments.length?(a=e||0,n=b-a,r):a},max(e){return arguments.length?(b=e||0,n=b-a,r):b},sample:()=>a+Math.floor(n*lo()),pdf:e=>e===Math.floor(e)&&e>=a&&e<b?1/n:0,cdf(e){const t=Math.floor(e);return t<a?0:t>=b?1:(t-a+1)/n},icdf:p=>p>=0&&p<=1?a-1+Math.floor(p*n):NaN};return r.min(e).max(t)}const po=Math.sqrt(2*Math.PI),go=Math.SQRT2;let _o=NaN;function yo(e,t){e=e||0,t=null==t?1:t;let n,r,o=0,l=0;if(_o==_o)o=_o,_o=NaN;else{do{o=2*lo()-1,l=2*lo()-1,n=o*o+l*l}while(0===n||n>1);r=Math.sqrt(-2*Math.log(n)/n),o*=r,_o=l*r}return e+o*t}function bo(e,t,n){const r=(e-(t||0))/(n=null==n?1:n);return Math.exp(-.5*r*r)/(n*po)}function vo(e,t,n){const r=(e-(t=t||0))/(n=null==n?1:n),o=Math.abs(r);let l;if(o>37)l=0;else{const e=Math.exp(-o*o/2);let t;o<7.07106781186547?(t=.0352624965998911*o+.700383064443688,t=t*o+6.37396220353165,t=t*o+33.912866078383,t=t*o+112.079291497871,t=t*o+221.213596169931,t=t*o+220.206867912376,l=e*t,t=.0883883476483184*o+1.75566716318264,t=t*o+16.064177579207,t=t*o+86.7807322029461,t=t*o+296.564248779674,t=t*o+637.333633378831,t=t*o+793.826512519948,t=t*o+440.413735824752,l/=t):(t=o+.65,t=o+4/t,t=o+3/t,t=o+2/t,t=o+1/t,l=e/t/2.506628274631)}return r>0?1-l:l}function xo(p,e,t){return p<0||p>1?NaN:(e||0)+(null==t?1:t)*go*function(e){let p,t=-Math.log((1-e)*(1+e));t<6.25?(t-=3.125,p=-364441206401782e-35,p=p*t-16850591381820166e-35,p=128584807152564e-32+p*t,p=11157877678025181e-33+p*t,p=p*t-1333171662854621e-31,p=20972767875968562e-33+p*t,p=6637638134358324e-30+p*t,p=p*t-4054566272975207e-29,p=p*t-8151934197605472e-29,p=26335093153082323e-28+p*t,p=p*t-12975133253453532e-27,p=p*t-5415412054294628e-26,p=1.0512122733215323e-9+p*t,p=p*t-4.112633980346984e-9,p=p*t-2.9070369957882005e-8,p=4.2347877827932404e-7+p*t,p=p*t-13654692000834679e-22,p=p*t-13882523362786469e-21,p=.00018673420803405714+p*t,p=p*t-.000740702534166267,p=p*t-.006033670871430149,p=.24015818242558962+p*t,p=1.6536545626831027+p*t):t<16?(t=Math.sqrt(t)-3.25,p=2.2137376921775787e-9,p=9.075656193888539e-8+p*t,p=p*t-2.7517406297064545e-7,p=1.8239629214389228e-8+p*t,p=15027403968909828e-22+p*t,p=p*t-4013867526981546e-21,p=29234449089955446e-22+p*t,p=12475304481671779e-21+p*t,p=p*t-47318229009055734e-21,p=6828485145957318e-20+p*t,p=24031110387097894e-21+p*t,p=p*t-.0003550375203628475,p=.0009532893797373805+p*t,p=p*t-.0016882755560235047,p=.002491442096107851+p*t,p=p*t-.003751208507569241,p=.005370914553590064+p*t,p=1.0052589676941592+p*t,p=3.0838856104922208+p*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,p=-27109920616438573e-27,p=p*t-2.555641816996525e-10,p=1.5076572693500548e-9+p*t,p=p*t-3.789465440126737e-9,p=7.61570120807834e-9+p*t,p=p*t-1.496002662714924e-8,p=2.914795345090108e-8+p*t,p=p*t-6.771199775845234e-8,p=2.2900482228026655e-7+p*t,p=p*t-9.9298272942317e-7,p=4526062597223154e-21+p*t,p=p*t-1968177810553167e-20,p=7599527703001776e-20+p*t,p=p*t-.00021503011930044477,p=p*t-.00013871931833623122,p=1.0103004648645344+p*t,p=4.849906401408584+p*t):p=1/0;return p*e}(2*p-1)}function Mo(e,t){let n,r;const o={mean(e){return arguments.length?(n=e||0,o):n},stdev(e){return arguments.length?(r=null==e?1:e,o):r},sample:()=>yo(n,r),pdf:e=>bo(e,n,r),cdf:e=>vo(e,n,r),icdf:p=>xo(p,n,r)};return o.mean(e).stdev(t)}function wo(e,t){const n=Mo();let r=0;const o={data(n){return arguments.length?(e=n,r=n?n.length:0,o.bandwidth(t)):e},bandwidth(n){return arguments.length?(!(t=n)&&e&&(t=oo(e)),o):t},sample:()=>e[~~(lo()*r)]+t*n.sample(),pdf(o){let l=0,i=0;for(;i<r;++i)l+=n.pdf((o-e[i])/t);return l/t/r},cdf(o){let l=0,i=0;for(;i<r;++i)l+=n.cdf((o-e[i])/t);return l/r},icdf(){throw Error("KDE icdf not supported.")}};return o.data(e)}function ko(e,t){return e=e||0,t=null==t?1:t,Math.exp(e+yo()*t)}function Lo(e,t,n){if(e<=0)return 0;t=t||0,n=null==n?1:n;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*po*e)}function Do(e,t,n){return vo(Math.log(e),t,n)}function Oo(p,e,t){return Math.exp(xo(p,e,t))}function jo(e,t){let n,r;const o={mean(e){return arguments.length?(n=e||0,o):n},stdev(e){return arguments.length?(r=null==e?1:e,o):r},sample:()=>ko(n,r),pdf:e=>Lo(e,n,r),cdf:e=>Do(e,n,r),icdf:p=>Oo(p,n,r)};return o.mean(e).stdev(t)}function So(e,t){let n,r=0;const o={weights(e){return arguments.length?(n=function(e){const t=[];let i,n=0;for(i=0;i<r;++i)n+=t[i]=null==e[i]?1:+e[i];for(i=0;i<r;++i)t[i]/=n;return t}(t=e||[]),o):t},distributions(n){return arguments.length?(n?(r=n.length,e=n):(r=0,e=[]),o.weights(t)):e},sample(){const t=lo();let o=e[r-1],l=n[0],i=0;for(;i<r-1;l+=n[++i])if(t<l){o=e[i];break}return o.sample()},pdf(t){let p=0,i=0;for(;i<r;++i)p+=n[i]*e[i].pdf(t);return p},cdf(t){let p=0,i=0;for(;i<r;++i)p+=n[i]*e[i].cdf(t);return p},icdf(){throw Error("Mixture icdf not supported.")}};return o.distributions(e).weights(t)}function Yo(e,t){return null==t&&(t=null==e?1:e,e=0),e+(t-e)*lo()}function To(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=t&&e<=n?1/(n-t):0}function Ao(e,t,n){return null==n&&(n=null==t?1:t,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function Eo(p,e,t){return null==t&&(t=null==e?1:e,e=0),p>=0&&p<=1?e+p*(t-e):NaN}function Co(e,t){let a,b;const n={min(e){return arguments.length?(a=e||0,n):a},max(e){return arguments.length?(b=null==e?1:e,n):b},sample:()=>Yo(a,b),pdf:e=>To(e,a,b),cdf:e=>Ao(e,a,b),icdf:p=>Eo(p,a,b)};return null==t&&(t=null==e?1:e,e=0),n.min(e).max(t)}function Fo(e,t,n,r){const o=r-e*e,l=Math.abs(o)<1e-24?0:(n-e*t)/o;return[t-l*e,l]}function Po(data,e,t,n){data=data.filter(n=>{let u=e(n),r=t(n);return null!=u&&(u=+u)>=u&&null!=r&&(r=+r)>=r}),n&&data.sort((a,b)=>e(a)-e(b));const r=data.length,o=new Float64Array(r),l=new Float64Array(r);let c,d,f,i=0,h=0,m=0;for(f of data)o[i]=c=+e(f),l[i]=d=+t(f),++i,h+=(c-h)/i,m+=(d-m)/i;for(i=0;i<r;++i)o[i]-=h,l[i]-=m;return[o,l,h,m]}function No(data,e,t,n){let u,r,i=-1;for(const o of data)u=e(o),r=t(o),null!=u&&(u=+u)>=u&&null!=r&&(r=+r)>=r&&n(u,r,++i)}function zo(data,e,t,n,r){let o=0,l=0;return No(data,e,t,(e,t)=>{const c=t-r(e),d=t-n;o+=c*c,l+=d*d}),1-o/l}function Ho(data,e,t){let n=0,r=0,o=0,l=0,c=0;No(data,e,t,(e,t)=>{++c,n+=(e-n)/c,r+=(t-r)/c,o+=(e*t-o)/c,l+=(e*e-l)/c});const d=Fo(n,r,o,l),f=e=>d[0]+d[1]*e;return{coef:d,predict:f,rSquared:zo(data,e,t,r,f)}}function Ro(data,e,t){let n=0,r=0,o=0,l=0,c=0;No(data,e,t,(e,t)=>{++c,e=Math.log(e),n+=(e-n)/c,r+=(t-r)/c,o+=(e*t-o)/c,l+=(e*e-l)/c});const d=Fo(n,r,o,l),f=e=>d[0]+d[1]*Math.log(e);return{coef:d,predict:f,rSquared:zo(data,e,t,r,f)}}function Io(data,e,t){const[n,r,o,l]=Po(data,e,t);let c,d,f,h=0,m=0,_=0,y=0,v=0;No(data,e,t,(e,t)=>{c=n[v++],d=Math.log(t),f=c*t,h+=(t*d-h)/v,m+=(f-m)/v,_+=(f*d-_)/v,y+=(c*f-y)/v});const[x,M]=Fo(m/l,h/l,_/l,y/l),w=e=>Math.exp(x+M*(e-o));return{coef:[Math.exp(x-M*o),M],predict:w,rSquared:zo(data,e,t,l,w)}}function Bo(data,e,t){let n=0,r=0,o=0,l=0,c=0,d=0;No(data,e,t,(e,t)=>{const f=Math.log(e),h=Math.log(t);++d,n+=(f-n)/d,r+=(h-r)/d,o+=(f*h-o)/d,l+=(f*f-l)/d,c+=(t-c)/d});const f=Fo(n,r,o,l),h=e=>f[0]*Math.pow(e,f[1]);return f[0]=Math.exp(f[0]),{coef:f,predict:h,rSquared:zo(data,e,t,c,h)}}function $o(data,e,t){const[n,r,o,l]=Po(data,e,t),c=n.length;let i,d,f,h,m=0,_=0,y=0,v=0,x=0;for(i=0;i<c;)d=n[i],f=r[i++],h=d*d,m+=(h-m)/i,_+=(h*d-_)/i,y+=(h*h-y)/i,v+=(d*f-v)/i,x+=(h*f-x)/i;const M=y-m*m,w=m*M-_*_,a=(x*m-v*_)/w,b=(v*M-x*_)/w,k=-a*m,L=e=>a*(e-=o)*e+b*e+k+l;return{coef:[k-b*o+a*o*o+l,b-2*a*o,a],predict:L,rSquared:zo(data,e,t,l,L)}}function Wo(data,e,t,n){if(1===n)return Ho(data,e,t);if(2===n)return $o(data,e,t);const[r,o,l,c]=Po(data,e,t),d=r.length,f=[],h=[],m=n+1;let i,_,y,v,x;for(i=0;i<m;++i){for(y=0,v=0;y<d;++y)v+=Math.pow(r[y],i)*o[y];for(f.push(v),x=new Float64Array(m),_=0;_<m;++_){for(y=0,v=0;y<d;++y)v+=Math.pow(r[y],i+_);x[_]=v}h.push(x)}h.push(f);const M=function(e){const t=e.length-1,n=[];let i,r,o,l,c;for(i=0;i<t;++i){for(l=i,r=i+1;r<t;++r)Math.abs(e[i][r])>Math.abs(e[i][l])&&(l=r);for(o=i;o<t+1;++o)c=e[o][i],e[o][i]=e[o][l],e[o][l]=c;for(r=i+1;r<t;++r)for(o=t;o>=i;o--)e[o][r]-=e[o][i]*e[i][r]/e[i][i]}for(r=t-1;r>=0;--r){for(c=0,o=r+1;o<t;++o)c+=e[o][r]*n[o];n[r]=(e[t][r]-c)/e[r][r]}return n}(h),w=e=>{e-=l;let t=c+M[0]+M[1]*e+M[2]*e*e;for(i=3;i<m;++i)t+=M[i]*Math.pow(e,i);return t};return{coef:Uo(m,M,-l,c),predict:w,rSquared:zo(data,e,t,c,w)}}function Uo(e,a,t,n){const r=Array(e);let i,o,l,c;for(i=0;i<e;++i)r[i]=0;for(i=e-1;i>=0;--i)for(l=a[i],c=1,r[i]+=l,o=1;o<=i;++o)c*=(i+1-o)/o,r[i-o]+=l*Math.pow(t,o)*c;return r[0]+=n,r}function qo(data,e,t,n){const[r,o,l,c]=Po(data,e,t,!0),d=r.length,f=Math.max(2,~~(n*d)),h=new Float64Array(d),m=new Float64Array(d),_=new Float64Array(d).fill(1);for(let e=-1;++e<=2;){const t=[0,f-1];for(let i=0;i<d;++i){const e=r[i],n=t[0],l=t[1],c=e-r[n]>r[l]-e?n:l;let d=0,f=0,y=0,v=0,x=0;const M=1/Math.abs(r[c]-e||1);for(let t=n;t<=l;++t){const n=r[t],l=o[t],c=Vo(Math.abs(e-n)*M)*_[t],h=n*c;d+=c,f+=h,y+=l*c,v+=l*h,x+=n*h}const[a,b]=Fo(f/d,y/d,v/d,x/d);h[i]=a+b*e,m[i]=Math.abs(o[i]-h[i]),Jo(r,i+1,t)}if(2===e)break;const n=no(m);if(Math.abs(n)<1e-12)break;for(let e,t,i=0;i<d;++i)e=m[i]/(6*n),_[i]=e>=1?1e-12:(t=1-e*e)*t}return function(e,t,n,r){const o=e.length,l=[];let c,i=0,d=0,f=[];for(;i<o;++i)c=e[i]+n,f[0]===c?f[1]+=(t[i]-f[1])/++d:(d=0,f[1]+=r,f=[c,t[i]],l.push(f));return f[1]+=r,l}(r,h,l,c)}function Vo(e){return(e=1-e*e*e)*e*e}function Jo(e,i,t){const n=e[i];let r=t[0],o=t[1]+1;if(!(o>=e.length))for(;i>r&&e[o]-n<=n-e[r];)t[0]=++r,t[1]=o,++o}const Go=.1*Math.PI/180;function Xo(e,t,n,r){n=n||25,r=Math.max(n,r||200);const o=t=>[t,e(t)],l=t[0],c=t[1],span=c-l,d=span/r,f=[o(l)],h=[];if(n===r){for(let i=1;i<r;++i)f.push(o(l+i/n*span));return f.push(o(c)),f}h.push(o(c));for(let i=n;--i>0;)h.push(o(l+i/n*span));let m=f[0],_=h[h.length-1];for(;_;){const e=o((m[0]+_[0])/2);e[0]-m[0]>=d&&Zo(m,e,_)>Go?h.push(e):(m=_,f.push(_),h.pop()),_=h[h.length-1]}return f}function Zo(p,q,e){const t=Math.atan2(e[1]-p[1],e[0]-p[0]),n=Math.atan2(q[1]-p[1],q[0]-p[0]);return Math.abs(t-n)}var Ko=function(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(r);++i<r;)o[i]=e+i*n;return o};function Qo(e){return e&&e.length?1===e.length?e[0]:(t=e,e=>{const n=t.length;let i=1,r=String(t[0](e));for(;i<n;++i)r+="|"+t[i](e);return r}):function(){return""};var t}function es(e,t,n){return n||e+(t?"_"+t:"")}const ts=()=>{},ns={init:ts,add:ts,rem:ts,idx:0},rs={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.sum,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||void 0===e.min)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||void 0===e.max)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3}},is=Object.keys(rs);function as(e,t){return rs[e](t)}function os(a,b){return a.idx-b.idx}function ss(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.init(this))}function ls(e,t){null!=e&&""!==e?e==e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t))):++this.missing}function us(e,t){null!=e&&""!==e?e==e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t))):--this.missing}function cs(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function ds(e,t){const n=t||le.y,r=function(e){const map={};e.forEach(a=>map[a.name]=a);const t=a=>{a.req&&a.req.forEach(e=>{map[e]||t(map[e]=rs[e]())})};return e.forEach(t),Object.values(map).sort(os)}(e),o=e.slice().sort(os);function l(e){this._ops=r,this._out=o,this.cell=e,this.init()}return l.prototype.init=ss,l.prototype.add=ls,l.prototype.rem=us,l.prototype.set=cs,l.prototype.get=n,l.fields=e.map(e=>e.out),l}function fs(e){this._key=e?Object(le.u)(e):ma,this.reset()}is.forEach(e=>{rs[e]=function(e,t){return n=>Object(le.p)({name:e,out:n||e},ns,t)}(e,rs[e])});const hs=fs.prototype;function ms(e){qa.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}hs.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},hs.add=function(e){this._add.push(e)},hs.rem=function(e){this._rem.push(e)},hs.values=function(){if(this._get=null,0===this._rem.length)return this._add;const a=this._add,e=this._rem,t=this._key,n=a.length,r=e.length,o=Array(n-r),map={};let i,l,c;for(i=0;i<r;++i)map[t(e[i])]=1;for(i=0,l=0;i<n;++i)map[t(c=a[i])]?map[t(c)]=0:o[l++]=c;return this._rem=[],this._add=o},hs.distinct=function(e){const t=this.values(),map={};let s,n=t.length,r=0;for(;--n>=0;)s=e(t[n])+"",Object(le.w)(map,s)||(map[s]=1,++r);return r},hs.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),i=Object(le.r)(t,e);this._ext=[t[i[0]],t[i[1]]],this._get=e}return this._ext},hs.argmin=function(e){return this.extent(e)[0]||{}},hs.argmax=function(e){return this.extent(e)[1]||{}},hs.min=function(e){const t=this.extent(e)[0];return null!=t?e(t):void 0},hs.max=function(e){const t=this.extent(e)[1];return null!=t?e(t):void 0},hs.quartile=function(e){return this._get===e&&this._q||(this._q=ao(this.values(),e),this._get=e),this._q},hs.q1=function(e){return this.quartile(e)[0]},hs.q2=function(e){return this.quartile(e)[1]},hs.q3=function(e){return this.quartile(e)[2]},hs.ci=function(e){return this._get===e&&this._ci||(this._ci=co(this.values(),1e3,.05,e),this._get=e),this._ci},hs.ci0=function(e){return this.ci(e)[0]},hs.ci1=function(e){return this.ci(e)[1]},ms.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:is},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},Object(le.z)(ms,qa,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=e.modified();return n.stamp=r.stamp,n.value&&(o||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=o?n.init(e):{},t.visit(t.SOURCE,e=>n.add(e))):(n.value=n.value||n.init(e),t.visit(t.REM,e=>n.rem(e)),t.visit(t.ADD,e=>n.add(e))),r.modifies(n._outputs),n._drop=!1!==e.drop,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),o=n.length;function l(e){let t,i,l,c;for(t in e)for(l=e[t].tuple,i=0;i<o;++i)r[i][c=l[n[i]]]=c}l(e._prev),l(t),function l(base,c,d){const f=n[d],h=r[d++];for(const n in h){const r=base?base+"|"+n:n;c[f]=h[n],d<o?l(r,c,d):t[r]||e.cell(r,c)}}("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function o(e){const n=Object(le.i)(Object(le.g)(e)),o=n.length;let l,i=0;for(;i<o;++i)r[l=n[i]]||(r[l]=1,t.push(l))}this._dims=Object(le.i)(e.groupby),this._dnames=this._dims.map(e=>{const t=Object(le.h)(e);return o(e),n.push(t),t}),this.cellkey=e.key?e.key:Qo(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const l=e.fields||[null],c=e.ops||["count"],d=e.as||[],f=l.length,map={};let h,m,_,y,v,i;for(f!==c.length&&Object(le.o)("Unmatched number of fields and aggregate ops."),i=0;i<f;++i)h=l[i],m=c[i],null==h&&"count"!==m&&Object(le.o)("Null aggregate field specified."),y=Object(le.h)(h),v=es(m,y,d[i]),n.push(v),"count"!==m?(_=map[y],_||(o(h),_=map[y]=[],_.field=h,this._measures.push(_)),"count"!==m&&(this._countOnly=!1),_.push(as(m,v))):this._counts.push(v);return this._measures=this._measures.map(e=>ds(e,e.field)),{}},cellkey:Qo(),cell(e,t){let n=this.value[e];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const e=this._measures,t=e.length;n.agg=Array(t);for(let i=0;i<t;++i)n.agg[i]=new e[i](n)}return n.store&&(n.data=new fs),n},newtuple(e,p){const t=this._dnames,n=this._dims,r=n.length,o={};for(let i=0;i<r;++i)o[t[i]]=n[i](e);return p?ba(p.tuple,o):ga(o)},clean(){const e=this.value;for(const t in e)0===e[t].num&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,t=r.length;i<t;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,t=r.length;i<t;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let i=0,r=n.length;i<r;++i)t[n[i]]=e.num;if(!this._countOnly){const n=e.agg;for(let i=0,e=n.length;i<e;++i)n[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,o=this._drop,l=e.add,c=e.rem,d=e.mod;let f,h,i,m;if(r)for(h in r)f=r[h],o&&!f.num||c.push(f.tuple);for(i=0,m=this._alen;i<m;++i)l.push(this.celltuple(t[i])),t[i]=null;for(i=0,m=this._mlen;i<m;++i)f=n[i],(0===f.num&&o?c:d).push(this.celltuple(f)),n[i]=null;return this._alen=this._mlen=0,this._prev=null,e}});function ps(e){qa.call(this,null,e)}function gs(e,source,input){const t=e;let data=source||[],n=input||[],r={},o=0;return{add:e=>n.push(e),remove:e=>r[t(e)]=++o,size:()=>data.length,data:(e,l)=>(o&&(data=data.filter(e=>!r[t(e)]),r={},o=0),l&&e&&data.sort(e),n.length&&(data=e?Object(le.O)(e,data,n.sort(e)):data.concat(n),n=[]),data)}}function _s(e){qa.call(this,[],e)}function ys(e){Da.call(this,null,bs,e)}function bs(e){return this.value&&!e.modified()?this.value:Object(le.l)(e.fields,e.orders)}function vs(e){qa.call(this,null,e)}function xs(e){qa.call(this,null,e)}ps.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},Object(le.z)(ps,qa,{transform(e,t){const n=!1!==e.interval,r=this._bins(e),o=r.start,l=r.step,c=e.as||["bin0","bin1"],d=c[0],f=c[1];let h;return h=e.modified()?(t=t.reflow(!0)).SOURCE:t.modified(Object(le.g)(e.field))?t.ADD_MOD:t.ADD,t.visit(h,n?e=>{const t=r(e);e[d]=t,e[f]=null==t?null:o+l*(1+(t-o)/l)}:e=>e[d]=r(e)),t.modifies(n?c:d)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=so(e),r=n.step;let a,o,l=n.start,c=l+Math.ceil((n.stop-l)/r)*r;null!=(a=e.anchor)&&(o=a-(l+r*Math.floor((a-l)/r)),l+=o,c+=o);const d=function(e){let n=Object(le.eb)(t(e));return null==n?null:n<l?-1/0:n>c?1/0:(n=Math.max(l,Math.min(n,c-r)),l+r*Math.floor(1e-14+(n-l)/r))};return d.start=l,d.stop=n.stop,d.step=r,this.value=Object(le.f)(d,Object(le.g)(t),e.name||"bin_"+Object(le.h)(t))}}),_s.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},Object(le.z)(_s,qa,{transform(e,t){const n=t.fork(t.ALL),r=gs(ma,this.value,n.materialize(n.ADD).add),o=e.sort,l=t.changed()||o&&(e.modified("sort")||t.modified(o.fields));return n.visit(n.REM,r.remove),this.modified(l),this.value=n.source=r.data(va(o),l),t.source&&t.source.root&&(this.value.root=t.source.root),n}}),Object(le.z)(ys,Da),vs.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]},Object(le.z)(vs,qa,{transform(e,t){const n=t=>n=>{for(var r,o=function(text,e,t){switch(e){case"upper":text=text.toUpperCase();break;case"lower":text=text.toLowerCase()}return text.match(t)}(d(n),e.case,l)||[],i=0,f=o.length;i<f;++i)c.test(r=o[i])||t(r)},r=this._parameterCheck(e,t),o=this._counts,l=this._match,c=this._stop,d=e.field,f=e.as||["text","count"],h=n(e=>o[e]=1+(o[e]||0)),m=n(e=>o[e]-=1);return r?t.visit(t.SOURCE,h):(t.visit(t.ADD,h),t.visit(t.REM,m)),this._finish(t,f)},_parameterCheck(e,t){let n=!1;return!e.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),!e.modified("pattern")&&this._match||(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),text=t[0],o=t[1],l=e.fork(e.NO_SOURCE|e.NO_FIELDS);let c,d,f;for(c in n)d=r[c],f=n[c]||0,!d&&f?(r[c]=d=ga({}),d[text]=c,d[o]=f,l.add.push(d)):0===f?(d&&l.rem.push(d),n[c]=null,r[c]=null):d[o]!==f&&(d[o]=f,l.mod.push(d));return l.modifies(t)}}),xs.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},Object(le.z)(xs,qa,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],a=r[0],b=r[1],o=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let data=this.value;return o?(data&&(n.rem=data),data=t.materialize(t.SOURCE).source,n.add=this.value=function(input,a,b,filter){for(var e,t,data=[],n={},r=input.length,i=0;i<r;++i)for(n[a]=t=input[i],e=0;e<r;++e)n[b]=input[e],filter(n)&&(data.push(ga(n)),(n={})[a]=t);return data}(data,a,b,e.filter||le.ib)):n.mod=data,n.source=this.value,n.modifies(r)}});const Ms={kde:wo,mixture:So,normal:Mo,lognormal:jo,uniform:Co};function ws(e){qa.call(this,null,e)}const ks=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],Ls={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:ks},{name:"weights",type:"number",array:!0}]};function Ds(e,t){return e?e.map((e,i)=>t[i]||Object(le.h)(e)):null}function Os(data,e,t){const n=[],r=e=>e(l);let map,i,o,l,c,g;if(null==e)n.push(data.map(t));else for(map={},i=0,o=data.length;i<o;++i)l=data[i],c=e.map(r),g=map[c],g||(map[c]=g=[],g.dims=c,n.push(g)),g.push(t(l));return n}ws.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:ks.concat(Ls)},{name:"as",type:"string",array:!0,default:["value","density"]}]},Object(le.z)(ws,qa,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=function e(t,data){const n=t.function;Object(le.w)(Ms,n)||Object(le.o)("Unknown distribution function: "+n);const r=Ms[n]();for(const n in t)"field"===n?r.data((t.from||data()).map(t[n])):"distributions"===n?r[n](t[n].map(t=>e(t,data))):"function"==typeof r[n]&&r[n](t[n]);return r}(e.distribution,function(e){return()=>e.materialize(e.SOURCE).source}(t)),o=e.steps||e.minsteps||25,l=e.steps||e.maxsteps||200;let c=e.method||"pdf";"pdf"!==c&&"cdf"!==c&&Object(le.o)("Invalid density method: "+c),e.extent||r.data||Object(le.o)("Missing density extent parameter."),c=r[c];const d=e.as||["value","density"],f=Xo(c,e.extent||Object(le.q)(r.data()),o,l).map(e=>{const t={};return t[d[0]]=e[0],t[d[1]]=e[1],ga(t)});this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n}});function js(e){qa.call(this,null,e)}js.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]};function Ss(e){Da.call(this,null,Ys,e),this.modified(!0)}function Ys(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:Object(le.f)(n=>t(n,e),Object(le.g)(t),Object(le.h)(t))}function Ts(e){qa.call(this,[void 0,void 0],e)}function As(e,t){Da.call(this,e),this.parent=t,this.count=0}function Es(e){qa.call(this,{},e),this._keys=Object(le.t)();const a=this._targets=[];a.active=0,a.forEach=e=>{for(let i=0,t=a.active;i<t;++i)e(a[i],i,a)}}function Cs(e){Da.call(this,null,Fs,e)}function Fs(e){return this.value&&!e.modified()?this.value:Object(le.B)(e.name)?Object(le.i)(e.name).map(e=>Object(le.u)(e)):Object(le.u)(e.name,e.as)}function Ps(e){qa.call(this,Object(le.t)(),e)}function Ns(e){qa.call(this,[],e)}function zs(e){qa.call(this,[],e)}function Hs(e){qa.call(this,null,e)}function Rs(e){qa.call(this,[],e)}Object(le.z)(js,qa,{transform(e,t){if(this.value&&!e.modified()&&!t.changed())return t;const source=t.materialize(t.SOURCE).source,n=Os(t.source,e.groupby,le.y),r=e.smooth||!1,o=e.field,l=e.step||((data,e)=>Object(le.Z)(Object(le.q)(data,e))/30)(source,o),c=va((a,b)=>o(a)-o(b)),d=e.as||"bin",f=n.length;let h,m=1/0,_=-1/0,i=0;for(;i<f;++i){const g=n[i].sort(c);h=-1;for(const e of fo(g,l,r,o))e<m&&(m=e),e>_&&(_=e),g[++h][d]=e}return this.value={start:m,stop:_,step:l},t.reflow(!0).modifies(d)}}),Object(le.z)(Ss,Da),Ts.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},Object(le.z)(Ts,qa,{transform(e,t){const n=this.value,r=e.field,o=t.changed()||t.modified(r.fields)||e.modified("field");let l=n[0],c=n[1];if((o||null==l)&&(l=1/0,c=-1/0),t.visit(o?t.SOURCE:t.ADD,e=>{const t=Object(le.eb)(r(e));null!=t&&(t<l&&(l=t),t>c&&(c=t))}),!Number.isFinite(l)||!Number.isFinite(c)){let e=Object(le.h)(r);e&&(e=' for field "'.concat(e,'"')),t.dataflow.warn("Infinite extent".concat(e,": [").concat(l,", ").concat(c,"]")),l=c=void 0}this.value=[l,c]}}),Object(le.z)(As,Da,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}}),Object(le.z)(Es,qa,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const o=this.value;let l,p,c=Object(le.w)(o,e)&&o[e];return c?c.value.stamp<n.stamp&&(c.init(n),this.activate(c)):(p=r||(p=this._group[e])&&p.tuple,l=n.dataflow,c=new As(n.fork(n.NO_SOURCE),this),l.add(c).connect(t(l,e,p)),o[e]=c,this.activate(c)),c},clean(){const e=this.value;for(const t in e)if(0===e[t].count){const n=e[t].detachSubflow;n&&n(),delete e[t]}},initTargets(){const a=this._targets,e=a.length;for(let i=0;i<e&&null!=a[i];++i)a[i]=null;a.active=0},transform(e,t){const n=t.dataflow,r=e.key,o=e.subflow,l=this._keys,c=e.modified("key"),d=e=>this.subflow(e,o,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,e=>{const t=ma(e),n=l.get(t);void 0!==n&&(l.delete(t),d(n).rem(e))}),t.visit(t.ADD,e=>{const t=r(e);l.set(ma(e),t),d(t).add(e)}),c||t.modified(r.fields)?t.visit(t.MOD,e=>{const t=ma(e),n=l.get(t),o=r(e);n===o?d(o).mod(e):(l.set(t,o),d(n).rem(e),d(o).add(e))}):t.changed(t.MOD)&&t.visit(t.MOD,e=>{d(l.get(ma(e))).mod(e)}),c&&t.visit(t.REFLOW,e=>{const t=ma(e),n=l.get(t),o=r(e);n!==o&&(l.set(t,o),d(n).rem(e),d(o).add(e))}),t.clean()?n.runAfter(()=>{this.clean(),l.clean()}):l.empty>n.cleanThreshold&&n.runAfter(l.clean),t}}),Object(le.z)(Cs,Da),Ps.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},Object(le.z)(Ps,qa,{transform(e,t){const n=t.dataflow,r=this.value,output=t.fork(),o=output.add,l=output.rem,c=output.mod,d=e.expr;let f=!0;function h(t){const n=ma(t),b=d(t,e),s=r.get(n);b&&s?(r.delete(n),o.push(t)):b||s?f&&b&&!s&&c.push(t):(r.set(n,1),l.push(t))}return t.visit(t.REM,e=>{const t=ma(e);r.has(t)?r.delete(t):l.push(e)}),t.visit(t.ADD,t=>{d(t,e)?o.push(t):r.set(ma(t),1)}),t.visit(t.MOD,h),e.modified()&&(f=!1,t.visit(t.REFLOW,h)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),output}}),Ns.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},Object(le.z)(Ns,qa,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,o=Ds(r,e.as||[]),l=e.index||null,c=o.length;return n.rem=this.value,t.visit(t.SOURCE,e=>{const t=r.map(t=>t(e)),d=t.reduce((e,a)=>Math.max(e,a.length),0);let f,h,m,i=0;for(;i<d;++i){for(h=_a(e),f=0;f<c;++f)h[o[f]]=null==(m=t[f][i])?null:m;l&&(h[l]=i),n.add.push(h)}}),this.value=n.source=n.add,l&&n.modifies(l),n.modifies(o)}}),zs.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},Object(le.z)(zs,qa,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,o=r.map(le.h),l=e.as||["key","value"],c=l[0],d=l[1],f=r.length;return n.rem=this.value,t.visit(t.SOURCE,e=>{for(let t,i=0;i<f;++i)t=_a(e),t[c]=o[i],t[d]=r[i](e),n.add.push(t)}),this.value=n.source=n.add,n.modifies(l)}}),Hs.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},Object(le.z)(Hs,qa,{transform(e,t){const n=e.expr,r=e.as,o=e.modified(),l=e.initonly?t.ADD:o?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return o&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(l,t=>t[r]=n(t,e))}}),Object(le.z)(Rs,qa,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let o,l,c,data=this.value,d=e.size-data.length;if(d>0){for(o=[];--d>=0;)o.push(c=ga(r(e))),data.push(c);n.add=n.add.length?n.materialize(n.ADD).add.concat(o):o}else l=data.slice(0,-d),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(l):l,data=data.slice(-d);return n.source=this.value=data,n}});const Is={value:"value",median:no,mean:function(e,t){let n=0,r=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(++n,r+=t);else{let o=-1;for(let l of e)null!=(l=t(l,++o,e))&&(l=+l)>=l&&(++n,r+=l)}if(n)return r/n},min:Za,max:Xa},Bs=[];function $s(e){qa.call(this,[],e)}function Ws(e){ms.call(this,e)}function Us(e){qa.call(this,null,e)}function qs(e){Da.call(this,null,Vs,e)}function Vs(e){return this.value&&!e.modified()?this.value:Object(le.K)(e.fields,e.flat)}function Js(e){qa.call(this,[],e),this._pending=null}function Gs(e,t,data){data.forEach(ga);const n=t.fork(t.NO_FIELDS&t.NO_SOURCE);return n.rem=e.value,e.value=n.source=n.add=data,e._pending=null,n.rem.length&&n.clean(!0),n}function Xs(e){qa.call(this,{},e)}function Zs(e){Da.call(this,null,Ks,e)}function Ks(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let i,r,o=1/0,l=-1/0;for(i=0;i<n;++i)r=t[i],r[0]<o&&(o=r[0]),r[1]>l&&(l=r[1]);return[o,l]}function Qs(e){Da.call(this,null,el,e)}function el(e){return this.value&&!e.modified()?this.value:e.values.reduce((data,e)=>data.concat(e),[])}function tl(e){qa.call(this,null,e)}function nl(e){ms.call(this,e)}function rl(e){Es.call(this,e)}function il(e){qa.call(this,null,e)}function al(e){qa.call(this,null,e)}function sl(e){qa.call(this,null,e)}$s.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},Object(le.z)($s,qa,{transform(e,t){var n,r,o,l,g,i,c,d,f,h,m=t.fork(t.ALL),_=function(e){var t,n=e.method||Is.value;if(null!=Is[n])return n===Is.value?(t=void 0!==e.value?e.value:0,()=>t):Is[n];Object(le.o)("Unrecognized imputation method: "+n)}(e),y=function(e){const t=e.field;return e=>e?t(e):NaN}(e),v=Object(le.h)(e.field),x=Object(le.h)(e.key),M=(e.groupby||[]).map(le.h),w=function(data,e,t,n){var r,o,l,i,c,d,f,h,m=e=>e(h),_=[],y=n?n.slice():[],v={},x={};for(y.forEach((e,i)=>v[e]=i+1),i=0,f=data.length;i<f;++i)h=data[i],d=t(h),c=v[d]||(v[d]=y.push(d)),o=(r=e?e.map(m):Bs)+"",(l=x[o])||(l=x[o]=[],_.push(l),l.values=r),l[c-1]=h;return _.domain=y,_}(t.source,e.groupby,e.key,e.keyvals),k=[],L=this.value,D=w.domain.length;for(g=0,d=w.length;g<d;++g)for(o=(n=w[g]).values,r=NaN,c=0;c<D;++c)if(null==n[c]){for(l=w.domain[c],h={_impute:!0},i=0,f=o.length;i<f;++i)h[M[i]]=o[i];h[x]=l,h[v]=Number.isNaN(r)?r=_(n,y):r,k.push(ga(h))}return k.length&&(m.add=m.materialize(m.ADD).add.concat(k)),L.length&&(m.rem=m.materialize(m.REM).rem.concat(L)),this.value=k,m}}),Ws.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:is},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},Object(le.z)(Ws,ms,{transform(e,t){const n=this,r=e.modified();let o;return n.value&&(r||t.modified(n._inputs,!0))?(o=n.value=r?n.init(e):{},t.visit(t.SOURCE,e=>n.add(e))):(o=n.value=n.value||this.init(e),t.visit(t.REM,e=>n.rem(e)),t.visit(t.ADD,e=>n.add(e))),n.changes(),t.visit(t.SOURCE,e=>{Object(le.p)(e,o[n.cellkey(e)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let i,n;for(i=0,n=this._alen;i<n;++i)this.celltuple(e[i]),e[i]=null;for(i=0,n=this._mlen;i<n;++i)this.celltuple(t[i]),t[i]=null;this._alen=this._mlen=0}}),Us.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},Object(le.z)(Us,qa,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const source=t.materialize(t.SOURCE).source,r=Os(source,e.groupby,e.field),o=(e.groupby||[]).map(le.h),l=e.bandwidth,c=e.cumulative?"cdf":"pdf",d=e.as||["value","density"],f=[];let h=e.extent,m=e.steps||e.minsteps||25,_=e.steps||e.maxsteps||200;"pdf"!==c&&"cdf"!==c&&Object(le.o)("Invalid density method: "+c),"shared"===e.resolve&&(h||(h=Object(le.q)(source,e.field)),m=_=e.steps||_),r.forEach(g=>{const t=wo(g,l)[c],n=e.counts?g.length:1;Xo(t,h||Object(le.q)(g),m,_).forEach(e=>{const t={};for(let i=0;i<o.length;++i)t[o[i]]=g.dims[i];t[d[0]]=e[0],t[d[1]]=e[1]*n,f.push(ga(t))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n}}),Object(le.z)(qs,Da),Object(le.z)(Js,qa,{transform(e,t){const n=t.dataflow;if(this._pending)return Gs(this,t,this._pending);if(function(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}(e))return t.StopPropagation;if(e.values)return Gs(this,t,n.parse(e.values,e.format));if(e.async){return{async:n.request(e.url,e.format).then(e=>(this._pending=Object(le.i)(e.data),e=>e.touch(this)))}}return n.request(e.url,e.format).then(e=>Gs(this,t,Object(le.i)(e.data)))}}),Xs.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},Object(le.z)(Xs,qa,{transform(e,t){const n=e.fields,r=e.index,o=e.values,l=null==e.default?null:e.default,c=e.modified(),d=n.length;let f,h,m,_=c?t.SOURCE:t.ADD,y=t,v=e.as;return o?(h=o.length,d>1&&!v&&Object(le.o)('Multi-field lookup requires explicit "as" parameter.'),v&&v.length!==d*h&&Object(le.o)('The "as" parameter has too few output field names.'),v=v||o.map(le.h),f=function(e){for(var t,c,i=0,f=0;i<d;++i)if(null==(c=r.get(n[i](e))))for(t=0;t<h;++t,++f)e[v[f]]=l;else for(t=0;t<h;++t,++f)e[v[f]]=o[t](c)}):(v||Object(le.o)("Missing output field names."),f=function(e){for(var t,i=0;i<d;++i)t=r.get(n[i](e)),e[v[i]]=null==t?l:t}),c?y=t.reflow(!0):(m=n.some(e=>t.modified(e.fields)),_|=m?t.MOD:0),t.visit(_,f),y.modifies(v)}}),Object(le.z)(Zs,Da),Object(le.z)(Qs,Da),Object(le.z)(tl,qa,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),nl.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:is,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},Object(le.z)(nl,ms,{_transform:ms.prototype.transform,transform(e,t){return this._transform(function(e,t){const n=e.field,r=e.value,o=("count"===e.op?"__count__":e.op)||"sum",l=Object(le.g)(n).concat(Object(le.g)(r)),c=function(e,t,n){const map={},r=[];return n.visit(n.SOURCE,t=>{const n=e(t);map[n]||(map[n]=1,r.push(n))}),r.sort(le.j),t?r.slice(0,t):r}(n,e.limit||0,t);t.changed()&&e.set("__pivot__",null,null,!0);return{key:e.key,groupby:e.groupby,ops:c.map(()=>o),fields:c.map(e=>function(e,t,n,r){return Object(le.f)(r=>t(r)===e?n(r):NaN,r,e+"")}(e,n,r,l)),as:c.map(e=>e+""),modified:e.modified.bind(e)}}(e,t),t)}}),Object(le.z)(rl,Es,{transform(e,t){const n=e.subflow,r=e.field,o=e=>this.subflow(ma(e),n,t,e);return(e.modified("field")||r&&t.modified(Object(le.g)(r)))&&Object(le.o)("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,e=>{const t=o(e);r(e).forEach(e=>t.mod(e))}),t.visit(t.ADD,e=>{const t=o(e);r(e).forEach(e=>t.add(ga(e)))}),t.visit(t.REM,e=>{const t=o(e);r(e).forEach(e=>t.rem(e))})):(t.visit(t.MOD,e=>o(e).mod(e)),t.visit(t.ADD,e=>o(e).add(e)),t.visit(t.REM,e=>o(e).rem(e))),t.clean()&&t.runAfter(()=>this.clean()),t}}),il.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},Object(le.z)(il,qa,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,o=Ds(e.fields,e.as||[]),l=r?(s,e)=>function(s,e,t,n){for(let i=0,r=t.length;i<r;++i)e[n[i]]=t[i](s);return e}(s,e,r,o):ya;let c;return this.value?c=this.value:(t=t.addAll(),c=this.value={}),t.visit(t.REM,e=>{const t=ma(e);n.rem.push(c[t]),c[t]=null}),t.visit(t.ADD,e=>{const dt=l(e,ga({}));c[ma(e)]=dt,n.add.push(dt)}),t.visit(t.MOD,e=>{n.mod.push(l(e,c[ma(e)]))}),n}}),Object(le.z)(al,qa,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}}),sl.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};function ll(e){qa.call(this,null,e)}function cl(e){qa.call(this,[],e),this.count=0}function fl(e){qa.call(this,null,e)}function hl(e){qa.call(this,null,e),this.modified(!0)}function ml(e){qa.call(this,null,e)}Object(le.z)(sl,qa,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const o=Os(t.materialize(t.SOURCE).source,e.groupby,e.field),l=(e.groupby||[]).map(le.h),c=[],d=e.step||.01,p=e.probs||Ko(d/2,1-1e-14,d),f=p.length;return o.forEach(g=>{const q=io(g,p);for(let i=0;i<f;++i){const e={};for(let i=0;i<l.length;++i)e[l[i]]=g.dims[i];e[r[0]]=p[i],e[r[1]]=q[i],c.push(ga(e))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=c,n}}),Object(le.z)(ll,qa,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,e=>{const t=ma(e);n.rem.push(r[t]),r[t]=null}),t.visit(t.ADD,e=>{const dt=_a(e);r[ma(e)]=dt,n.add.push(dt)}),t.visit(t.MOD,e=>{const dt=r[ma(e)];for(const t in e)dt[t]=e[t],n.modifies(t);n.mod.push(dt)})),n}}),cl.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},Object(le.z)(cl,qa,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),o=e.size,map=this.value.reduce((e,t)=>(e[ma(t)]=1,e),{});let l=this.value,c=this.count,d=0;function f(e){let p,t;l.length<o?l.push(e):(t=~~((c+1)*lo()),t<l.length&&t>=d&&(p=l[t],map[ma(p)]&&n.rem.push(p),l[t]=e)),++c}if(t.rem.length&&(t.visit(t.REM,e=>{const t=ma(e);map[t]&&(map[t]=-1,n.rem.push(e)),--c}),l=l.filter(e=>-1!==map[ma(e)])),(t.rem.length||r)&&l.length<o&&t.source&&(d=c=l.length,t.visit(t.SOURCE,e=>{map[ma(e)]||f(e)}),d=-1),r&&l.length>o){const e=l.length-o;for(let i=0;i<e;++i)map[ma(l[i])]=-1,n.rem.push(l[i]);l=l.slice(e)}return t.mod.length&&t.visit(t.MOD,e=>{map[ma(e)]&&n.mod.push(e)}),t.add.length&&t.visit(t.ADD,f),(t.add.length||d<0)&&(n.add=l.filter(e=>!map[ma(e)])),this.count=c,this.value=n.source=l,n}}),fl.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},Object(le.z)(fl,qa,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Ko(e.start,e.stop,e.step||1).map(e=>{const t={};return t[r]=e,ga(t)}),n.add=t.add.concat(this.value),n}}),Object(le.z)(hl,qa,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});const pl=["unit0","unit1"];function gl(e){qa.call(this,Object(le.t)(),e)}function _l(e){qa.call(this,null,e)}ml.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:wn,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:pl}]},Object(le.z)(ml,qa,{transform(e,t){const n=e.field,r=!1!==e.interval,o="utc"===e.timezone,l=this._floor(e,t),c=(o?Qn:Kn)(l.unit).offset,d=e.as||pl,f=d[0],h=d[1],m=l.step;let _=l.start||1/0,y=l.stop||-1/0,v=t.ADD;return(e.modified()||t.modified(Object(le.g)(n)))&&(v=(t=t.reflow(!0)).SOURCE,_=1/0,y=-1/0),t.visit(v,e=>{const t=n(e);let a,b;null==t?(e[f]=null,r&&(e[h]=null)):(e[f]=a=b=l(t),r&&(e[h]=b=c(a,m)),a<_&&(_=a),b>y&&(y=b))}),l.start=_,l.stop=y,t.modifies(r?d:f)},_floor(e,t){const n="utc"===e.timezone,{units:r,step:o}=e.units?{units:e.units,step:e.step||1}:gr({extent:e.extent||Object(le.q)(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),l=Ln(r),c=this.value||{},d=(n?Gn:qn)(l,o);return d.unit=Object(le.W)(l),d.units=l,d.step=o,d.start=c.start,d.stop=c.stop,this.value=d}}),Object(le.z)(gl,qa,{transform(e,t){const n=t.dataflow,r=e.field,o=this.value,l=e=>o.set(r(e),e);let c=!0;return e.modified("field")||t.modified(r.fields)?(o.clear(),t.visit(t.SOURCE,l)):t.changed()?(t.visit(t.REM,e=>o.delete(r(e))),t.visit(t.ADD,l)):c=!1,this.modified(c),o.empty>n.cleanThreshold&&n.runAfter(o.clean),t.fork()}}),Object(le.z)(_l,qa,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(va(e.sort)):t.source).map(e.field))}});const yl={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const i=t.index,data=t.data;return i&&t.compare(data[i-1],data[i])?e=i+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const i=t.index,n=t.data;return i&&t.compare(n[i-1],n[i])?++e:e}}},percent_rank:function(){const e=yl.rank(),t=e.next;return{init:e.init,next:e=>(t(e)-1)/(e.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){(t=+t)>0||Object(le.o)("ntile num must be greater than zero.");const n=yl.cume_dist(),r=n.next;return{init:n.init,next:e=>Math.ceil(t*r(e))}},lag:function(e,t){return t=+t||1,{next:n=>{const i=n.index-t;return i>=0?e(n.data[i]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const i=n.index+t,r=n.data;return i<r.length?e(r[i]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return(t=+t)>0||Object(le.o)("nth_value nth must be greater than zero."),{next:n=>{const i=n.i0+(t-1);return i<n.i1?e(n.data[i]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return null!=r?t=r:t}}},next_value:function(e){let t,i;return{init:()=>(t=null,i=-1),next:n=>{const r=n.data;return n.index<=i?t:(i=function(e,data,t){for(let n=data.length;t<n;++t){if(null!=e(data[t]))return t}return-1}(e,r,n.index))<0?(i=r.length,t=null):t=e(r[i])}}}};const bl=Object.keys(yl);function vl(e){const t=Object(le.i)(e.ops),n=Object(le.i)(e.fields),r=Object(le.i)(e.params),o=Object(le.i)(e.as),l=this.outputs=[],c=this.windows=[],d={},map={},f=[],h=[];let m=!0;function _(e){Object(le.i)(Object(le.g)(e)).forEach(e=>d[e]=1)}_(e.sort),t.forEach((e,i)=>{const t=n[i],d=Object(le.h)(t),y=es(e,d,o[i]);if(_(t),l.push(y),Object(le.w)(yl,e))c.push(function(e,t,param,n){const r=yl[e](t,param);return{init:r.init||le.mb,update:function(e,t){t[n]=r.next(e)}}}(e,n[i],r[i],y));else{if(null==t&&"count"!==e&&Object(le.o)("Null aggregate field specified."),"count"===e)return void f.push(y);m=!1;let n=map[d];n||(n=map[d]=[],n.field=t,h.push(n)),n.push(as(e,y))}}),(f.length||h.length)&&(this.cell=function(e,t,n){e=e.map(e=>ds(e,e.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var o=e.length,a=r.agg=Array(o),i=0;i<o;++i)a[i]=new e[i](r);if(r.store)var l=r.data=new fs;return r.add=function(e){if(r.num+=1,!n){l&&l.add(e);for(let i=0;i<o;++i)a[i].add(a[i].get(e),e)}},r.rem=function(e){if(r.num-=1,!n){l&&l.rem(e);for(let i=0;i<o;++i)a[i].rem(a[i].get(e),e)}},r.set=function(e){let i,o;for(l&&l.values(),i=0,o=t.length;i<o;++i)e[t[i]]=r.num;if(!n)for(i=0,o=a.length;i<o;++i)a[i].set(e)},r.init=function(){r.num=0,l&&l.reset();for(let i=0;i<o;++i)a[i].init()},r}(h,f,m)),this.inputs=Object.keys(d)}const xl=vl.prototype;function Ml(e){qa.call(this,{},e),this._mlen=0,this._mods=[]}function wl(e,t,n,r){const o=r.sort,l=o&&!r.ignorePeers,c=r.frame||[null,0],data=e.data(n),d=data.length,b=l?dn(o):null,f={i0:0,i1:0,p0:0,p1:0,index:0,data:data,compare:o||Object(le.m)(-1)};t.init();for(let i=0;i<d;++i)kl(f,c,i,d),l&&Ll(f,b),t.update(f,data[i])}function kl(e,t,i,n){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,i-Math.abs(t[0])),e.i1=null==t[1]?n:Math.min(n,i+Math.abs(t[1])+1),e.index=i}function Ll(e,t){const n=e.i0,r=e.i1-1,o=e.compare,l=e.data,c=l.length-1;n>0&&!o(l[n],l[n-1])&&(e.i0=t.left(l,l[n])),r<c&&!o(l[r],l[r+1])&&(e.i1=t.right(l,l[r]))}function Dl(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Ol(e){this._context=e}xl.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()},xl.update=function(e,t){const n=this.cell,r=this.windows,data=e.data,o=r&&r.length;let l;if(n){for(l=e.p0;l<e.i0;++l)n.rem(data[l]);for(l=e.p1;l<e.i1;++l)n.add(data[l]);n.set(t)}for(l=0;l<o;++l)r[l].update(e,t)},Ml.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:bl.concat(is)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},Object(le.z)(Ml,qa,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=va(e.sort),o=Qo(e.groupby),l=e=>this.group(o(e));let c=this.state;c&&!n||(c=this.state=new vl(e)),n||t.modified(c.inputs)?(this.value={},t.visit(t.SOURCE,e=>l(e).add(e))):(t.visit(t.REM,e=>l(e).remove(e)),t.visit(t.ADD,e=>l(e).add(e)));for(let i=0,t=this._mlen;i<t;++i)wl(this._mods[i],c,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(c.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=gs(ma),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}}),Ol.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Dl(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Dl(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var jl=function(){};function Sl(e){this._context=e}Sl.prototype={areaStart:jl,areaEnd:jl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Dl(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Yl(e){this._context=e}Yl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Dl(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Tl(e,t){this._basis=new Ol(e),this._beta=t}Tl.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,o=e[0],l=t[0],c=e[n]-o,d=t[n]-l,i=-1;++i<=n;)r=i/n,this._basis.point(this._beta*e[i]+(1-this._beta)*(o+r*c),this._beta*t[i]+(1-this._beta)*(l+r*d));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Al=function e(t){function n(e){return 1===t?new Ol(e):new Tl(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function El(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Cl(e,t){this._context=e,this._k=(1-t)/6}Cl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:El(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:El(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Fl=function e(t){function n(e){return new Cl(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Pl(e,t){this._context=e,this._k=(1-t)/6}Pl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:El(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Nl=function e(t){function n(e){return new Pl(e,t)}return n.tension=function(t){return e(+t)},n}(0);function zl(e,t){this._context=e,this._k=(1-t)/6}zl.prototype={areaStart:jl,areaEnd:jl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:El(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Hl=function e(t){function n(e){return new zl(e,t)}return n.tension=function(t){return e(+t)},n}(0),Rl=Math.abs,Il=Math.atan2,Bl=Math.cos,$l=Math.max,Wl=Math.min,Ul=Math.sin,ql=Math.sqrt,Vl=Math.PI,Jl=Vl/2,Gl=2*Vl;function Xl(e){return e>1?0:e<-1?Vl:Math.acos(e)}function Zl(e){return e>=1?Jl:e<=-1?-Jl:Math.asin(e)}function Kl(e,t,n){var r=e._x1,o=e._y1,l=e._x2,c=e._y2;if(e._l01_a>1e-12){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,d=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/d,o=(o*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/d}if(e._l23_a>1e-12){var b=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,f=3*e._l23_a*(e._l23_a+e._l12_a);l=(l*b+e._x1*e._l23_2a-t*e._l12_2a)/f,c=(c*b+e._y1*e._l23_2a-n*e._l12_2a)/f}e._context.bezierCurveTo(r,o,l,c,e._x2,e._y2)}function Ql(e,t){this._context=e,this._alpha=t}Ql.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Kl(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var eu=function e(t){function n(e){return t?new Ql(e,t):new Cl(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function tu(e,t){this._context=e,this._alpha=t}tu.prototype={areaStart:jl,areaEnd:jl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Kl(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var nu=function e(t){function n(e){return t?new tu(e,t):new zl(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function ru(e,t){this._context=e,this._alpha=t}ru.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Kl(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var iu=function e(t){function n(e){return t?new ru(e,t):new Pl(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function au(e){this._context=e}au.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var ou=function(e){return new au(e)};function su(e){this._context=e}su.prototype={areaStart:jl,areaEnd:jl,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function lu(e){return e<0?-1:1}function uu(e,t,n){var r=e._x1-e._x0,h1=t-e._x1,o=(e._y1-e._y0)/(r||h1<0&&-0),l=(n-e._y1)/(h1||r<0&&-0),p=(o*h1+l*r)/(r+h1);return(lu(o)+lu(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(p))||0}function cu(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function du(e,t,n){var r=e._x0,o=e._y0,l=e._x1,c=e._y1,d=(l-r)/3;e._context.bezierCurveTo(r+d,o+d*t,l-d,c-d*n,l,c)}function fu(e){this._context=e}function hu(e){this._context=new mu(e)}function mu(e){this._context=e}function pu(e){this._context=e}function gu(e){var i,t,n=e.length-1,a=new Array(n),b=new Array(n),r=new Array(n);for(a[0]=0,b[0]=2,r[0]=e[0]+2*e[1],i=1;i<n-1;++i)a[i]=1,b[i]=4,r[i]=4*e[i]+2*e[i+1];for(a[n-1]=2,b[n-1]=7,r[n-1]=8*e[n-1]+e[n],i=1;i<n;++i)t=a[i]/b[i-1],b[i]-=t,r[i]-=t*r[i-1];for(a[n-1]=r[n-1]/b[n-1],i=n-2;i>=0;--i)a[i]=(r[i]-a[i+1])/b[i];for(b[n-1]=(e[n]+a[n-1])/2,i=0;i<n-1;++i)b[i]=2*e[i+1]-a[i+1];return[a,b]}fu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:du(this,this._t0,cu(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,du(this,cu(this,n=uu(this,e,t)),n);break;default:du(this,this._t0,n=uu(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(hu.prototype=Object.create(fu.prototype)).point=function(e,t){fu.prototype.point.call(this,t,e)},mu.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,o,l){this._context.bezierCurveTo(t,e,r,n,l,o)}},pu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=gu(e),o=gu(t),l=0,c=1;c<n;++l,++c)this._context.bezierCurveTo(r[0][l],o[0][l],r[1][l],o[1][l],e[c],t[c]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function _u(e,t){this._context=e,this._t=t}_u.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};const yu=Math.PI,bu=2*yu,vu=bu-1e-6;function xu(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Mu(){return new xu}xu.prototype=Mu.prototype={constructor:xu,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,o,l){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+l)},arcTo:function(e,t,n,r,o){e=+e,t=+t,n=+n,r=+r,o=+o;var l=this._x1,c=this._y1,d=n-e,f=r-t,h=l-e,m=c-t,_=h*h+m*m;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(_>1e-6)if(Math.abs(m*d-f*h)>1e-6&&o){var y=n-l,v=r-c,x=d*d+f*f,M=y*y+v*v,w=Math.sqrt(x),k=Math.sqrt(_),L=o*Math.tan((yu-Math.acos((x+_-M)/(2*w*k)))/2),D=L/k,O=L/w;Math.abs(D-1)>1e-6&&(this._+="L"+(e+D*h)+","+(t+D*m)),this._+="A"+o+","+o+",0,0,"+ +(m*y>h*v)+","+(this._x1=e+O*d)+","+(this._y1=t+O*f)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,o,l){e=+e,t=+t,l=!!l;var c=(n=+n)*Math.cos(r),d=n*Math.sin(r),f=e+c,h=t+d,m=1^l,_=l?r-o:o-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+f+","+h:(Math.abs(this._x1-f)>1e-6||Math.abs(this._y1-h)>1e-6)&&(this._+="L"+f+","+h),n&&(_<0&&(_=_%bu+bu),_>vu?this._+="A"+n+","+n+",0,1,"+m+","+(e-c)+","+(t-d)+"A"+n+","+n+",0,1,"+m+","+(this._x1=f)+","+(this._y1=h):_>1e-6&&(this._+="A"+n+","+n+",0,"+ +(_>=yu)+","+m+","+(this._x1=e+n*Math.cos(o))+","+(this._y1=t+n*Math.sin(o))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var wu=Mu,ku=function(e){return function(){return e}};function Lu(e){return e.innerRadius}function Du(e){return e.outerRadius}function Ou(e){return e.startAngle}function ju(e){return e.endAngle}function Su(e){return e&&e.padAngle}function Yu(e,t,n,r,o,l,c,d){var f=n-e,h=r-t,m=c-o,_=d-l,y=_*f-m*h;if(!(y*y<1e-12))return[e+(y=(m*(t-l)-_*(e-o))/y)*f,t+y*h]}function Tu(e,t,n,r,o,l,c){var d=e-n,f=t-r,h=(c?l:-l)/ql(d*d+f*f),m=h*f,_=-h*d,y=e+m,v=t+_,x=n+m,M=r+_,w=(y+x)/2,k=(v+M)/2,L=x-y,D=M-v,O=L*L+D*D,j=o-l,S=y*M-x*v,Y=(D<0?-1:1)*ql($l(0,j*j*O-S*S)),T=(S*D-L*Y)/O,A=(-S*L-D*Y)/O,E=(S*D+L*Y)/O,C=(-S*L+D*Y)/O,F=T-w,P=A-k,N=E-w,z=C-k;return F*F+P*P>N*N+z*z&&(T=E,A=C),{cx:T,cy:A,x01:-m,y01:-_,x11:T*(o/j-1),y11:A*(o/j-1)}}Array.prototype.slice;var Au=function(e){return"object"==typeof e&&"length"in e?e:Array.from(e)};function Eu(p){return p[0]}function Cu(p){return p[1]}var Fu=function(e,t){var n=ku(!0),r=null,o=ou,output=null;function line(data){var i,l,c,d=(data=Au(data)).length,f=!1;for(null==r&&(output=o(c=wu())),i=0;i<=d;++i)!(i<d&&n(l=data[i],i,data))===f&&((f=!f)?output.lineStart():output.lineEnd()),f&&output.point(+e(l,i,data),+t(l,i,data));if(c)return output=null,c+""||null}return e="function"==typeof e?e:void 0===e?Eu:ku(e),t="function"==typeof t?t:void 0===t?Cu:ku(t),line.x=function(t){return arguments.length?(e="function"==typeof t?t:ku(+t),line):e},line.y=function(e){return arguments.length?(t="function"==typeof e?e:ku(+e),line):t},line.defined=function(e){return arguments.length?(n="function"==typeof e?e:ku(!!e),line):n},line.curve=function(e){return arguments.length?(o=e,null!=r&&(output=o(r)),line):o},line.context=function(e){return arguments.length?(null==e?r=output=null:output=o(r=e),line):r},line},Pu=function(e,t,n){var r=null,o=ku(!0),l=null,c=ou,output=null;function area(data){var i,d,f,h,m,_=(data=Au(data)).length,y=!1,v=new Array(_),x=new Array(_);for(null==l&&(output=c(m=wu())),i=0;i<=_;++i){if(!(i<_&&o(h=data[i],i,data))===y)if(y=!y)d=i,output.areaStart(),output.lineStart();else{for(output.lineEnd(),output.lineStart(),f=i-1;f>=d;--f)output.point(v[f],x[f]);output.lineEnd(),output.areaEnd()}y&&(v[i]=+e(h,i,data),x[i]=+t(h,i,data),output.point(r?+r(h,i,data):v[i],n?+n(h,i,data):x[i]))}if(m)return output=null,m+""||null}function d(){return Fu().defined(o).curve(c).context(l)}return e="function"==typeof e?e:void 0===e?Eu:ku(+e),t="function"==typeof t?t:ku(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?Cu:ku(+n),area.x=function(t){return arguments.length?(e="function"==typeof t?t:ku(+t),r=null,area):e},area.x0=function(t){return arguments.length?(e="function"==typeof t?t:ku(+t),area):e},area.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:ku(+e),area):r},area.y=function(e){return arguments.length?(t="function"==typeof e?e:ku(+e),n=null,area):t},area.y0=function(e){return arguments.length?(t="function"==typeof e?e:ku(+e),area):t},area.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:ku(+e),area):n},area.lineX0=area.lineY0=function(){return d().x(e).y(t)},area.lineY1=function(){return d().x(e).y(n)},area.lineX1=function(){return d().x(r).y(t)},area.defined=function(e){return arguments.length?(o="function"==typeof e?e:ku(!!e),area):o},area.curve=function(e){return arguments.length?(c=e,null!=l&&(output=c(l)),area):c},area.context=function(e){return arguments.length?(null==e?l=output=null:output=c(l=e),area):l},area},Nu={draw:function(e,t){var n=Math.sqrt(t/Vl);e.moveTo(n,0),e.arc(0,0,n,0,Gl)}},zu=(Math.sqrt(1/3),Math.sin(Vl/10)/Math.sin(7*Vl/10));Math.sin(Gl/10),Math.cos(Gl/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12);function Hu(e,t){if("undefined"!=typeof document&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const Ru=()=>"undefined"!=typeof Image?Image:null,Iu=dn(cn),Bu=Iu.right,$u=Iu.left;dn(Qa).center;var Wu=Bu;function Uu(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function qu(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const Vu=Symbol("implicit");function Ju(){var e=new Map,t=[],n=[],r=Vu;function o(o){var l=o+"",i=e.get(l);if(!i){if(r!==Vu)return r;e.set(l,i=t.push(o))}return n[(i-1)%n.length]}return o.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;for(const r of n){const n=r+"";e.has(n)||e.set(n,t.push(r))}return o},o.range=function(e){return arguments.length?(n=Array.from(e),o):n.slice()},o.unknown=function(e){return arguments.length?(r=e,o):r},o.copy=function(){return Ju(t,n).unknown(r)},Uu.apply(o,arguments),o}function Gu(e,t,n,r){var o,l=Qe(e,t,n);switch((r=tt(null==r?",f":r)).type){case"s":var c=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(o=ct(l,c))||(r.precision=o),lt(r,c);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=ft(l,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=ht(l))||(r.precision=o-2*("%"===r.type))}return st(r)}var Xu=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function Zu(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ku(){}var Qu="\\s*([+-]?\\d+)\\s*",ec="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",tc="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nc=/^#([0-9a-f]{3,8})$/,rc=new RegExp("^rgb\\("+[Qu,Qu,Qu]+"\\)$"),ic=new RegExp("^rgb\\("+[tc,tc,tc]+"\\)$"),ac=new RegExp("^rgba\\("+[Qu,Qu,Qu,ec]+"\\)$"),oc=new RegExp("^rgba\\("+[tc,tc,tc,ec]+"\\)$"),sc=new RegExp("^hsl\\("+[ec,tc,tc]+"\\)$"),lc=new RegExp("^hsla\\("+[ec,tc,tc,ec]+"\\)$"),uc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function cc(){return this.rgb().formatHex()}function dc(){return this.rgb().formatRgb()}function fc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=nc.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?hc(t):3===n?new _c(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?mc(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?mc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=rc.exec(e))?new _c(t[1],t[2],t[3],1):(t=ic.exec(e))?new _c(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ac.exec(e))?mc(t[1],t[2],t[3],t[4]):(t=oc.exec(e))?mc(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=sc.exec(e))?xc(t[1],t[2]/100,t[3]/100,1):(t=lc.exec(e))?xc(t[1],t[2]/100,t[3]/100,t[4]):uc.hasOwnProperty(e)?hc(uc[e]):"transparent"===e?new _c(NaN,NaN,NaN,0):null}function hc(e){return new _c(e>>16&255,e>>8&255,255&e,1)}function mc(e,g,b,a){return a<=0&&(e=g=b=NaN),new _c(e,g,b,a)}function pc(e){return e instanceof Ku||(e=fc(e)),e?new _c((e=e.rgb()).r,e.g,e.b,e.opacity):new _c}function gc(e,g,b,t){return 1===arguments.length?pc(e):new _c(e,g,b,null==t?1:t)}function _c(e,g,b,t){this.r=+e,this.g=+g,this.b=+b,this.opacity=+t}function yc(){return"#"+vc(this.r)+vc(this.g)+vc(this.b)}function bc(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}function vc(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function xc(e,s,t,a){return a<=0?e=s=t=NaN:t<=0||t>=1?e=s=NaN:s<=0&&(e=NaN),new kc(e,s,t,a)}function Mc(e){if(e instanceof kc)return new kc(e.h,e.s,e.l,e.opacity);if(e instanceof Ku||(e=fc(e)),!e)return new kc;if(e instanceof kc)return e;var t=(e=e.rgb()).r/255,g=e.g/255,b=e.b/255,n=Math.min(t,g,b),r=Math.max(t,g,b),o=NaN,s=r-n,l=(r+n)/2;return s?(o=t===r?(g-b)/s+6*(g<b):g===r?(b-t)/s+2:(t-g)/s+4,s/=l<.5?r+n:2-r-n,o*=60):s=l>0&&l<1?0:o,new kc(o,s,l,e.opacity)}function wc(e,s,t,n){return 1===arguments.length?Mc(e):new kc(e,s,t,null==n?1:n)}function kc(e,s,t,n){this.h=+e,this.s=+s,this.l=+t,this.opacity=+n}function Lc(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Dc(e,t,n,r,o){var l=e*e,c=l*e;return((1-3*e+3*l-c)*t+(4-6*l+3*c)*n+(1+3*e+3*l-3*c)*r+c*o)/6}Xu(Ku,fc,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:cc,formatHex:cc,formatHsl:function(){return Mc(this).formatHsl()},formatRgb:dc,toString:dc}),Xu(_c,gc,Zu(Ku,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new _c(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new _c(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yc,formatHex:yc,formatRgb:bc,toString:bc})),Xu(kc,wc,Zu(Ku,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new kc(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new kc(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),s=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*s,r=2*t-n;return new _c(Lc(e>=240?e-240:e+120,r,n),Lc(e,r,n),Lc(e<120?e+240:e-120,r,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===a?")":", "+a+")")}}));var Oc=function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[i],o=e[i+1],l=i>0?e[i-1]:2*r-o,c=i<t-1?e[i+2]:2*o-r;return Dc((n-i/t)*t,l,r,o,c)}},jc=function(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),r=e[(i+t-1)%t],o=e[i%t],l=e[(i+1)%t],c=e[(i+2)%t];return Dc((n-i/t)*t,r,o,l,c)}},Sc=e=>()=>e;function Yc(a,e){return function(t){return a+t*e}}function Tc(a,b){var e=b-a;return e?Yc(a,e>180||e<-180?e-360*Math.round(e/360):e):Sc(isNaN(a)?b:a)}function Ac(e){return 1==(e=+e)?Ec:function(a,b){return b-a?function(a,b,e){return a=Math.pow(a,e),b=Math.pow(b,e)-a,e=1/e,function(t){return Math.pow(a+t*b,e)}}(a,b,e):Sc(isNaN(a)?b:a)}}function Ec(a,b){var e=b-a;return e?Yc(a,e):Sc(isNaN(a)?b:a)}var Cc=function e(t){var n=Ac(t);function r(e,t){var r=n((e=gc(e)).r,(t=gc(t)).r),g=n(e.g,t.g),b=n(e.b,t.b),o=Ec(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=g(t),e.b=b(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function Fc(e){return function(t){var i,n,r=t.length,o=new Array(r),g=new Array(r),b=new Array(r);for(i=0;i<r;++i)n=gc(t[i]),o[i]=n.r||0,g[i]=n.g||0,b[i]=n.b||0;return o=e(o),g=e(g),b=e(b),n.opacity=1,function(e){return n.r=o(e),n.g=g(e),n.b=b(e),n+""}}}var Pc=Fc(Oc),Nc=Fc(jc),zc=function(a,b){b||(b=[]);var i,e=a?Math.min(b.length,a.length):0,t=b.slice();return function(n){for(i=0;i<e;++i)t[i]=a[i]*(1-n)+b[i]*n;return t}};function Hc(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var Rc=function(a,b){return(Hc(b)?zc:Ic)(a,b)};function Ic(a,b){var i,e=b?b.length:0,t=a?Math.min(e,a.length):0,n=new Array(t),r=new Array(e);for(i=0;i<t;++i)n[i]=Jc(a[i],b[i]);for(;i<e;++i)r[i]=b[i];return function(e){for(i=0;i<t;++i)r[i]=n[i](e);return r}}var Bc=function(a,b){var e=new Date;return a=+a,b=+b,function(t){return e.setTime(a*(1-t)+b*t),e}},$c=function(a,b){return a=+a,b=+b,function(e){return a*(1-e)+b*e}},Wc=function(a,b){var e,i={},t={};for(e in null!==a&&"object"==typeof a||(a={}),null!==b&&"object"==typeof b||(b={}),b)e in a?i[e]=Jc(a[e],b[e]):t[e]=b[e];return function(n){for(e in i)t[e]=i[e](n);return t}},Uc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qc=new RegExp(Uc.source,"g");var Vc=function(a,b){var e,t,n,r=Uc.lastIndex=qc.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(e=Uc.exec(a))&&(t=qc.exec(b));)(n=t.index)>r&&(n=b.slice(r,n),s[i]?s[i]+=n:s[++i]=n),(e=e[0])===(t=t[0])?s[i]?s[i]+=t:s[++i]=t:(s[++i]=null,q.push({i:i,x:$c(e,t)})),r=qc.lastIndex;return r<b.length&&(n=b.slice(r),s[i]?s[i]+=n:s[++i]=n),s.length<2?q[0]?function(b){return function(e){return b(e)+""}}(q[0].x):function(b){return function(){return b}}(b):(b=q.length,function(e){for(var t,i=0;i<b;++i)s[(t=q[i]).i]=t.x(e);return s.join("")})},Jc=function(a,b){var e,t=typeof b;return null==b||"boolean"===t?Sc(b):("number"===t?$c:"string"===t?(e=fc(b))?(b=e,Cc):Vc:b instanceof fc?Cc:b instanceof Date?Bc:Hc(b)?zc:Array.isArray(b)?Ic:"function"!=typeof b.valueOf&&"function"!=typeof b.toString||isNaN(b)?Wc:$c)(a,b)},Gc=function(a,b){return a=+a,b=+b,function(e){return Math.round(a*(1-e)+b*e)}};function Xc(e){return+e}var Zc=[0,1];function Kc(e){return e}function Qc(a,b){return(b-=a=+a)?function(e){return(e-a)/b}:(e=isNaN(b)?NaN:.5,function(){return e});var e}function ed(e,t,n){var r=e[0],o=e[1],l=t[0],c=t[1];return o<r?(r=Qc(o,r),l=n(c,l)):(r=Qc(r,o),l=n(l,c)),function(e){return l(r(e))}}function nd(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),l=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)o[i]=Qc(e[i],e[i+1]),l[i]=n(t[i],t[i+1]);return function(t){var i=Wu(e,t,1,r)-1;return l[i](o[i](t))}}function rd(source,e){return e.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp()).unknown(source.unknown())}function id(){var e,t,n,r,output,input,o=Zc,l=Zc,c=Jc,d=Kc;function f(){var a,b,e,t=Math.min(o.length,l.length);return d!==Kc&&(a=o[0],b=o[t-1],a>b&&(e=a,a=b,b=e),d=function(e){return Math.max(a,Math.min(b,e))}),r=t>2?nd:ed,output=input=null,h}function h(t){return isNaN(t=+t)?n:(output||(output=r(o.map(e),l,c)))(e(d(t)))}return h.invert=function(n){return d(t((input||(input=r(l,o.map(e),$c)))(n)))},h.domain=function(e){return arguments.length?(o=Array.from(e,Xc),f()):o.slice()},h.range=function(e){return arguments.length?(l=Array.from(e),f()):l.slice()},h.rangeRound=function(e){return l=Array.from(e),c=Gc,f()},h.clamp=function(e){return arguments.length?(d=!!e||Kc,f()):d!==Kc},h.interpolate=function(e){return arguments.length?(c=e,f()):c},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,u){return e=n,t=u,f()}}function ad(){return id()(Kc,Kc)}function od(e){var t=e.domain;return e.ticks=function(e){var n=t();return Ze(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Gu(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,o,l=t(),c=0,d=l.length-1,f=l[c],h=l[d],m=10;for(h<f&&(o=f,f=h,h=o,o=c,c=d,d=o);m-- >0;){if((o=Ke(f,h,n))===r)return l[c]=f,l[d]=h,t(l);if(o>0)f=Math.floor(f/o)*o,h=Math.ceil(h/o)*o;else{if(!(o<0))break;f=Math.ceil(f*o)/o,h=Math.floor(h*o)/o}r=o}return e},e}function sd(e,t){var n,r=0,o=(e=e.slice()).length-1,l=e[r],c=e[o];return c<l&&(n=r,r=o,o=n,n=l,l=c,c=n),e[r]=t.floor(l),e[o]=t.ceil(c),e}function ld(e){return Math.log(e)}function ud(e){return Math.exp(e)}function cd(e){return-Math.log(-e)}function fd(e){return-Math.exp(-e)}function hd(e){return isFinite(e)?+("1e"+e):e<0?0:e}function md(e){return function(t){return-e(-t)}}function pd(e){var t,n,r=e(ld,ud),o=r.domain,base=10;function l(){return t=function(base){return base===Math.E?Math.log:10===base&&Math.log10||2===base&&Math.log2||(base=Math.log(base),function(e){return Math.log(e)/base})}(base),n=function(base){return 10===base?hd:base===Math.E?Math.exp:function(e){return Math.pow(base,e)}}(base),o()[0]<0?(t=md(t),n=md(n),e(cd,fd)):e(ld,ud),r}return r.base=function(e){return arguments.length?(base=+e,l()):base},r.domain=function(e){return arguments.length?(o(e),l()):o()},r.ticks=function(e){var r,l=o(),u=l[0],c=l[l.length-1];(r=c<u)&&(i=u,u=c,c=i);var p,d,f,i=t(u),h=t(c),m=null==e?10:+e,_=[];if(!(base%1)&&h-i<m){if(i=Math.floor(i),h=Math.ceil(h),u>0){for(;i<=h;++i)for(d=1,p=n(i);d<base;++d)if(!((f=p*d)<u)){if(f>c)break;_.push(f)}}else for(;i<=h;++i)for(d=base-1,p=n(i);d>=1;--d)if(!((f=p*d)<u)){if(f>c)break;_.push(f)}2*_.length<m&&(_=Ze(u,c,m))}else _=Ze(i,h,Math.min(h-i,m)).map(n);return r?_.reverse():_},r.tickFormat=function(e,o){if(null==o&&(o=10===base?".0e":","),"function"!=typeof o&&(o=st(o)),e===1/0)return o;null==e&&(e=10);var l=Math.max(1,base*e/r.ticks().length);return function(e){var i=e/n(Math.round(t(e)));return i*base<base-.5&&(i*=base),i<=l?o(e):""}},r.nice=function(){return o(sd(o(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function gd(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _d(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function yd(e){return e<0?-e*e:e*e}function bd(e){var t=e(Kc,Kc),n=1;function r(){return 1===n?e(Kc,Kc):.5===n?e(_d,yd):e(gd(n),gd(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},od(t)}function vd(){var e=bd(id());return e.copy=function(){return rd(e,vd()).exponent(e.exponent())},Uu.apply(e,arguments),e}function xd(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Md(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function wd(e){var t=1,n=e(xd(t),Md(t));return n.constant=function(n){return arguments.length?e(xd(t=+n),Md(t)):t},od(n)}function kd(e){return new Date(e)}function Ld(e){return e instanceof Date?+e:+new Date(+e)}function Dd(e,t,n,r,o,l,c,d,f){var h=ad(),m=h.invert,_=h.domain,y=f(".%L"),v=f(":%S"),x=f("%I:%M"),M=f("%I %p"),w=f("%a %d"),k=f("%b %d"),L=f("%B"),D=f("%Y"),O=[[c,1,1e3],[c,5,5e3],[c,15,15e3],[c,30,3e4],[l,1,6e4],[l,5,3e5],[l,15,9e5],[l,30,18e5],[o,1,36e5],[o,3,108e5],[o,6,216e5],[o,12,432e5],[r,1,864e5],[r,2,1728e5],[n,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,31536e6]];function j(d){return(c(d)<d?y:l(d)<d?v:o(d)<d?x:r(d)<d?M:t(d)<d?n(d)<d?w:k:e(d)<d?L:D)(d)}function S(t,n,r){if(null==t&&(t=10),"number"==typeof t){var o,l=Math.abs(r-n)/t,i=dn((function(i){return i[2]})).right(O,l);return i===O.length?(o=Qe(n/31536e6,r/31536e6,t),t=e):i?(o=(i=O[l/O[i-1][2]<O[i][2]/l?i-1:i])[1],t=i[0]):(o=Math.max(Qe(n,r,t),1),t=d),t.every(o)}return t}return h.invert=function(e){return new Date(m(e))},h.domain=function(e){return arguments.length?_(Array.from(e,Ld)):_().map(kd)},h.ticks=function(e){var t,n=_(),r=n[0],o=n[n.length-1],l=o<r;return l&&(t=r,r=o,o=t),t=(t=S(e,r,o))?t.range(r,o+1):[],l?t.reverse():t},h.tickFormat=function(e,t){return null==t?j:f(t)},h.nice=function(e){var t=_();return(e=S(e,t[0],t[t.length-1]))?_(sd(t,e)):h},h.copy=function(){return rd(h,Dd(e,t,n,r,o,l,c,d,f))},h}function Od(){var e,t,n,r,o,l=0,c=1,d=Kc,f=!1;function h(t){return isNaN(t=+t)?o:d(0===n?.5:(t=(r(t)-e)*n,f?Math.max(0,Math.min(1,t)):t))}function m(e){return function(t){var n,r;return arguments.length?([n,r]=t,d=e(n,r),h):[d(0),d(1)]}}return h.domain=function(o){return arguments.length?([l,c]=o,e=r(l=+l),t=r(c=+c),n=e===t?0:1/(t-e),h):[l,c]},h.clamp=function(e){return arguments.length?(f=!!e,h):f},h.interpolator=function(e){return arguments.length?(d=e,h):d},h.range=m(Jc),h.rangeRound=m(Gc),h.unknown=function(e){return arguments.length?(o=e,h):o},function(o){return r=o,e=o(l),t=o(c),n=e===t?0:1/(t-e),h}}function jd(source,e){return e.domain(source.domain()).interpolator(source.interpolator()).clamp(source.clamp()).unknown(source.unknown())}function Sd(){var e=od(Od()(Kc));return e.copy=function(){return jd(e,Sd())},qu.apply(e,arguments)}function Yd(){var e=bd(Od());return e.copy=function(){return jd(e,Yd()).exponent(e.exponent())},qu.apply(e,arguments)}function Td(e,t){void 0===t&&(t=e,e=Jc);for(var i=0,n=t.length-1,r=t[0],o=new Array(n<0?0:n);i<n;)o[i]=e(r,r=t[++i]);return function(e){var i=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return o[i](e-i)}}function Ad(){var e,t,n,r,o,l,c,d=0,f=.5,h=1,s=1,m=Kc,_=!1;function y(e){return isNaN(e=+e)?c:(e=.5+((e=+l(e))-t)*(s*e<s*t?r:o),m(_?Math.max(0,Math.min(1,e)):e))}function v(e){return function(t){var n,r,o;return arguments.length?([n,r,o]=t,m=Td(e,[n,r,o]),y):[m(0),m(.5),m(1)]}}return y.domain=function(c){return arguments.length?([d,f,h]=c,e=l(d=+d),t=l(f=+f),n=l(h=+h),r=e===t?0:.5/(t-e),o=t===n?0:.5/(n-t),s=t<e?-1:1,y):[d,f,h]},y.clamp=function(e){return arguments.length?(_=!!e,y):_},y.interpolator=function(e){return arguments.length?(m=e,y):m},y.range=v(Jc),y.rangeRound=v(Gc),y.unknown=function(e){return arguments.length?(c=e,y):c},function(c){return l=c,e=c(d),t=c(f),n=c(h),r=e===t?0:.5/(t-e),o=t===n?0:.5/(n-t),s=t<e?-1:1,y}}function Ed(){var e=bd(Ad());return e.copy=function(){return jd(e,Ed()).exponent(e.exponent())},qu.apply(e,arguments)}var Cd,Fd=function(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}},Pd=function(a,b){var i=Tc(+a,+b);return function(e){var t=i(e);return t-360*Math.floor(t/360)}},Nd=180/Math.PI,zd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Hd=function(a,b,e,t,n,r){var o,l,c;return(o=Math.sqrt(a*a+b*b))&&(a/=o,b/=o),(c=a*e+b*t)&&(e-=a*c,t-=b*c),(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l,c/=l),a*t<b*e&&(a=-a,b=-b,c=-c,o=-o),{translateX:n,translateY:r,rotate:Math.atan2(b,a)*Nd,skewX:Math.atan(c)*Nd,scaleX:o,scaleY:l}};function Rd(e,t,n,r){function o(s){return s.length?s.pop()+" ":""}return function(a,b){var s=[],q=[];return a=e(a),b=e(b),function(e,r,o,l,s,q){if(e!==o||r!==l){var i=s.push("translate(",null,t,null,n);q.push({i:i-4,x:$c(e,o)},{i:i-2,x:$c(r,l)})}else(o||l)&&s.push("translate("+o+t+l+n)}(a.translateX,a.translateY,b.translateX,b.translateY,s,q),function(a,b,s,q){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),q.push({i:s.push(o(s)+"rotate(",null,r)-2,x:$c(a,b)})):b&&s.push(o(s)+"rotate("+b+r)}(a.rotate,b.rotate,s,q),function(a,b,s,q){a!==b?q.push({i:s.push(o(s)+"skewX(",null,r)-2,x:$c(a,b)}):b&&s.push(o(s)+"skewX("+b+r)}(a.skewX,b.skewX,s,q),function(e,t,n,r,s,q){if(e!==n||t!==r){var i=s.push(o(s)+"scale(",null,",",null,")");q.push({i:i-4,x:$c(e,n)},{i:i-2,x:$c(t,r)})}else 1===n&&1===r||s.push(o(s)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,b.scaleX,b.scaleY,s,q),a=b=null,function(e){for(var t,i=-1,n=q.length;++i<n;)s[(t=q[i]).i]=t.x(e);return s.join("")}}}var Id=Rd((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?zd:Hd(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),Bd=Rd((function(e){return null==e?zd:(Cd||(Cd=document.createElementNS("http://www.w3.org/2000/svg","g")),Cd.setAttribute("transform",e),(e=Cd.transform.baseVal.consolidate())?(e=e.matrix,Hd(e.a,e.b,e.c,e.d,e.e,e.f)):zd)}),", ",")",")");function $d(e){return((e=Math.exp(e))+1/e)/2}var Wd=function e(t,n,r){function o(e,o){var i,l,c=e[0],d=e[1],f=e[2],h=o[0],m=o[1],_=o[2],y=h-c,v=m-d,x=y*y+v*v;if(x<1e-12)l=Math.log(_/f)/t,i=function(e){return[c+e*y,d+e*v,f*Math.exp(t*e*l)]};else{var M=Math.sqrt(x),w=(_*_-f*f+r*x)/(2*f*n*M),k=(_*_-f*f-r*x)/(2*_*n*M),L=Math.log(Math.sqrt(w*w+1)-w),D=Math.log(Math.sqrt(k*k+1)-k);l=(D-L)/t,i=function(e){var r,s=e*l,o=$d(L),u=f/(n*M)*(o*(r=t*s+L,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(L));return[c+u*y,d+u*v,f*o/$d(t*s+L)]}}return i.duration=1e3*l*t/Math.SQRT2,i}return o.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},o}(Math.SQRT2,2,4);function Ud(e){return function(t,n){var r=e((t=wc(t)).h,(n=wc(n)).h),s=Ec(t.s,n.s),o=Ec(t.l,n.l),l=Ec(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=s(e),t.l=o(e),t.opacity=l(e),t+""}}}var qd=Ud(Tc),Vd=Ud(Ec);const Jd=Math.PI/180,Gd=180/Math.PI;function Xd(e){if(e instanceof Kd)return new Kd(e.l,e.a,e.b,e.opacity);if(e instanceof of)return sf(e);e instanceof _c||(e=pc(e));var t,n,r=nf(e.r),g=nf(e.g),b=nf(e.b),o=Qd((.2225045*r+.7168786*g+.0606169*b)/1);return r===g&&g===b?t=n=o:(t=Qd((.4360747*r+.3850649*g+.1430804*b)/.96422),n=Qd((.0139322*r+.0971045*g+.7141733*b)/.82521)),new Kd(116*o-16,500*(t-o),200*(o-n),e.opacity)}function Zd(e,a,b,t){return 1===arguments.length?Xd(e):new Kd(e,a,b,null==t?1:t)}function Kd(e,a,b,t){this.l=+e,this.a=+a,this.b=+b,this.opacity=+t}function Qd(e){return e>6/29*(6/29)*(6/29)?Math.pow(e,1/3):e/(6/29*3*(6/29))+4/29}function ef(e){return e>6/29?e*e*e:6/29*3*(6/29)*(e-4/29)}function tf(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function nf(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function rf(e){if(e instanceof of)return new of(e.h,e.c,e.l,e.opacity);if(e instanceof Kd||(e=Xd(e)),0===e.a&&0===e.b)return new of(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Gd;return new of(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function af(e,t,n,r){return 1===arguments.length?rf(e):new of(e,t,n,null==r?1:r)}function of(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function sf(e){if(isNaN(e.h))return new Kd(e.l,0,0,e.opacity);var t=e.h*Jd;return new Kd(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function lf(e,t){var n=Ec((e=Zd(e)).l,(t=Zd(t)).l),a=Ec(e.a,t.a),b=Ec(e.b,t.b),r=Ec(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=a(t),e.b=b(t),e.opacity=r(t),e+""}}function uf(e){return function(t,n){var r=e((t=af(t)).h,(n=af(n)).h),o=Ec(t.c,n.c),l=Ec(t.l,n.l),c=Ec(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=o(e),t.l=l(e),t.opacity=c(e),t+""}}}Xu(Kd,Zd,Zu(Ku,{brighter:function(e){return new Kd(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Kd(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new _c(tf(3.1338561*(t=.96422*ef(t))-1.6168667*(e=1*ef(e))-.4906146*(n=.82521*ef(n))),tf(-.9787684*t+1.9161415*e+.033454*n),tf(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),Xu(of,af,Zu(Ku,{brighter:function(e){return new of(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new of(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return sf(this).rgb()}}));var cf=uf(Tc),df=uf(Ec),ff=-.29227,hf=1.97294,mf=-.90649*hf,pf=1.78277*hf,gf=-.6557636667999999;function _f(e){if(e instanceof bf)return new bf(e.h,e.s,e.l,e.opacity);e instanceof _c||(e=pc(e));var t=e.r/255,g=e.g/255,b=e.b/255,n=(gf*b+mf*t-pf*g)/(gf+mf-pf),r=b-n,o=(hf*(g-n)-ff*r)/-.90649,s=Math.sqrt(o*o+r*r)/(hf*n*(1-n)),l=s?Math.atan2(o,r)*Gd-120:NaN;return new bf(l<0?l+360:l,s,n,e.opacity)}function yf(e,s,t,n){return 1===arguments.length?_f(e):new bf(e,s,t,null==n?1:n)}function bf(e,s,t,n){this.h=+e,this.s=+s,this.l=+t,this.opacity=+n}function vf(e){return function t(n){function r(t,r){var o=e((t=yf(t)).h,(r=yf(r)).h),s=Ec(t.s,r.s),l=Ec(t.l,r.l),c=Ec(t.opacity,r.opacity);return function(e){return t.h=o(e),t.s=s(e),t.l=l(Math.pow(e,n)),t.opacity=c(e),t+""}}return n=+n,r.gamma=t,r}(1)}Xu(bf,yf,Zu(Ku,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new bf(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new bf(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Jd,t=+this.l,a=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),r=Math.sin(e);return new _c(255*(t+a*(-.14861*n+1.78277*r)),255*(t+a*(ff*n+-.90649*r)),255*(t+a*(hf*n)),this.opacity)}}));var xf=vf(Tc),Mf=vf(Ec),wf=function(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e(i/(t-1));return n};function kf(e,t,n){const r=e-t+2*n;return e?r>0?r:1:0}const Lf="log",Df="time",Of="utc",jf="continuous";function Sf(){const e=Ju().unknown(void 0),t=e.domain,n=e.range;let r,o,l=[0,1],c=!1,d=0,f=0,h=.5;function m(){const e=t().length,m=l[1]<l[0],_=l[1-m],y=kf(e,d,f);let v=l[m-0];r=(_-v)/(y||1),c&&(r=Math.floor(r)),v+=(_-v-r*(e-d))*h,o=r*(1-d),c&&(v=Math.round(v),o=Math.round(o));const x=Ko(e).map(i=>v+r*i);return n(m?x.reverse():x)}return delete e.unknown,e.domain=function(e){return arguments.length?(t(e),m()):t()},e.range=function(e){return arguments.length?(l=[+e[0],+e[1]],m()):l.slice()},e.rangeRound=function(e){return l=[+e[0],+e[1]],c=!0,m()},e.bandwidth=function(){return o},e.step=function(){return r},e.round=function(e){return arguments.length?(c=!!e,m()):c},e.padding=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),d=f,m()):d},e.paddingInner=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),m()):d},e.paddingOuter=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),m()):f},e.align=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),m()):h},e.invertRange=function(e){if(null==e[0]||null==e[1])return;const r=l[1]<l[0],c=r?n().reverse():n(),d=c.length-1;let a,b,f,h=+e[0],m=+e[1];return h!=h||m!=m||(m<h&&(f=h,h=m,m=f),m<c[0]||h>l[1-r])?void 0:(a=Math.max(0,Bu(c,h)-1),b=h===m?a:Bu(c,m)-1,h-c[a]>o+1e-10&&++a,r&&(f=a,a=d-b,b=d-f),a>b?void 0:t().slice(a,b+1))},e.invert=function(t){const n=e.invertRange([t,t]);return n?n[0]:n},e.copy=function(){return Sf().domain(t()).range(l).round(c).paddingInner(d).paddingOuter(f).align(h)},m()}var Yf=Array.prototype.map;function Tf(e){return Yf.call(e,le.eb)}const Af=Array.prototype.slice;const Ef={};function Cf(e,t,n){const r=function(){const s=t();return s.invertRange||(s.invertRange=s.invert?function(e){return function(t){let n,r=t[0],o=t[1];return o<r&&(n=r,r=o,o=n),[e.invert(r),e.invert(o)]}}(s):s.invertExtent?function(e){return function(t){const n=e.range();let r,o,i,l,c=t[0],d=t[1],f=-1;for(d<c&&(o=c,c=d,d=o),i=0,l=n.length;i<l;++i)n[i]>=c&&n[i]<=d&&(f<0&&(f=i),r=i);if(!(f<0))return c=e.invertExtent(n[f]),d=e.invertExtent(n[r]),[void 0===c[0]?c[1]:c[0],void 0===d[1]?d[0]:d[1]]}}(s):void 0),s.type=e,s};return r.metadata=Object(le.fb)(Object(le.i)(n)),r}function Ff(e,t,n){return arguments.length>1?(Ef[e]=Cf(e,t,n),this):Pf(e)?Ef[e]:void 0}function Pf(e){return Object(le.w)(Ef,e)}function Nf(e,t){const s=Ef[e];return s&&s.metadata[t]}function zf(e){return Nf(e,jf)}function Hf(e){return Nf(e,"discrete")}function Rf(e){return Nf(e,"discretizing")}function If(e){return Nf(e,Lf)}function Bf(e){return Nf(e,"interpolating")}function $f(e){return Nf(e,"quantile")}Ff("identity",(function e(t){var n;function r(e){return isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,Xc),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,Xc):[0,1],od(r)})),Ff("linear",(function e(){var t=ad();return t.copy=function(){return rd(t,e())},Uu.apply(t,arguments),od(t)}),jf),Ff(Lf,(function e(){var t=pd(id()).domain([1,10]);return t.copy=function(){return rd(t,e()).base(t.base())},Uu.apply(t,arguments),t}),[jf,Lf]),Ff("pow",vd,jf),Ff("sqrt",(function(){return vd.apply(null,arguments).exponent(.5)}),jf),Ff("symlog",(function e(){var t=wd(id());return t.copy=function(){return rd(t,e()).constant(t.constant())},Uu.apply(t,arguments)}),jf),Ff(Df,(function(){return Uu.apply(Dd(Wt,qt,Dt,kt,Jt,Xt,Kt,en,wr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}),[jf,"temporal"]),Ff(Of,(function(){return Uu.apply(Dd(nn,an,Pt,Ct,sn,un,Kt,en,Lr).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}),[jf,"temporal"]),Ff("sequential",Sd,[jf,"interpolating"]),Ff("".concat("sequential","-").concat("linear"),Sd,[jf,"interpolating"]),Ff("".concat("sequential","-").concat(Lf),(function e(){var t=pd(Od()).domain([1,10]);return t.copy=function(){return jd(t,e()).base(t.base())},qu.apply(t,arguments)}),[jf,"interpolating",Lf]),Ff("".concat("sequential","-").concat("pow"),Yd,[jf,"interpolating"]),Ff("".concat("sequential","-").concat("sqrt"),(function(){return Yd.apply(null,arguments).exponent(.5)}),[jf,"interpolating"]),Ff("".concat("sequential","-").concat("symlog"),(function e(){var t=wd(Od());return t.copy=function(){return jd(t,e()).constant(t.constant())},qu.apply(t,arguments)}),[jf,"interpolating"]),Ff("".concat("diverging","-").concat("linear"),(function e(){var t=od(Ad()(Kc));return t.copy=function(){return jd(t,e())},qu.apply(t,arguments)}),[jf,"interpolating"]),Ff("".concat("diverging","-").concat(Lf),(function e(){var t=pd(Ad()).domain([.1,1,10]);return t.copy=function(){return jd(t,e()).base(t.base())},qu.apply(t,arguments)}),[jf,"interpolating",Lf]),Ff("".concat("diverging","-").concat("pow"),Ed,[jf,"interpolating"]),Ff("".concat("diverging","-").concat("sqrt"),(function(){return Ed.apply(null,arguments).exponent(.5)}),[jf,"interpolating"]),Ff("".concat("diverging","-").concat("symlog"),(function e(){var t=wd(Ad());return t.copy=function(){return jd(t,e()).constant(t.constant())},qu.apply(t,arguments)}),[jf,"interpolating"]),Ff("quantile",(function e(){var t,n=[],r=[],o=[];function l(){var i=0,e=Math.max(1,r.length);for(o=new Array(e-1);++i<e;)o[i-1]=to(n,i/e);return c}function c(e){return isNaN(e=+e)?t:r[Wu(o,e)]}return c.invertExtent=function(e){var i=r.indexOf(e);return i<0?[NaN,NaN]:[i>0?o[i-1]:n[0],i<o.length?o[i]:n[n.length-1]]},c.domain=function(e){if(!arguments.length)return n.slice();n=[];for(let t of e)null==t||isNaN(t=+t)||n.push(t);return n.sort(cn),l()},c.range=function(e){return arguments.length?(r=Array.from(e),l()):r.slice()},c.unknown=function(e){return arguments.length?(t=e,c):t},c.quantiles=function(){return o.slice()},c.copy=function(){return e().domain(n).range(r).unknown(t)},Uu.apply(c,arguments)}),["discretizing","quantile"]),Ff("quantize",(function e(){var t,n=0,r=1,o=1,l=[.5],c=[0,1];function d(e){return e<=e?c[Wu(l,e,0,o)]:t}function f(){var i=-1;for(l=new Array(o);++i<o;)l[i]=((i+1)*r-(i-o)*n)/(o+1);return d}return d.domain=function(e){return arguments.length?([n,r]=e,n=+n,r=+r,f()):[n,r]},d.range=function(e){return arguments.length?(o=(c=Array.from(e)).length-1,f()):c.slice()},d.invertExtent=function(e){var i=c.indexOf(e);return i<0?[NaN,NaN]:i<1?[n,l[0]]:i>=o?[l[o-1],r]:[l[i-1],l[i]]},d.unknown=function(e){return arguments.length?(t=e,d):d},d.thresholds=function(){return l.slice()},d.copy=function(){return e().domain([n,r]).range(c).unknown(t)},Uu.apply(od(d),arguments)}),"discretizing"),Ff("threshold",(function e(){var t,n=[.5],r=[0,1],o=1;function l(e){return e<=e?r[Wu(n,e,0,o)]:t}return l.domain=function(e){return arguments.length?(n=Array.from(e),o=Math.min(n.length,r.length-1),l):n.slice()},l.range=function(e){return arguments.length?(r=Array.from(e),o=Math.min(n.length,r.length-1),l):r.slice()},l.invertExtent=function(e){var i=r.indexOf(e);return[n[i-1],n[i]]},l.unknown=function(e){return arguments.length?(t=e,l):t},l.copy=function(){return e().domain(n).range(r).unknown(t)},Uu.apply(l,arguments)}),"discretizing"),Ff("bin-ordinal",(function e(){let t=[],n=[];function r(e){return null==e||e!=e?void 0:n[(Wu(t,e)-1)%n.length]}return r.domain=function(e){return arguments.length?(t=Tf(e),r):t.slice()},r.range=function(e){return arguments.length?(n=Af.call(e),r):n.slice()},r.tickFormat=function(e,n){return Gu(t[0],Object(le.W)(t),null==e?10:e,n)},r.copy=function(){return e().domain(r.domain()).range(r.range())},r}),["discrete","discretizing"]),Ff("ordinal",Ju,"discrete"),Ff("band",Sf,"discrete"),Ff("point",(function(){return function e(t){const n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return e(n())},t}(Sf().paddingInner(1))}),"discrete");const Wf=["clamp","base","constant","exponent"];function Uf(e,t){const n=t[0],span=Object(le.W)(t)-n;return function(i){return e(n+i*span)}}function qf(e,t,n){return Td(Gf(t||"rgb",n),e)}function Vf(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function Jf(e,t,n){const r=n-t;let i,o,s;return r&&Number.isFinite(r)?(i=(o=e.type).indexOf("-"),o=i<0?o:o.slice(i+1),s=Ff(o)().domain([t,n]).range([0,1]),Wf.forEach(t=>e[t]?s[t](e[t]()):0),s):Object(le.m)(.5)}function Gf(e,t){const n=c[function(e){return"interpolate"+e.toLowerCase().split("-").map(s=>s[0].toUpperCase()+s.slice(1)).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}function Xf(e){const t=e.length/6|0,n=new Array(t);for(let i=0;i<t;)n[i]="#"+e.slice(6*i,6*++i);return n}function Zf(e,t){for(const n in e)Qf(n,t(e[n]))}const Kf={};function Qf(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(Kf[e]=t,this):Kf[e]}Zf({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},Xf),Zf({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},e=>qf(Xf(e)));const eh=e=>Object(le.B)(e)?e.map(e=>String(e)):String(e),nh=(a,b)=>a[1]-b[1],rh=(a,b)=>b[1]-a[1];function ih(e,t,n){let r;return Object(le.G)(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),null!=n&&(t=Math.min(t,Math.floor(Object(le.Z)(e.domain())/n||1)))),Object(le.H)(t)&&(r=t.step,t=t.interval),Object(le.J)(t)&&(t=e.type===Df?Kn(t):e.type==Of?Qn(t):Object(le.o)("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function ah(e,t,n){let r=e.range(),o=r[0],l=Object(le.W)(r),c=nh;if(o>l&&(r=l,l=o,o=r,c=rh),o=Math.floor(o),l=Math.ceil(l),t=t.map(t=>[t,e(t)]).filter(e=>o<=e[1]&&e[1]<=l).sort(c).map(e=>e[0]),n>0&&t.length>1){const e=[t[0],Object(le.W)(t)];for(;t.length>n&&t.length>=3;)t=t.filter((e,i)=>!(i%2));t.length<3&&(t=e)}return t}function oh(e,t){return e.bins?ah(e,e.bins):e.ticks?e.ticks(t):e.domain()}function sh(e,t,n,r,o,l){const c=t.type;let d=eh;if(c===Df||o===Df)d=e.timeFormat(r);else if(c===Of||o===Of)d=e.utcFormat(r);else if(If(c)){const o=e.formatFloat(r);if(l||t.bins)d=o;else{const e=lh(t,n,!1);d=t=>e(t)?o(t):""}}else if(t.tickFormat){const o=t.domain();d=e.formatSpan(o[0],o[o.length-1],n,r)}else r&&(d=e.format(r));return d}function lh(e,t,n){const r=oh(e,t),base=e.base(),o=Math.log(base),l=Math.max(1,base*t/r.length),c=e=>{let i=e/Math.pow(base,Math.round(Math.log(e)/o));return i*base<base-.5&&(i*=base),i<=l};return n?r.filter(c):c}const uh={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},ch={quantile:"quantiles",quantize:"domain"};function dh(e,t){return e.bins?function(e){const t=e.slice(0,-1);return t.max=Object(le.W)(e),t}(e.bins):e.type===Lf?lh(e,t,!0):uh[e.type]?function(e){const t=[-1/0].concat(e);return t.max=1/0,t}(e[uh[e.type]]()):oh(e,t)}function fh(e,t,n,r,o,l,c){const d=ch[t.type]&&l!==Df&&l!==Of?function(e,t,n){const r=t[ch[t.type]](),o=r.length;let i,l=o>1?r[1]-r[0]:r[0];for(i=1;i<o;++i)l=Math.min(l,r[i]-r[i-1]);return e.formatSpan(0,l,30,n)}(e,t,o):sh(e,t,n,o,l,c);return"symbol"===r&&(e=>uh[e.type]||e.bins)(t)?hh(d):"discrete"===r?ph(d):gh(d)}const hh=e=>(t,n,r)=>{const o=mh(r[n+1],mh(r.max,1/0)),l=_h(t,e),c=_h(o,e);return l&&c?l+"  "+c:c?"< "+c:" "+l},mh=(e,t)=>null!=e?e:t,ph=e=>(t,n)=>n?e(t):null,gh=e=>t=>e(t),_h=(e,t)=>Number.isFinite(e)?t(e):null;function yh(e,t,n,r){const o=r||t.type;return Object(le.J)(n)&&Nf(o,"temporal")&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),n||o!==Df?n||o!==Of?fh(e,t,5,null,n,r,!0):e.utcFormat("%A, %d %B %Y, %X UTC"):e.timeFormat("%A, %d %B %Y, %X")}function bh(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),o=yh(e,t,n.format,n.formatType);if(Rf(t.type)){const e=dh(t).slice(1).map(o),n=e.length;return"".concat(n," boundar").concat(1===n?"y":"ies",": ").concat(e.join(", "))}if(Hf(t.type)){const e=t.domain(),n=e.length,l=n>r?e.slice(0,r-2).map(o).join(", ")+", ending with "+e.slice(-1).map(o):e.map(o).join(", ");return"".concat(n," value").concat(1===n?"":"s",": ").concat(l)}{const e=t.domain();return"values from ".concat(o(e[0])," to ").concat(o(Object(le.W)(e)))}}let vh=0;function xh(e){return e&&e.gradient}function Mh(g,defs,base){const e=g.gradient;let t=g.id,n="radial"===e?"p_":"";return t||(t=g.id="gradient_"+vh++,"radial"===e?(g.x1=wh(g.x1,.5),g.y1=wh(g.y1,.5),g.r1=wh(g.r1,0),g.x2=wh(g.x2,.5),g.y2=wh(g.y2,.5),g.r2=wh(g.r2,.5),n="p_"):(g.x1=wh(g.x1,0),g.y1=wh(g.y1,0),g.x2=wh(g.x2,1),g.y2=wh(g.y2,0))),defs[t]=g,"url("+(base||"")+"#"+n+t+")"}function wh(e,t){return null!=e?e:t}function kh(e,t){var n,r=[];return n={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:r,stop:function(e,t){return r.push({offset:e,color:t}),n}}}const Lh={basis:{curve:function(e){return new Ol(e)}},"basis-closed":{curve:function(e){return new Sl(e)}},"basis-open":{curve:function(e){return new Yl(e)}},bundle:{curve:Al,tension:"beta",value:.85},cardinal:{curve:Fl,tension:"tension",value:0},"cardinal-open":{curve:Nl,tension:"tension",value:0},"cardinal-closed":{curve:Hl,tension:"tension",value:0},"catmull-rom":{curve:eu,tension:"alpha",value:.5},"catmull-rom-closed":{curve:nu,tension:"alpha",value:.5},"catmull-rom-open":{curve:iu,tension:"alpha",value:.5},linear:{curve:ou},"linear-closed":{curve:function(e){return new su(e)}},monotone:{horizontal:function(e){return new hu(e)},vertical:function(e){return new fu(e)}},natural:{curve:function(e){return new pu(e)}},step:{curve:function(e){return new _u(e,.5)}},"step-after":{curve:function(e){return new _u(e,1)}},"step-before":{curve:function(e){return new _u(e,0)}}};function Dh(e,t,n){var r=Object(le.w)(Lh,e)&&Lh[e],o=null;return r&&(o=r.curve||r[t||"vertical"],r.tension&&null!=n&&(o=o[r.tension](n))),o}const Oh={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},jh=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/];function Sh(e){const t=[];let n,r,o,param,l,c,i,d,f,h;const path=e.slice().replace(jh[0],"###$1").split(jh[1]).slice(1);for(i=0,f=path.length;i<f;++i){for(n=path[i],r=n.slice(1).trim().replace(jh[2],"$1###$2").replace(jh[3],"$1###$2").split(jh[4]),l=n.charAt(0),o=[l],d=0,h=r.length;d<h;++d)(param=+r[d])===param&&o.push(param);if(c=Oh[l.toLowerCase()],o.length-1>c){const e=o.length;for(d=1,t.push([l].concat(o.slice(d,d+=c))),l="M"===l?"L":"m"===l?"l":l;d<e;d+=c)t.push([l].concat(o.slice(d,d+c)))}else t.push(o)}return t}const Yh=Math.PI/180,Th=Math.PI/2,Ah=2*Math.PI,Eh=Math.sqrt(3)/2;var Ch={},Fh={},Ph=[].join;function Nh(e){const t=Ph.call(e);if(Fh[t])return Fh[t];var n=e[0],r=e[1],o=e[2],l=e[3],c=e[4],d=e[5],f=e[6],h=e[7];const m=h*c,_=-f*d,y=f*c,v=h*d,x=Math.cos(o),M=Math.sin(o),w=Math.cos(l),k=Math.sin(l),L=.5*(l-o),D=Math.sin(.5*L),O=8/3*D*D/Math.sin(L),j=n+x-O*M,S=r+M+O*x,Y=n+w,T=r+k,A=Y+O*k,E=T-O*w;return Fh[t]=[m*j+_*S,y*j+v*S,m*A+_*E,y*A+v*E,m*Y+_*T,y*Y+v*T]}const zh=["l",0,0,0,0,0,0,0];function Hh(e,t,n){const r=zh[0]=e[0];if("a"===r||"A"===r)zh[1]=t*e[1],zh[2]=n*e[2],zh[3]=e[3],zh[4]=e[4],zh[5]=e[5],zh[6]=t*e[6],zh[7]=n*e[7];else if("h"===r||"H"===r)zh[1]=t*e[1];else if("v"===r||"V"===r)zh[1]=n*e[1];else for(var i=1,o=e.length;i<o;++i)zh[i]=(i%2==1?t:n)*e[i];return zh}function Rh(e,path,t,n,r,o){var l,c,d,f,h,m=null,_=0,y=0,v=0,x=0;null==t&&(t=0),null==n&&(n=0),null==r&&(r=1),null==o&&(o=r),e.beginPath&&e.beginPath();for(var i=0,M=path.length;i<M;++i){switch(l=path[i],1===r&&1===o||(l=Hh(l,r,o)),l[0]){case"l":_+=l[1],y+=l[2],e.lineTo(_+t,y+n);break;case"L":_=l[1],y=l[2],e.lineTo(_+t,y+n);break;case"h":_+=l[1],e.lineTo(_+t,y+n);break;case"H":_=l[1],e.lineTo(_+t,y+n);break;case"v":y+=l[1],e.lineTo(_+t,y+n);break;case"V":y=l[1],e.lineTo(_+t,y+n);break;case"m":_+=l[1],y+=l[2],e.moveTo(_+t,y+n);break;case"M":_=l[1],y=l[2],e.moveTo(_+t,y+n);break;case"c":c=_+l[5],d=y+l[6],v=_+l[3],x=y+l[4],e.bezierCurveTo(_+l[1]+t,y+l[2]+n,v+t,x+n,c+t,d+n),_=c,y=d;break;case"C":_=l[5],y=l[6],v=l[3],x=l[4],e.bezierCurveTo(l[1]+t,l[2]+n,v+t,x+n,_+t,y+n);break;case"s":c=_+l[3],d=y+l[4],v=2*_-v,x=2*y-x,e.bezierCurveTo(v+t,x+n,_+l[1]+t,y+l[2]+n,c+t,d+n),v=_+l[1],x=y+l[2],_=c,y=d;break;case"S":c=l[3],d=l[4],v=2*_-v,x=2*y-x,e.bezierCurveTo(v+t,x+n,l[1]+t,l[2]+n,c+t,d+n),_=c,y=d,v=l[1],x=l[2];break;case"q":c=_+l[3],d=y+l[4],v=_+l[1],x=y+l[2],e.quadraticCurveTo(v+t,x+n,c+t,d+n),_=c,y=d;break;case"Q":c=l[3],d=l[4],e.quadraticCurveTo(l[1]+t,l[2]+n,c+t,d+n),_=c,y=d,v=l[1],x=l[2];break;case"t":c=_+l[1],d=y+l[2],null===m[0].match(/[QqTt]/)?(v=_,x=y):"t"===m[0]?(v=2*_-f,x=2*y-h):"q"===m[0]&&(v=2*_-v,x=2*y-x),f=v,h=x,e.quadraticCurveTo(v+t,x+n,c+t,d+n),y=d,v=(_=c)+l[1],x=y+l[2];break;case"T":c=l[1],d=l[2],v=2*_-v,x=2*y-x,e.quadraticCurveTo(v+t,x+n,c+t,d+n),_=c,y=d;break;case"a":Ih(e,_+t,y+n,[l[1],l[2],l[3],l[4],l[5],l[6]+_+t,l[7]+y+n]),_+=l[6],y+=l[7];break;case"A":Ih(e,_+t,y+n,[l[1],l[2],l[3],l[4],l[5],l[6]+t,l[7]+n]),_=l[6],y=l[7];break;case"z":case"Z":e.closePath()}m=l}}function Ih(e,t,n,r){const o=function(e,t,n,r,o,l,c,d,f){const h=Ph.call(arguments);if(Ch[h])return Ch[h];const th=c*Yh,m=Math.sin(th),_=Math.cos(th),y=_*(d-e)*.5+m*(f-t)*.5,v=_*(f-t)*.5-m*(d-e)*.5;let x=y*y/((n=Math.abs(n))*n)+v*v/((r=Math.abs(r))*r);x>1&&(x=Math.sqrt(x),n*=x,r*=x);const M=_/n,w=m/n,k=-m/r,L=_/r,D=M*d+w*f,O=k*d+L*f,j=M*e+w*t,S=k*e+L*t,Y=(j-D)*(j-D)+(S-O)*(S-O);let T=1/Y-.25;T<0&&(T=0);let A=Math.sqrt(T);l==o&&(A=-A);const E=.5*(D+j)-A*(S-O),C=.5*(O+S)+A*(j-D),F=Math.atan2(O-C,D-E),P=Math.atan2(S-C,j-E);let N=P-F;N<0&&1===l?N+=Ah:N>0&&0===l&&(N-=Ah);const z=Math.ceil(Math.abs(N/(Th+.001))),H=[];for(let i=0;i<z;++i){const e=F+i*N/z,t=F+(i+1)*N/z;H[i]=[E,C,e,t,n,r,m,_]}return Ch[h]=H}(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let i=0;i<o.length;++i){const t=Nh(o[i]);e.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5])}}const Bh=.5773502691896257,$h={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Ah)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,s=n/2.5;e.moveTo(-n,-s),e.lineTo(-n,s),e.lineTo(-s,s),e.lineTo(-s,n),e.lineTo(s,n),e.lineTo(s,s),e.lineTo(n,s),e.lineTo(n,-s),e.lineTo(s,-s),e.lineTo(s,-n),e.lineTo(-s,-n),e.lineTo(-s,-s),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,s=n/7,r=n/2.5,o=n/8;e.moveTo(-s,n),e.lineTo(s,n),e.lineTo(s,-o),e.lineTo(r,-o),e.lineTo(0,-n),e.lineTo(-r,-o),e.lineTo(-s,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Eh*n,o=r-n*Bh,b=n/4;e.moveTo(0,-r-o),e.lineTo(-b,r-o),e.lineTo(b,r-o),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Eh*n,o=r-n*Bh;e.moveTo(0,-r-o),e.lineTo(-n,r-o),e.lineTo(n,r-o),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Eh*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Eh*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Eh*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Eh*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function Wh(e){return Object(le.w)($h,e)?$h[e]:function(path){if(!Object(le.w)(Uh,path)){const e=Sh(path);Uh[path]={draw:function(t,n){Rh(t,e,0,0,Math.sqrt(n)/2)}}}return Uh[path]}(e)}var Uh={};function qh(e){return e.x}function Vh(e){return e.y}function Jh(e){return e.width}function Gh(e){return e.height}function Xh(e){return"function"==typeof e?e:()=>+e}function Zh(e,t,n){return Math.max(t,Math.min(e,n))}function Kh(){var e=qh,t=Vh,n=Jh,r=Gh,o=Xh(0),l=o,c=o,d=o,f=null;function h(h,m,_){var y,v=null!=m?m:+e.call(this,h),x=null!=_?_:+t.call(this,h),M=+n.call(this,h),w=+r.call(this,h),s=Math.min(M,w)/2,k=Zh(+o.call(this,h),0,s),tr=Zh(+l.call(this,h),0,s),L=Zh(+c.call(this,h),0,s),br=Zh(+d.call(this,h),0,s);if(f||(f=y=wu()),k<=0&&tr<=0&&L<=0&&br<=0)f.rect(v,x,M,w);else{var D=v+M,O=x+w;f.moveTo(v+k,x),f.lineTo(D-tr,x),f.bezierCurveTo(D-.448084975506*tr,x,D,x+.448084975506*tr,D,x+tr),f.lineTo(D,O-br),f.bezierCurveTo(D,O-.448084975506*br,D-.448084975506*br,O,D-br,O),f.lineTo(v+L,O),f.bezierCurveTo(v+.448084975506*L,O,v,O-.448084975506*L,v,O-L),f.lineTo(v,x+k),f.bezierCurveTo(v,x+.448084975506*k,v+.448084975506*k,x,v+k,x),f.closePath()}if(y)return f=null,y+""||null}return h.x=function(t){return arguments.length?(e=Xh(t),h):e},h.y=function(e){return arguments.length?(t=Xh(e),h):t},h.width=function(e){return arguments.length?(n=Xh(e),h):n},h.height=function(e){return arguments.length?(r=Xh(e),h):r},h.cornerRadius=function(e,tr,br,t){return arguments.length?(o=Xh(e),l=null!=tr?Xh(tr):o,d=null!=br?Xh(br):o,c=null!=t?Xh(t):l,h):o},h.context=function(e){return arguments.length?(f=null==e?null:e,h):f},h}function Qh(){var e,t,n,r,o,l,c,d,f=null;function h(e,t,n){const r=n/2;if(o){var h=c-t,m=e-l;if(h||m){var _=Math.sqrt(h*h+m*m),y=(h/=_)*d,v=(m/=_)*d,x=Math.atan2(m,h);f.moveTo(l-y,c-v),f.lineTo(e-h*r,t-m*r),f.arc(e,t,r,x-Math.PI,x),f.lineTo(l+y,c+v),f.arc(l,c,d,x,x+Math.PI)}else f.arc(e,t,r,0,Ah);f.closePath()}else o=1;l=e,c=t,d=r}function m(data){var i,l,c,d=data.length,m=!1;for(null==f&&(f=c=wu()),i=0;i<=d;++i)!(i<d&&r(l=data[i],i,data))===m&&(m=!m)&&(o=0),m&&h(+e(l,i,data),+t(l,i,data),+n(l,i,data));if(c)return f=null,c+""||null}return m.x=function(t){return arguments.length?(e=t,m):e},m.y=function(e){return arguments.length?(t=e,m):t},m.size=function(e){return arguments.length?(n=e,m):n},m.defined=function(e){return arguments.length?(r=e,m):r},m.context=function(e){return arguments.length?(f=null==e?null:e,m):f},m}function tm(a,b){return null!=a?a:b}const nm=e=>e.x||0,rm=e=>e.y||0,im=e=>!(!1===e.defined),am=function(){var e=Lu,t=Du,n=ku(0),r=null,o=Ou,l=ju,c=Su,d=null;function f(){var f,h,m=+e.apply(this,arguments),_=+t.apply(this,arguments),y=o.apply(this,arguments)-Jl,v=l.apply(this,arguments)-Jl,x=Rl(v-y),M=v>y;if(d||(d=f=wu()),_<m&&(h=_,_=m,m=h),_>1e-12)if(x>Gl-1e-12)d.moveTo(_*Bl(y),_*Ul(y)),d.arc(0,0,_,y,v,!M),m>1e-12&&(d.moveTo(m*Bl(v),m*Ul(v)),d.arc(0,0,m,v,y,M));else{var w,k,L=y,D=v,O=y,j=v,S=x,Y=x,T=c.apply(this,arguments)/2,rp=T>1e-12&&(r?+r.apply(this,arguments):ql(m*m+_*_)),A=Wl(Rl(_-m)/2,+n.apply(this,arguments)),E=A,C=A;if(rp>1e-12){var F=Zl(rp/m*Ul(T)),P=Zl(rp/_*Ul(T));(S-=2*F)>1e-12?(O+=F*=M?1:-1,j-=F):(S=0,O=j=(y+v)/2),(Y-=2*P)>1e-12?(L+=P*=M?1:-1,D-=P):(Y=0,L=D=(y+v)/2)}var N=_*Bl(L),z=_*Ul(L),H=m*Bl(j),R=m*Ul(j);if(A>1e-12){var I,B=_*Bl(D),$=_*Ul(D),W=m*Bl(O),U=m*Ul(O);if(x<Vl&&(I=Yu(N,z,W,U,B,$,H,R))){var V=N-I[0],J=z-I[1],G=B-I[0],X=$-I[1],Z=1/Ul(Xl((V*G+J*X)/(ql(V*V+J*J)*ql(G*G+X*X)))/2),K=ql(I[0]*I[0]+I[1]*I[1]);E=Wl(A,(m-K)/(Z-1)),C=Wl(A,(_-K)/(Z+1))}}Y>1e-12?C>1e-12?(w=Tu(W,U,N,z,_,C,M),k=Tu(B,$,H,R,_,C,M),d.moveTo(w.cx+w.x01,w.cy+w.y01),C<A?d.arc(w.cx,w.cy,C,Il(w.y01,w.x01),Il(k.y01,k.x01),!M):(d.arc(w.cx,w.cy,C,Il(w.y01,w.x01),Il(w.y11,w.x11),!M),d.arc(0,0,_,Il(w.cy+w.y11,w.cx+w.x11),Il(k.cy+k.y11,k.cx+k.x11),!M),d.arc(k.cx,k.cy,C,Il(k.y11,k.x11),Il(k.y01,k.x01),!M))):(d.moveTo(N,z),d.arc(0,0,_,L,D,!M)):d.moveTo(N,z),m>1e-12&&S>1e-12?E>1e-12?(w=Tu(H,R,B,$,m,-E,M),k=Tu(N,z,W,U,m,-E,M),d.lineTo(w.cx+w.x01,w.cy+w.y01),E<A?d.arc(w.cx,w.cy,E,Il(w.y01,w.x01),Il(k.y01,k.x01),!M):(d.arc(w.cx,w.cy,E,Il(w.y01,w.x01),Il(w.y11,w.x11),!M),d.arc(0,0,m,Il(w.cy+w.y11,w.cx+w.x11),Il(k.cy+k.y11,k.cx+k.x11),M),d.arc(k.cx,k.cy,E,Il(k.y11,k.x11),Il(k.y01,k.x01),!M))):d.arc(0,0,m,j,O,M):d.lineTo(H,R)}else d.moveTo(0,0);if(d.closePath(),f)return d=null,f+""||null}return f.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,a=(+o.apply(this,arguments)+ +l.apply(this,arguments))/2-Vl/2;return[Bl(a)*n,Ul(a)*n]},f.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:ku(+t),f):e},f.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:ku(+e),f):t},f.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:ku(+e),f):n},f.padRadius=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:ku(+e),f):r},f.startAngle=function(e){return arguments.length?(o="function"==typeof e?e:ku(+e),f):o},f.endAngle=function(e){return arguments.length?(l="function"==typeof e?e:ku(+e),f):l},f.padAngle=function(e){return arguments.length?(c="function"==typeof e?e:ku(+e),f):c},f.context=function(e){return arguments.length?(d=null==e?null:e,f):d},f}().startAngle(e=>e.startAngle||0).endAngle(e=>e.endAngle||0).padAngle(e=>e.padAngle||0).innerRadius(e=>e.innerRadius||0).outerRadius(e=>e.outerRadius||0).cornerRadius(e=>e.cornerRadius||0),om=Pu().x(nm).y1(rm).y0(e=>(e.y||0)+(e.height||0)).defined(im),sm=Pu().y(rm).x1(nm).x0(e=>(e.x||0)+(e.width||0)).defined(im),lm=Fu().x(nm).y(rm).defined(im),um=Kh().x(nm).y(rm).width(e=>e.width||0).height(e=>e.height||0).cornerRadius(e=>tm(e.cornerRadiusTopLeft,e.cornerRadius)||0,e=>tm(e.cornerRadiusTopRight,e.cornerRadius)||0,e=>tm(e.cornerRadiusBottomRight,e.cornerRadius)||0,e=>tm(e.cornerRadiusBottomLeft,e.cornerRadius)||0),cm=function(e,t){var n=null;function symbol(){var r;if(n||(n=r=wu()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return e="function"==typeof e?e:ku(e||Nu),t="function"==typeof t?t:ku(void 0===t?64:+t),symbol.type=function(t){return arguments.length?(e="function"==typeof t?t:ku(t),symbol):e},symbol.size=function(e){return arguments.length?(t="function"==typeof e?e:ku(+e),symbol):t},symbol.context=function(e){return arguments.length?(n=null==e?null:e,symbol):n},symbol}().type(e=>Wh(e.shape||"circle")).size(e=>tm(e.size,64)),dm=Qh().x(nm).y(rm).defined(im).size(e=>e.size||1);function fm(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function hm(e,t,n,r){return um.context(e)(t,n,r)}var mm=1;function pm(){mm=1}function gm(e,t,n){var r=t.clip,defs=e._defs,o=t.clip_id||(t.clip_id="clip"+mm++),l=defs.clipping[o]||(defs.clipping[o]={id:o});return Object(le.E)(r)?l.path=r(null):fm(n)?l.path=hm(null,n,0,0):(l.width=n.width||0,l.height=n.height||0),"url(#"+o+")"}function _m(b){this.clear(),b&&this.union(b)}function ym(mark){this.mark=mark,this.bounds=this.bounds||new _m}function bm(mark){ym.call(this,mark),this.items=this.items||[]}function vm(e){this._pending=0,this._loader=e||la()}function xm(e){e._pending+=1}function Mm(e){e._pending-=1}function wm(e,t,n){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){const r=null!=t.strokeWidth?+t.strokeWidth:1;e.expand(r+(n?function(e,t){return e.strokeJoin&&"miter"!==e.strokeJoin?0:t}(t,r):0))}return e}_m.prototype={clone(){return new _m(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(b){return this.x1===b.x1&&this.y1===b.y1&&this.x2===b.x2&&this.y2===b.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(s){return this.x1*=s,this.y1*=s,this.x2*=s,this.y2*=s,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const p=this.rotatedPoints(e,t,n);return this.clear().add(p[0],p[1]).add(p[2],p[3]).add(p[4],p[5]).add(p[6],p[7])},rotatedPoints(e,t,n){var{x1:r,y1:o,x2:l,y2:c}=this,d=Math.cos(e),f=Math.sin(e),h=t-t*d+n*f,m=n-t*f-n*d;return[d*r-f*o+h,f*r+d*o+m,d*r-f*c+h,f*r+d*c+m,d*l-f*o+h,f*l+d*o+m,d*l-f*c+h,f*l+d*c+m]},union(b){return b.x1<this.x1&&(this.x1=b.x1),b.y1<this.y1&&(this.y1=b.y1),b.x2>this.x2&&(this.x2=b.x2),b.y2>this.y2&&(this.y2=b.y2),this},intersect(b){return b.x1>this.x1&&(this.x1=b.x1),b.y1>this.y1&&(this.y1=b.y1),b.x2<this.x2&&(this.x2=b.x2),b.y2<this.y2&&(this.y2=b.y2),this},encloses(b){return b&&this.x1<=b.x1&&this.x2>=b.x2&&this.y1<=b.y1&&this.y2>=b.y2},alignsWith(b){return b&&(this.x1==b.x1||this.x2==b.x2||this.y1==b.y1||this.y2==b.y2)},intersects(b){return b&&!(this.x2<b.x1||this.x1>b.x2||this.y2<b.y1||this.y1>b.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}},Object(le.z)(bm,ym),vm.prototype={pending(){return this._pending},sanitizeURL(e){const t=this;return xm(t),t._loader.sanitize(e,{context:"href"}).then(e=>(Mm(t),e)).catch(()=>(Mm(t),null))},loadImage(e){const t=this,n=Ru();return xm(t),t._loader.sanitize(e,{context:"image"}).then(e=>{const r=e.href;if(!r||!n)throw{url:r};const img=new n,o=Object(le.w)(e,"crossOrigin")?e.crossOrigin:"anonymous";return null!=o&&(img.crossOrigin=o),img.onload=()=>Mm(t),img.onerror=()=>Mm(t),img.src=r,img}).catch(e=>(Mm(t),{complete:!1,width:0,height:0,src:e&&e.url||""}))},ready(){const e=this;return new Promise(t=>{!function n(r){e.pending()?setTimeout(()=>{n(!0)},10):t(r)}(!1)})}};const km=Ah-1e-8;let Lm,Dm,Om,jm,Sm,Ym,Tm,Am;const Em=(e,t)=>Lm.add(e,t),Cm=(e,t)=>Em(Dm=e,Om=t),Fm=e=>Em(e,Lm.y1),Pm=e=>Em(Lm.x1,e),Nm=(e,t)=>Sm*e+Tm*t,zm=(e,t)=>Ym*e+Am*t,Hm=(e,t)=>Em(Nm(e,t),zm(e,t)),Rm=(e,t)=>Cm(Nm(e,t),zm(e,t));function Im(e,t){return Lm=e,t?(jm=t*Yh,Sm=Am=Math.cos(jm),Ym=Math.sin(jm),Tm=-Ym):(Sm=Am=1,jm=Ym=Tm=0),Bm}const Bm={beginPath(){},closePath(){},moveTo:Rm,lineTo:Rm,rect(e,t,n,r){jm?(Hm(e+n,t),Hm(e+n,t+r),Hm(e,t+r),Rm(e,t)):(Em(e+n,t+r),Cm(e,t))},quadraticCurveTo(e,t,n,r){const o=Nm(e,t),l=zm(e,t),c=Nm(n,r),d=zm(n,r);$m(Dm,o,c,Fm),$m(Om,l,d,Pm),Cm(c,d)},bezierCurveTo(e,t,n,r,o,l){const c=Nm(e,t),d=zm(e,t),f=Nm(n,r),h=zm(n,r),m=Nm(o,l),_=zm(o,l);Wm(Dm,c,f,m,Fm),Wm(Om,d,h,_,Pm),Cm(m,_)},arc(e,t,n,r,o,l){if(r+=jm,o+=jm,Dm=n*Math.cos(o)+e,Om=n*Math.sin(o)+t,Math.abs(o-r)>km)Em(e-n,t-n),Em(e+n,t+n);else{const c=a=>Em(n*Math.cos(a)+e,n*Math.sin(a)+t);let s,i;if(c(r),c(o),o!==r)if((r%=Ah)<0&&(r+=Ah),(o%=Ah)<0&&(o+=Ah),o<r&&(l=!l,s=r,r=o,o=s),l)for(o-=Ah,s=r-r%Th,i=0;i<4&&s>o;++i,s-=Th)c(s);else for(s=r-r%Th+Th,i=0;i<4&&s<o;++i,s+=Th)c(s)}}};function $m(e,t,n,r){const o=(e-t)/(e+n-2*t);0<o&&o<1&&r(e+(t-e)*o)}function Wm(e,t,n,r,o){const a=r-e+3*t-3*n,b=e+n-2*t,l=e-t;let c,d=0,f=0;Math.abs(a)>1e-14?(c=b*b+l*a,c>=0&&(c=Math.sqrt(c),d=(-b+c)/a,f=(-b-c)/a)):d=.5*l/b,0<d&&d<1&&o(Um(d,e,t,n,r)),0<f&&f<1&&o(Um(f,e,t,n,r))}function Um(e,t,n,r,o){const s=1-e,l=s*s,c=e*e;return l*s*t+3*l*e*n+3*s*c*r+c*e*o}var qm=(qm=Hu(1,1))?qm.getContext("2d"):null;const Vm=new _m;function Jm(e){return function(t,n){if(!qm)return!0;e(qm,t),Vm.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:o,x2:l,y2:c}=Vm;for(let e=o;e<=c;++e)for(let t=r;t<=l;++t)if(qm.isPointInPath(t,e))return!0;return!1}}function Gm(e,t){return t.contains(e.x||0,e.y||0)}function Xm(e,t){const n=e.x||0,r=e.y||0,o=e.width||0,l=e.height||0;return t.intersects(Vm.set(n,r,n+o,r+l))}function Zm(e,t){const n=e.x||0,r=e.y||0;return Km(t,n,r,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r)}function Km(e,t,n,u,r){const{x1:o,y1:l,x2:c,y2:d}=e,f=u-t,h=r-n;let p,q,m,_,y=0,v=1;for(_=0;_<4;++_){if(0===_&&(p=-f,q=-(o-t)),1===_&&(p=f,q=c-t),2===_&&(p=-h,q=-(l-n)),3===_&&(p=h,q=d-n),Math.abs(p)<1e-10&&q<0)return!1;if(m=q/p,p<0){if(m>v)return!1;m>y&&(y=m)}else if(p>0){if(m<y)return!1;m<v&&(v=m)}}return!0}function Qm(e,t){e.globalCompositeOperation=t.blend||"source-over"}function ep(e,t){return null==e?t:e}function tp(e,t){const n=t.length;for(let i=0;i<n;++i)e.addColorStop(t[i].offset,t[i].color);return e}function np(e,t,n){return xh(n)?function(e,t,n){const r=n.width(),o=n.height();let l;if("radial"===t.gradient)l=e.createRadialGradient(n.x1+ep(t.x1,.5)*r,n.y1+ep(t.y1,.5)*o,Math.max(r,o)*ep(t.r1,0),n.x1+ep(t.x2,.5)*r,n.y1+ep(t.y2,.5)*o,Math.max(r,o)*ep(t.r2,.5));else{const c=ep(t.x1,0),d=ep(t.y1,0),f=ep(t.x2,1),h=ep(t.y2,0);if(c!==f&&d!==h&&r!==o){const image=Hu(Math.ceil(r),Math.ceil(o)),n=image.getContext("2d");return n.scale(r,o),n.fillStyle=tp(n.createLinearGradient(c,d,f,h),t.stops),n.fillRect(0,0,r,o),e.createPattern(image,"no-repeat")}l=e.createLinearGradient(n.x1+c*r,n.y1+d*o,n.x1+f*r,n.y1+h*o)}return tp(l,t.stops)}(e,n,t.bounds):n}function ip(e,t,n){return(n*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=n,e.fillStyle=np(e,t,t.fill),!0)}var ap=[];function op(e,t,n){var r=null!=(r=t.strokeWidth)?r:1;return!(r<=0)&&((n*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=n,e.strokeStyle=np(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||ap),e.lineDashOffset=t.strokeDashOffset||0),!0))}function sp(a,b){return a.zindex-b.zindex||a.index-b.index}function lp(e){if(!e.zdirty)return e.zitems;var t,i,n,r=e.items,output=[];for(i=0,n=r.length;i<n;++i)(t=r[i]).index=i,t.zindex&&output.push(t);return e.zdirty=!1,e.zitems=output.sort(sp)}function up(e,t){var i,n,r=e.items;if(!r||!r.length)return;const o=lp(e);if(o&&o.length){for(i=0,n=r.length;i<n;++i)r[i].zindex||t(r[i]);r=o}for(i=0,n=r.length;i<n;++i)t(r[i])}function cp(e,t){var n,i,r=e.items;if(!r||!r.length)return null;const o=lp(e);for(o&&o.length&&(r=o),i=r.length;--i>=0;)if(n=t(r[i]))return n;if(r===o)for(i=(r=e.items).length;--i>=0;)if(!r[i].zindex&&(n=t(r[i])))return n;return null}function dp(path){return function(e,t,n){up(t,t=>{n&&!n.intersects(t.bounds)||fp(path,e,t,t)})}}function fp(path,e,t,n){var r=null==t.opacity?1:t.opacity;0!==r&&(path(e,n)||(Qm(e,t),t.fill&&ip(e,t,r)&&e.fill(),t.stroke&&op(e,t,r)&&e.stroke()))}function hp(e){return e=e||le.ib,function(t,n,r,o,l,c){return r*=t.pixelRatio,o*=t.pixelRatio,cp(n,n=>{const b=n.bounds;if((!b||b.contains(l,c))&&b)return e(t,n,r,o,l,c)?n:void 0})}}function mp(path,e){return function(t,n,r,o){var l,c,d=Array.isArray(n)?n[0]:n,f=null==e?d.fill:e,h=d.stroke&&t.isPointInStroke;return h&&(l=d.strokeWidth,c=d.strokeCap,t.lineWidth=null!=l?l:1,t.lineCap=null!=c?c:"butt"),!path(t,n)&&(f&&t.isPointInPath(r,o)||h&&t.isPointInStroke(r,o))}}function pp(path){return hp(mp(path))}function gp(e,t){return"translate("+e+","+t+")"}function _p(a){return"rotate("+a+")"}function yp(e){return gp(e.x||0,e.y||0)}function bp(e,t,n){function r(e,n){var r=n.x||0,o=n.y||0,a=n.angle||0;e.translate(r,o),a&&e.rotate(a*=Yh),e.beginPath(),t(e,n),a&&e.rotate(-a),e.translate(-r,-o)}return{type:e,tag:"path",nested:!1,attr:function(e,n){e("transform",function(e){return gp(e.x||0,e.y||0)+(e.angle?" "+_p(e.angle):"")}(n)),e("d",t(null,n))},bound:function(e,n){return t(Im(e,n.angle),n),wm(e,n).translate(n.x||0,n.y||0)},draw:dp(r),pick:pp(r),isect:n||Jm(r)}}var vp=bp("arc",(function(e,t){return am.context(e)(t)}));function xp(e,t,n){function r(e,n){e.beginPath(),t(e,n)}const o=mp(r);return{type:e,tag:"path",nested:!0,attr:function(e,n){var r=n.mark.items;r.length&&e("d",t(null,r))},bound:function(e,mark){var n=mark.items;return 0===n.length?e:(t(Im(e),n),wm(e,n[0]))},draw:(path=r,function(e,t,n){!t.items.length||n&&!n.intersects(t.bounds)||fp(path,e,t.items[0],t.items)}),pick:function(e,t,n,r,l,c){var d=t.items,b=t.bounds;return!d||!d.length||b&&!b.contains(l,c)?null:(n*=e.pixelRatio,r*=e.pixelRatio,o(e,d,n,r)?d[0]:null)},isect:Gm,tip:n};var path}var Mp=xp("area",(function(e,t){const n=t[0],r=n.interpolate||"linear";return("horizontal"===n.orient?sm:om).curve(Dh(r,n.orient,n.tension)).context(e)(t)}),(function(a,p){for(var e,t,n="horizontal"===a[0].orient?p[1]:p[0],r="horizontal"===a[0].orient?"y":"x",i=a.length,o=1/0;--i>=0;)!1!==a[i].defined&&(t=Math.abs(a[i][r]-n))<o&&(o=t,e=a[i]);return e}));function wp(e,t){e.beginPath(),fm(t)?hm(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function kp(e){const t=ep(e.strokeWidth,1);return null!=e.strokeOffset?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function Lp(e,t){const n=kp(t);e("d",hm(null,t,n,n))}function Dp(e,t,n,r){const o=kp(t);e.beginPath(),hm(e,t,(n||0)+o,(r||0)+o)}const Op=mp(Dp),jp=mp(Dp,!1),Sp=mp(Dp,!0);var Yp={type:"group",tag:"g",nested:!1,attr:function(e,t){e("transform",yp(t))},bound:function(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let t=0;t<r;++t)e.union(n[t].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),wm(e,t),e.translate(t.x||0,t.y||0)},draw:function(e,t,n){up(t,t=>{const r=t.x||0,o=t.y||0,l=t.strokeForeground,c=null==t.opacity?1:t.opacity;(t.stroke||t.fill)&&c&&(Dp(e,t,r,o),Qm(e,t),t.fill&&ip(e,t,c)&&e.fill(),t.stroke&&!l&&op(e,t,c)&&e.stroke()),e.save(),e.translate(r,o),t.clip&&wp(e,t),n&&n.translate(-r,-o),up(t,t=>{this.draw(e,t,n)}),n&&n.translate(r,o),e.restore(),l&&t.stroke&&c&&(Dp(e,t,r,o),Qm(e,t),op(e,t,c)&&e.stroke())})},pick:function(e,t,n,r,o,l){if(t.bounds&&!t.bounds.contains(o,l)||!t.items)return null;const c=n*e.pixelRatio,d=r*e.pixelRatio;return cp(t,f=>{let h,m,_;const b=f.bounds;if(b&&!b.contains(o,l))return;m=f.x||0,_=f.y||0;const y=m+(f.width||0),v=_+(f.height||0),x=f.clip;if(x&&(o<m||o>y||l<_||l>v))return;if(e.save(),e.translate(m,_),m=o-m,_=l-_,x&&fm(f)&&!Sp(e,f,c,d))return e.restore(),null;const M=f.strokeForeground,w=!1!==t.interactive;return w&&M&&f.stroke&&jp(e,f,c,d)?(e.restore(),f):(h=cp(f,mark=>function(mark,e,t){return(!1!==mark.interactive||"group"===mark.marktype)&&mark.bounds&&mark.bounds.contains(e,t)}(mark,m,_)?this.pick(mark,n,r,m,_):null),!h&&w&&(f.fill||!M&&f.stroke)&&Op(e,f,c,d)&&(h=f),e.restore(),h||null)})},isect:Xm,content:function(e,t,n){e("clip-path",t.clip?gm(n,t,t):null)},background:function(e,t){e("class","background"),e("aria-hidden",!0),Lp(e,t)},foreground:function(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?Lp(e,t):e("d","")}},Tp={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function Ap(e,t){var image=e.image;return(!image||e.url&&e.url!==image.url)&&(image={complete:!1,width:0,height:0},t.loadImage(e.url).then(image=>{e.image=image,e.image.url=e.url})),image}function Ep(e,image){return null!=e.width?e.width:image&&image.width?!1!==e.aspect&&e.height?e.height*image.width/image.height:image.width:0}function Cp(e,image){return null!=e.height?e.height:image&&image.height?!1!==e.aspect&&e.width?e.width*image.height/image.width:image.height:0}function Fp(e,t){return"center"===e?t/2:"right"===e?t:0}function Pp(e,t){return"middle"===e?t/2:"bottom"===e?t:0}var Np={type:"image",tag:"image",nested:!1,attr:function(e,t,n){const img=Ap(t,n),r=Ep(t,img),o=Cp(t,img),l=(t.x||0)-Fp(t.align,r),c=(t.y||0)-Pp(t.baseline,o);e("href",!img.src&&img.toDataURL?img.toDataURL():img.src||"",Tp["xmlns:xlink"],"xlink:href"),e("transform",gp(l,c)),e("width",r),e("height",o),e("preserveAspectRatio",!1===t.aspect?"none":"xMidYMid")},bound:function(e,t){const img=t.image,n=Ep(t,img),r=Cp(t,img),o=(t.x||0)-Fp(t.align,n),l=(t.y||0)-Pp(t.baseline,r);return e.set(o,l,o+n,l+r)},draw:function(e,t,n){up(t,t=>{if(n&&!n.intersects(t.bounds))return;const img=Ap(t,this);let r,o,l,c,d=Ep(t,img),f=Cp(t,img),h=(t.x||0)-Fp(t.align,d),m=(t.y||0)-Pp(t.baseline,f);!1!==t.aspect&&(o=img.width/img.height,l=t.width/t.height,o==o&&l==l&&o!==l&&(l<o?(c=d/o,m+=(f-c)/2,f=c):(c=f*o,h+=(d-c)/2,d=c))),(img.complete||img.toDataURL)&&(Qm(e,t),e.globalAlpha=null!=(r=t.opacity)?r:1,e.imageSmoothingEnabled=!1!==t.smooth,e.drawImage(img,h,m,d,f))})},pick:hp(),isect:le.ib,get:Ap,xOffset:Fp,yOffset:Pp},zp=xp("line",(function(e,t){const n=t[0],r=n.interpolate||"linear";return lm.curve(Dh(r,n.orient,n.tension)).context(e)(t)}),(function(a,p){for(var e,t,n=Math.pow(a[0].strokeWidth||1,2),i=a.length;--i>=0;)if(!1!==a[i].defined&&(e=a[i].x-p[0])*e+(t=a[i].y-p[1])*t<n)return a[i];return null}));function Hp(e,t){var path=t.path;if(null==path)return!0;var n=t.x||0,r=t.y||0,o=t.scaleX||1,l=t.scaleY||1,a=(t.angle||0)*Yh,c=t.pathCache;c&&c.path===path||((t.pathCache=c=Sh(path)).path=path),a&&e.rotate&&e.translate?(e.translate(n,r),e.rotate(a),Rh(e,c,0,0,o,l),e.rotate(-a),e.translate(-n,-r)):Rh(e,c,n,r,o,l)}var Rp={type:"path",tag:"path",nested:!1,attr:function(e,t){var n=t.scaleX||1,r=t.scaleY||1;1===n&&1===r||e("vector-effect","non-scaling-stroke"),e("transform",function(e){return gp(e.x||0,e.y||0)+(e.angle?" "+_p(e.angle):"")+(e.scaleX||e.scaleY?" "+(t=e.scaleX||1,n=e.scaleY||1,"scale("+t+","+n+")"):"");var t,n}(t)),e("d",t.path)},bound:function(e,t){return Hp(Im(e,t.angle),t)?e.set(0,0,0,0):wm(e,t,!0)},draw:dp(Hp),pick:pp(Hp),isect:Jm(Hp)};function Ip(e,t){e.beginPath(),hm(e,t)}var rect={type:"rect",tag:"path",nested:!1,attr:function(e,t){e("d",hm(null,t))},bound:function(e,t){var n,r;return wm(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)},draw:dp(Ip),pick:pp(Ip),isect:Xm};function Bp(e,t,n){var r,o,l,c;return!(!t.stroke||!op(e,t,n))&&(r=t.x||0,o=t.y||0,l=null!=t.x2?t.x2:r,c=null!=t.y2?t.y2:o,e.beginPath(),e.moveTo(r,o),e.lineTo(l,c),!0)}var $p={type:"rule",tag:"line",nested:!1,attr:function(e,t){e("transform",yp(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function(e,t){var n,r;return wm(e.set(n=t.x||0,r=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:r),t)},draw:function(e,t,n){up(t,t=>{if(!n||n.intersects(t.bounds)){var r=null==t.opacity?1:t.opacity;r&&Bp(e,t,r)&&(Qm(e,t),e.stroke())}})},pick:hp((function(e,t,n,r){return!!e.isPointInStroke&&(Bp(e,t,1)&&e.isPointInStroke(n,r))})),isect:Zm},Wp=bp("shape",(function(e,t){return(t.mark.shape||t.shape).context(e)(t)})),Up=bp("symbol",(function(e,t){return cm.context(e)(t)}),Gm);const qp=Object(le.N)();var Vp={height:Qp,measureWidth:Zp,estimateWidth:Gp,width:Gp,canvas:Jp};function Jp(use){Vp.width=use&&qm?Zp:Gp}function Gp(e,text){return Xp(rg(e,text),Qp(e))}function Xp(text,e){return~~(.8*text.length*e)}function Zp(e,text){return Qp(e)<=0||!(text=rg(e,text))?0:Kp(text,ag(e))}function Kp(text,e){const t="(".concat(e,") ").concat(text);let n=qp.get(t);return void 0===n&&(qm.font=e,n=qm.measureText(text).width,qp.set(t,n)),n}function Qp(e){return null!=e.fontSize?+e.fontSize||0:11}function eg(e){return null!=e.lineHeight?e.lineHeight:Qp(e)+2}function tg(e){return t=e.lineBreak&&e.text&&!Object(le.B)(e.text)?e.text.split(e.lineBreak):e.text,Object(le.B)(t)?t.length>1?t:t[0]:t;var t}function ng(e){const t=tg(e);return(Object(le.B)(t)?t.length-1:0)*eg(e)}function rg(e,line){const text=null==line?"":(line+"").trim();return e.limit>0&&text.length?function(e,text){var t=+e.limit,n=function(e){if(Vp.width===Zp){const t=ag(e);return text=>Kp(text,t)}{const t=Qp(e);return text=>Xp(text,t)}}(e);if(n(text)<t)return text;var r,o=e.ellipsis||"",l="rtl"===e.dir,c=0,d=text.length;if(t-=n(o),l){for(;c<d;)r=c+d>>>1,n(text.slice(r))>t?c=r+1:d=r;return o+text.slice(c)}for(;c<d;)r=1+(c+d>>>1),n(text.slice(0,r))<t?c=r:d=r-1;return text.slice(0,c)+o}(e,text):text}function ig(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function ag(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Qp(e)+"px "+ig(e,t)}function og(e){var t=e.baseline,n=Qp(e);return Math.round("top"===t?.79*n:"middle"===t?.3*n:"bottom"===t?-.21*n:"line-top"===t?.29*n+.5*eg(e):"line-bottom"===t?.29*n-.5*eg(e):0)}Jp(!0);const sg={left:"start",center:"middle",right:"end"},lg=new _m;function ug(e){var t,n=e.x||0,r=e.y||0,o=e.radius||0;return o&&(t=(e.theta||0)-Th,n+=o*Math.cos(t),r+=o*Math.sin(t)),lg.x1=n,lg.y1=r,lg}function cg(e,t,n){var r,o=Vp.height(t),a=t.align,p=ug(t),l=p.x1,c=p.y1,d=t.dx||0,f=(t.dy||0)+og(t)-Math.round(.8*o),h=tg(t);if(Object(le.B)(h)?(o+=eg(t)*(h.length-1),r=h.reduce((e,n)=>Math.max(e,Vp.width(t,n)),0)):r=Vp.width(t,h),"center"===a?d-=r/2:"right"===a&&(d-=r),e.set(d+=l,f+=c,d+r,f+o),t.angle&&!n)e.rotate(t.angle*Yh,l,c);else if(2===n)return e.rotatedPoints(t.angle*Yh,l,c);return e}var dg={arc:vp,area:Mp,group:Yp,image:Np,line:zp,path:Rp,rect:rect,rule:$p,shape:Wp,symbol:Up,text:{type:"text",tag:"text",nested:!1,attr:function(e,t){var n,r=t.dx||0,o=(t.dy||0)+og(t),p=ug(t),l=p.x1,c=p.y1,a=t.angle||0;e("text-anchor",sg[t.align]||"start"),a?(n=gp(l,c)+" "+_p(a),(r||o)&&(n+=" "+gp(r,o))):n=gp(l+r,c+o),e("transform",n)},bound:cg,draw:function(e,t,n){up(t,t=>{var p,r,o,i,l,c,d,f=null==t.opacity?1:t.opacity;if(!(n&&!n.intersects(t.bounds)||0===f||t.fontSize<=0||null==t.text||0===t.text.length)){if(e.font=ag(t),e.textAlign=t.align||"left",r=(p=ug(t)).x1,o=p.y1,t.angle&&(e.save(),e.translate(r,o),e.rotate(t.angle*Yh),r=o=0),r+=t.dx||0,o+=(t.dy||0)+og(t),c=tg(t),Qm(e,t),Object(le.B)(c))for(l=eg(t),i=0;i<c.length;++i)d=rg(t,c[i]),t.fill&&ip(e,t,f)&&e.fillText(d,r,o),t.stroke&&op(e,t,f)&&e.strokeText(d,r,o),o+=l;else d=rg(t,c),t.fill&&ip(e,t,f)&&e.fillText(d,r,o),t.stroke&&op(e,t,f)&&e.strokeText(d,r,o);t.angle&&e.restore()}})},pick:hp((function(e,t,n,r,o,l){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var p=ug(t),c=p.x1,d=p.y1,b=cg(lg,t,1),a=-t.angle*Yh,f=Math.cos(a),h=Math.sin(a),m=f*o-h*l+(c-f*c+h*d),_=h*o+f*l+(d-h*c-f*d);return b.contains(m,_)})),isect:function(e,t){const p=cg(lg,e,2);return Km(t,p[0],p[1],p[2],p[3])||Km(t,p[0],p[1],p[4],p[5])||Km(t,p[4],p[5],p[6],p[7])||Km(t,p[2],p[3],p[6],p[7])}},trail:xp("trail",(function(e,t){return dm.context(e)(t)}),(function(a,p){for(var e,t,i=a.length;--i>=0;)if(!1!==a[i].defined&&(e=a[i].x-p[0])*e+(t=a[i].y-p[1])*t<(e=a[i].size||1)*e)return a[i];return null}))};function fg(e,t,n){var r=dg[e.mark.marktype],o=t||r.bound;return r.nested&&(e=e.mark),o(e.bounds||(e.bounds=new _m),e,n)}var hg={mark:null};function mg(mark,e,t){var i,n,r,b,o=dg[mark.marktype],l=o.bound,c=mark.items,d=c&&c.length;if(o.nested)return d?r=c[0]:(hg.mark=mark,r=hg),b=fg(r,l,t),e=e&&e.union(b)||b;if(e=e||mark.bounds&&mark.bounds.clear()||new _m,d)for(i=0,n=c.length;i<n;++i)e.union(fg(c[i],l,t));return mark.bounds=e}const pg=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function gg(e,t){return JSON.stringify(e,pg,t)}function _g(e){return function e(t){var n,i,r,o=t.marktype,l=t.items;if(l)for(i=0,r=l.length;i<r;++i)n=o?"mark":"group",l[i][n]=t,l[i].zindex&&(l[i][n].zdirty=!0),"group"===(o||n)&&e(l[i]);o&&mg(t);return t}("string"==typeof e?JSON.parse(e):e)}function yg(e){arguments.length?this.root=_g(e):(this.root=bg({marktype:"group",name:"root",role:"frame"}),this.root.items=[new bm(this.root)])}function bg(e,t){const mark={bounds:new _m,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return null!=e.aria&&(mark.aria=e.aria),e.description&&(mark.description=e.description),mark}function vg(e,t,n){return!e&&"undefined"!=typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function xg(e,t){t=t.toLowerCase();for(var n=e.childNodes,i=0,r=n.length;i<r;++i)if(n[i].tagName.toLowerCase()===t)return n[i]}function Mg(e,t,n,r){var b,a=e.childNodes[t];return a&&a.tagName.toLowerCase()===n.toLowerCase()||(b=a||null,a=vg(e.ownerDocument,n,r),e.insertBefore(a,b)),a}function wg(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function kg(mark){return"mark-"+mark.marktype+(mark.role?" role-"+mark.role:"")+(mark.name?" "+mark.name:"")}function Lg(e,t){const rect=t.getBoundingClientRect();return[e.clientX-rect.left-(t.clientLeft||0),e.clientY-rect.top-(t.clientTop||0)]}function Dg(e,t){this._active=null,this._handlers={},this._loader=e||la(),this._tooltip=t||Og}function Og(e,t,n,r){e.element().setAttribute("title",r||"")}function jg(e){this._el=null,this._bgcolor=null,this._loader=new vm(e)}yg.prototype={toJSON(e){return gg(this.root,e||0)},mark(e,t,n){const mark=bg(e,t=t||this.root.items[0]);return t.items[n]=mark,mark.zindex&&(mark.group.zdirty=!0),mark}},Dg.prototype={initialize(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene(e){return arguments.length?(this._scene=e,this):this._scene},on(){},off(){},_handlerIndex(e,t,n){for(let i=e?e.length:0;--i>=0;)if(e[i].type===t&&(!n||e[i].handler===n))return i;return-1},handlers(e){const t=this._handlers,a=[];if(e)a.push(...t[this.eventName(e)]);else for(const e in t)a.push(...t[e]);return a},eventName(e){const i=e.indexOf(".");return i<0?e:e.slice(0,i)},handleHref(e,t,n){this._loader.sanitize(n,{context:"href"}).then(t=>{const n=new MouseEvent(e.type,e),a=vg(null,"a");for(const e in t)a.setAttribute(e,t[e]);a.dispatchEvent(n)}).catch(()=>{})},handleTooltip(e,t,n){if(t&&null!=t.tooltip){t=function(e,t,n,r){var o,p,mark=e&&e.mark;if(mark&&(o=dg[mark.marktype]).tip){for((p=Lg(t,n))[0]-=r[0],p[1]-=r[1];e=e.mark.group;)p[0]-=e.x||0,p[1]-=e.y||0;e=o.tip(mark.items,p)}return e}(t,e,this.canvas(),this._origin);const r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},getItemBoundingClientRect(e){const t=this.canvas();if(!t)return;const rect=t.getBoundingClientRect(),n=this._origin,r=e.bounds,o=r.width(),l=r.height();let c=r.x1+n[0]+rect.left,d=r.y1+n[1]+rect.top;for(;e.mark&&(e=e.mark.group);)c+=e.x||0,d+=e.y||0;return{x:c,y:d,width:o,height:l,left:c,top:d,right:c+o,bottom:d+l}}},jg.prototype={initialize(e,t,n,r,o){return this._el=e,this.resize(t,n,r,o)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},resize(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},dirty(){},render(e){const t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},_render(){},renderAsync(e){const t=this.render(e);return this._ready?this._ready.then(()=>t):Promise.resolve(t)},_load(e,t){var n=this,p=n._loader[e](t);if(!n._ready){const e=n._call;n._ready=n._loader.ready().then(t=>{t&&e(),n._ready=null})}return p},sanitizeURL(e){return this._load("sanitizeURL",e)},loadImage(e){return this._load("loadImage",e)}};const Sg="dragleave",Yg="mousedown",Tg="mousemove",Ag="mouseout",Eg="click",Cg=["keydown","keypress","keyup","dragenter",Sg,"dragover",Yg,"mouseup",Tg,Ag,"mouseover",Eg,"dblclick","wheel","mousewheel","touchstart","touchmove","touchend"],Fg=Tg,Pg=Ag,Ng=Eg;function zg(e,t){Dg.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}function Hg(e,t){(e=>"touchstart"===e||"touchmove"===e||"touchend"===e?["touchstart","touchmove","touchend"]:[e])(t).forEach(t=>function(e,t){const canvas=e.canvas();canvas&&!e._events[t]&&(e._events[t]=1,canvas.addEventListener(t,e[t]?n=>e[t](n):n=>e.fire(t,n)))}(e,t))}function Rg(e,t,n){return function(r){const a=this._active,p=this.pickEvent(r);p===a||(a&&a.exit||this.fire(n,r),this._active=p,this.fire(t,r)),this.fire(e,r)}}function Ig(e){return function(t){this.fire(e,t),this._active=null}}Object(le.z)(zg,Dg,{initialize(e,t,n){return this._canvas=e&&xg(e,"canvas"),[Eg,Yg,Tg,Ag,Sg].forEach(e=>Hg(this,e)),Dg.prototype.initialize.call(this,e,t,n)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:Cg,DOMMouseScroll(e){this.fire("mousewheel",e)},mousemove:Rg(Tg,"mouseover",Ag),dragover:Rg("dragover","dragenter",Sg),mouseout:Ig(Ag),dragleave:Ig(Sg),mousedown(e){this._down=this._active,this.fire(Yg,e)},click(e){this._down===this._active&&(this.fire(Eg,e),this._down=null)},touchstart(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire("touchstart",e,!0)},touchmove(e){this.fire("touchmove",e,!0)},touchend(e){this.fire("touchend",e,!0),this._touch=null},fire(e,t,n){const a=n?this._touch:this._active,r=this._handlers[e];if(t.vegaType=e,e===Ng&&a&&a.href?this.handleHref(t,a,a.href):e!==Fg&&e!==Pg||this.handleTooltip(t,a,e!==Pg),r)for(let i=0,e=r.length;i<e;++i)r[i].handler.call(this._obj,t,a)},on(e,t){const n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(Hg(this,e),(r[n]||(r[n]=[])).push({type:e,handler:t})),this},off(e,t){const n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&r.splice(i,1),this},pickEvent(e){const p=Lg(e,this._canvas),t=this._origin;return this.pick(this._scene,p[0],p[1],p[0]-t[0],p[1]-t[1])},pick(e,t,n,r,o){const g=this.context();return dg[e.marktype].pick.call(this,g,e,t,n,r,o)}});var Bg="undefined"!=typeof window&&window.devicePixelRatio||1;function $g(e){jg.call(this,e),this._options={},this._redraw=!1,this._dirty=new _m,this._tempb=new _m}const Wg=jg.prototype;function Ug(e,t){Dg.call(this,e,t);const n=this;n._hrefHandler=qg(n,(e,t)=>{t&&t.href&&n.handleHref(e,t,t.href)}),n._tooltipHandler=qg(n,(e,t)=>{n.handleTooltip(e,t,e.type!==Pg)})}Object(le.z)($g,jg,{initialize(e,t,n,r,o,l){return this._options=l||{},this._canvas=this._options.externalContext?null:Hu(1,1,this._options.type),e&&this._canvas&&(wg(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),Wg.initialize.call(this,e,t,n,r,o)},resize(e,t,n,r){if(Wg.resize.call(this,e,t,n,r),this._canvas)!function(canvas,e,t,n,r,o){const l="undefined"!=typeof HTMLElement&&canvas instanceof HTMLElement&&null!=canvas.parentNode,c=canvas.getContext("2d"),d=l?Bg:r;canvas.width=e*d,canvas.height=t*d;for(const e in o)c[e]=o[e];l&&1!==d&&(canvas.style.width=e+"px",canvas.style.height=t+"px"),c.pixelRatio=d,c.setTransform(d,0,0,d,d*n[0],d*n[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const e=this._options.externalContext;e||Object(le.o)("CanvasRenderer is missing a valid canvas or context"),e.scale(this._scale,this._scale),e.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(e){const b=this._tempb.clear().union(e.bounds);let g=e.mark.group;for(;g;)b.translate(g.x||0,g.y||0),g=g.mark.group;this._dirty.union(b)},_render(e){const g=this.context(),t=this._origin,n=this._width,r=this._height,o=this._dirty,l=(c=t,d=n,f=r,(new _m).set(0,0,d,f).translate(-c[0],-c[1]));var c,d,f;g.save();const b=this._redraw||o.empty()?(this._redraw=!1,l.expand(1)):function(g,b,e){return b.expand(1).round(),g.pixelRatio%1&&b.scale(g.pixelRatio).round().scale(1/g.pixelRatio),b.translate(-e[0]%1,-e[1]%1),g.beginPath(),g.rect(b.x1,b.y1,b.width(),b.height()),g.clip(),b}(g,l.intersect(o),t);return this.clear(-t[0],-t[1],n,r),this.draw(g,e,b),g.restore(),o.clear(),this},draw(e,t,n){const mark=dg[t.marktype];t.clip&&function(e,t){var n=t.clip;e.save(),Object(le.E)(n)?(e.beginPath(),n(e),e.clip()):wp(e,t.group)}(e,t),mark.draw.call(this,e,t,n),t.clip&&e.restore()},clear(e,t,n,r){const o=this._options,g=this.context();"pdf"===o.type||o.externalContext||g.clearRect(e,t,n,r),null!=this._bgcolor&&(g.fillStyle=this._bgcolor,g.fillRect(e,t,n,r))}});const qg=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)};Object(le.z)(Ug,Dg,{initialize(e,t,n){let svg=this._svg;return svg&&(svg.removeEventListener(Ng,this._hrefHandler),svg.removeEventListener(Fg,this._tooltipHandler),svg.removeEventListener(Pg,this._tooltipHandler)),this._svg=svg=e&&xg(e,"svg"),svg&&(svg.addEventListener(Ng,this._hrefHandler),svg.addEventListener(Fg,this._tooltipHandler),svg.addEventListener(Pg,this._tooltipHandler)),Dg.prototype.initialize.call(this,e,t,n)},canvas(){return this._svg},on(e,t){const n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){const o={type:e,handler:t,listener:qg(this,t)};(r[n]||(r[n]=[])).push(o),this._svg&&this._svg.addEventListener(n,o.listener)}return this},off(e,t){const n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this}});const Vg=(e,t,label)=>({role:e,"aria-roledescription":t,"aria-label":label||void 0}),Jg=Object(le.fb)(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),Gg={axis:{desc:"axis",caption:function(e){const t=e.datum,n=e.orient,title=t.title?e_(e):null,r=e.context,o=r.scales[t.scale].value,l=r.dataflow.locale(),c=o.type;return"".concat("left"===n||"right"===n?"Y":"X","-axis")+(title?" titled '".concat(title,"'"):"")+" for a ".concat(Hf(c)?"discrete":c," scale")+" with ".concat(bh(l,o,e))}},legend:{desc:"legend",caption:function(e){const t=e.datum,title=t.title?e_(e):null,n="".concat(t.type||""," legend").trim(),r=t.scales,o=Object.keys(r),l=e.context,c=l.scales[r[o[0]]].value,d=l.dataflow.locale();return s=n,(s.length?s[0].toUpperCase()+s.slice(1):s)+(title?" titled '".concat(title,"'"):"")+" for ".concat(function(e){return(e=e.map(p=>p+("fill"===p||"stroke"===p?" color":""))).length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Object(le.W)(e)}(o))+" with ".concat(bh(d,c,e));var s}},"title-text":{desc:"title",caption:e=>"Title text '".concat(Qg(e),"'")},"title-subtitle":{desc:"subtitle",caption:e=>"Subtitle text '".concat(Qg(e),"'")}},Xg={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"};function Zg(e,t){const n=!1===t.aria;if(e("aria-hidden",n||void 0),n||null==t.description)for(const t in Xg)e(Xg[t],void 0);else{const n=t.mark.marktype;e("aria-label",t.description),e("role",t.ariaRole||("group"===n?"graphics-object":"graphics-symbol")),e("aria-roledescription",t.ariaRoleDescription||"".concat(n," mark"))}}function Kg(mark){return!1===mark.aria?{"aria-hidden":!0}:Jg[mark.role]?null:Gg[mark.role]?function(mark,e){try{const t=mark.items[0],caption=e.caption||(()=>"");return Vg(e.role||"graphics-symbol",e.desc,t.description||caption(t))}catch(e){return null}}(mark,Gg[mark.role]):function(mark){const e=mark.marktype,t="group"===e||"text"===e||mark.items.some(e=>null!=e.description&&!1!==e.aria);return Vg(t?"graphics-object":"graphics-symbol","".concat(e," mark container"),mark.description)}(mark)}function Qg(e){return Object(le.i)(e.text).join(" ")}function e_(e){try{return Object(le.i)(Object(le.W)(e.items).items[0].text).join(" ")}catch(e){return null}}const t_=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");function n_(){let e="",t="",n="";const r=[],o=()=>t=n="",l=(e,n)=>(null!=n&&(t+=" ".concat(e,'="').concat(t_(n).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"),'"')),c),c={open(d,...f){(l=>{t&&(e+="".concat(t,">").concat(n),o()),r.push(l)})(d),t="<"+d;for(const e of f)for(const t in e)l(t,e[t]);return c},close(){const l=r.pop();return e+=t?t+(n?">".concat(n,"</").concat(l,">"):"/>"):"</".concat(l,">"),o(),c},attr:l,text:e=>(n+=t_(e),c),toString:()=>e};return c}const r_=e=>function e(t,n){if(t.open(n.tagName),n.hasAttributes()){const e=n.attributes,r=e.length;for(let i=0;i<r;++i)t.attr(e[i].name,e[i].value)}if(n.hasChildNodes()){const r=n.childNodes,o=r.length;for(let i=0;i<o;i++){const n=r[i];3===n.nodeType?t.text(n.nodeValue):e(t,n)}}return t.close()}(n_(),e)+"";const i_={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},a_={fill:"none","stroke-miterlimit":10},o_="http://www.w3.org/2000/xmlns/",s_=Tp.xmlns;function l_(e){jg.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const u_=jg.prototype;function c_(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function d_(e,t,n){let i,r,o;if("radial"===t.gradient){let r=Mg(e,n++,"pattern",s_);b_(r,{id:"p_"+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),r=Mg(r,0,"rect",s_),b_(r,{width:1,height:1,fill:"url(".concat(x_(),"#").concat(t.id,")")}),b_(e=Mg(e,n++,"radialGradient",s_),{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else b_(e=Mg(e,n++,"linearGradient",s_),{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(i=0,r=t.stops.length;i<r;++i)o=Mg(e,i,"stop",s_),o.setAttribute("offset",t.stops[i].offset),o.setAttribute("stop-color",t.stops[i].color);return wg(e,i),n}function f_(e,t,n){let mask;return(e=Mg(e,n,"clipPath",s_)).setAttribute("id",t.id),t.path?(mask=Mg(e,0,"path",s_),mask.setAttribute("d",t.path)):(mask=Mg(e,0,"rect",s_),b_(mask,{x:0,y:0,width:t.width,height:t.height})),wg(e,1),n+1}function h_(e,t,n,r,svg){let o,l=e._svg;if(!l&&(o=t.ownerDocument,l=vg(o,r,s_),e._svg=l,e.mark&&(l.__data__=e,l.__values__={fill:"default"},"g"===r))){const t=vg(o,"path",s_);l.appendChild(t),t.__data__=e;const n=vg(o,"g",s_);l.appendChild(n),n.__data__=e;const r=vg(o,"path",s_);l.appendChild(r),r.__data__=e,r.__values__={fill:"default"}}return(l.ownerSVGElement!==svg||function(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}(l,n))&&t.insertBefore(l,n?n.nextSibling:t.firstChild),l}Object(le.z)(l_,jg,{initialize(e,t,n,r,o){return this._defs={},this._clearDefs(),e&&(this._svg=Mg(e,0,"svg",s_),this._svg.setAttributeNS(o_,"xmlns",s_),this._svg.setAttributeNS(o_,"xmlns:xlink",Tp["xmlns:xlink"]),this._svg.setAttribute("version",Tp.version),this._svg.setAttribute("class","marks"),wg(e,1),this._root=Mg(this._svg,0,"g",s_),b_(this._root,a_),wg(this._svg,1)),this.background(this._bgcolor),u_.initialize.call(this,e,t,n,r,o)},background(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),u_.background.apply(this,arguments)},resize(e,t,n,r){return u_.resize.call(this,e,t,n,r),this._svg&&(b_(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}),this._root.setAttribute("transform","translate(".concat(this._origin,")"))),this._dirty=[],this},canvas(){return this._svg},svg(){const svg=this._svg,e=this._bgcolor;if(!svg)return null;let t;e&&(svg.removeAttribute("style"),t=Mg(svg,0,"rect",s_),b_(t,{width:this._width,height:this._height,fill:e}));const text=r_(svg);return e&&(svg.removeChild(t),this._svg.style.setProperty("background-color",e)),text},_render(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),wg(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const e=this._dirty;if(!e.length||!this._dirtyID)return!0;const t=++this._dirtyID;let n,mark,r,o,i,l,c;for(i=0,l=e.length;i<l;++i)n=e[i],mark=n.mark,mark.marktype!==r&&(r=mark.marktype,o=dg[r]),mark.zdirty&&mark.dirty!==t&&(this._dirtyAll=!1,c_(n,t),mark.items.forEach(i=>{i.dirty=t})),mark.zdirty||(n.exit?(o.nested&&mark.items.length?(c=mark.items[0],c._svg&&this._update(o,c._svg,c)):n._svg&&(c=n._svg.parentNode,c&&c.removeChild(n._svg)),n._svg=null):(n=o.nested?mark.items[0]:n,n._update!==t&&(n._svg&&n._svg.ownerSVGElement?this._update(o,n._svg,n):(this._dirtyAll=!1,c_(n,t)),n._update=t)));return!this._dirtyAll},mark(e,t,n){if(!this.isDirty(t))return t._svg;const svg=this._svg,r=dg[t.marktype],o=!1===t.interactive?"none":null,l="g"===r.tag;let c=null,i=0;const d=h_(t,e,n,"g",svg);d.setAttribute("class",kg(t));const f=Kg(t);for(const e in f)v_(d,e,f[e]);l||v_(d,"pointer-events",o),v_(d,"clip-path",t.clip?gm(this,t,t.group):null);const h=e=>{const t=this.isDirty(e),n=h_(e,d,c,r.tag,svg);t&&(this._update(r,n,e),l&&function(e,t,n){t=t.lastChild.previousSibling;let r,o=0;up(n,n=>{r=e.mark(t,n,r),++o}),wg(t,1+o)}(this,n,e)),c=n,++i};return r.nested?t.items.length&&h(t.items[0]):up(t,h),wg(d,i),d},_update(e,t,n){m_=t,p_=t.__values__,Zg(__,n),e.attr(__,n,this);const r=g_[e.type];r&&r.call(this,e,t,n),m_&&this.style(m_,n)},style(e,t){if(null!=t)for(const n in i_){let r="font"===n?ig(t):t[n];if(r===p_[n])continue;const o=i_[n];null==r?e.removeAttribute(o):(xh(r)&&(r=Mh(r,this._defs.gradient,x_())),e.setAttribute(o,r+"")),p_[n]=r}},defs(){const svg=this._svg,defs=this._defs;let e=defs.el,t=0;for(const n in defs.gradient)e||(defs.el=e=Mg(svg,1,"defs",s_)),t=d_(e,defs.gradient[n],t);for(const n in defs.clipping)e||(defs.el=e=Mg(svg,1,"defs",s_)),t=f_(e,defs.clipping[n],t);e&&(0===t?(svg.removeChild(e),defs.el=null):wg(e,t))},_clearDefs(){const e=this._defs;e.gradient={},e.clipping={}}});let m_=null,p_=null;const g_={group(e,t,n){const r=m_=t.childNodes[2];p_=r.__values__,e.foreground(__,n,this),p_=t.__values__,m_=t.childNodes[1],e.content(__,n,this);const o=m_=t.childNodes[0];e.background(__,n,this);const l=!1===n.mark.interactive?"none":null;if(l!==p_.events&&(v_(r,"pointer-events",l),v_(o,"pointer-events",l),p_.events=l),n.strokeForeground&&n.stroke){const e=n.fill;v_(r,"display",null),this.style(o,n),v_(o,"stroke",null),e&&(n.fill=null),p_=r.__values__,this.style(r,n),e&&(n.fill=e),m_=null}else v_(r,"display","none")},image(e,t,n){!1===n.smooth?(y_(t,"image-rendering","optimizeSpeed"),y_(t,"image-rendering","pixelated")):y_(t,"image-rendering",null)},text(e,t,n){const r=tg(n);let o,l,c,d;Object(le.B)(r)?(l=r.map(e=>rg(n,e)),o=l.join("\n"),o!==p_.text&&(wg(t,0),c=t.ownerDocument,d=eg(n),l.forEach((e,i)=>{const r=vg(c,"tspan",s_);r.__data__=n,r.textContent=e,i&&(r.setAttribute("x",0),r.setAttribute("dy",d)),t.appendChild(r)}),p_.text=o)):(l=rg(n,r),l!==p_.text&&(t.textContent=l,p_.text=l)),v_(t,"font-family",ig(n)),v_(t,"font-size",Qp(n)+"px"),v_(t,"font-style",n.fontStyle),v_(t,"font-variant",n.fontVariant),v_(t,"font-weight",n.fontWeight)}};function __(e,t,n){t!==p_[e]&&(n?function(e,t,n,r){null!=n?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}(m_,e,t,n):v_(m_,e,t),p_[e]=t)}function y_(e,t,n){n!==p_[t]&&(null==n?e.style.removeProperty(t):e.style.setProperty(t,n+""),p_[t]=n)}function b_(e,t){for(const n in t)v_(e,n,t[n])}function v_(e,t,n){null!=n?e.setAttribute(t,n):e.removeAttribute(t)}function x_(){let e;return"undefined"==typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function M_(e){jg.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}Object(le.z)(M_,jg,{svg(){return this._text},_render(e){const t=n_();t.open("svg",Object(le.p)({},Tp,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}));const n=this._bgcolor;return n&&"transparent"!==n&&"none"!==n&&t.open("rect",{width:this._width,height:this._height,fill:n}).close(),t.open("g",a_,{transform:"translate("+this._origin+")"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+"",this},mark(e,t){const n=dg[t.marktype],r=n.tag,o=[Zg,n.attr];e.open("g",{class:kg(t),"clip-path":t.clip?gm(this,t,t.group):null},Kg(t),{"pointer-events":"g"!==r&&!1===t.interactive?"none":null});const l=l=>{const c=this.href(l);if(c&&e.open("a",c),e.open(r,this.attr(t,l,o,"g"!==r?r:null)),"text"===r){const t=tg(l);if(Object(le.B)(t)){const n={x:0,dy:eg(l)};for(let i=0;i<t.length;++i)e.open("tspan",i?n:null).text(rg(l,t[i])).close()}else e.text(rg(l,t))}else if("g"===r){const r=l.strokeForeground,o=l.fill,c=l.stroke;r&&c&&(l.stroke=null),e.open("path",this.attr(t,l,n.background,"bgrect")).close(),e.open("g",this.attr(t,l,n.content)),up(l,t=>this.mark(e,t)),e.close(),r&&c?(o&&(l.fill=null),l.stroke=c,e.open("path",this.attr(t,l,n.foreground,"bgrect")).close(),o&&(l.fill=o)):e.open("path",this.attr(t,l,n.foreground,"bgfore")).close()}e.close(),c&&e.close()};return n.nested?t.items&&t.items.length&&l(t.items[0]):up(t,l),e.close()},href(e){const t=e.href;let n;if(t){if(n=this._hrefs&&this._hrefs[t])return n;this.sanitizeURL(t).then(e=>{e["xlink:href"]=e.href,e.href=null,(this._hrefs||(this._hrefs={}))[t]=e})}return null},attr(e,t,n,r){const object={},o=(e,t,n,r)=>{object[r||e]=t};return Array.isArray(n)?n.forEach(e=>e(o,t,this)):n(o,t,this),r&&function(s,e,t,n,defs){if(null==e)return s;"bgrect"===n&&!1===t.interactive&&(s["pointer-events"]="none");if("bgfore"===n&&(!1===t.interactive&&(s["pointer-events"]="none"),s.display="none",null!==e.fill))return s;"image"===n&&!1===e.smooth&&(s.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");"text"===n&&(s["font-family"]=ig(e),s["font-size"]=Qp(e)+"px",s["font-style"]=e.fontStyle,s["font-variant"]=e.fontVariant,s["font-weight"]=e.fontWeight);for(const t in i_){let n=e[t];const r=i_[t];("transparent"!==n||"fill"!==r&&"stroke"!==r)&&null!=n&&(xh(n)&&(n=Mh(n,defs.gradient,"")),s[r]=n)}}(object,t,e,r,this._defs),object},defs(e){const t=this._defs.gradient,n=this._defs.clipping;if(0!==Object.keys(t).length+Object.keys(n).length){e.open("defs");for(const n in t){const r=t[n],o=r.stops;"radial"===r.gradient?(e.open("pattern",{id:"p_"+n,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+n+")"}).close(),e.close(),e.open("radialGradient",{id:n,fx:r.x1,fy:r.y1,fr:r.r1,cx:r.x2,cy:r.y2,r:r.r2})):e.open("linearGradient",{id:n,x1:r.x1,x2:r.x2,y1:r.y1,y2:r.y2});for(let i=0;i<o.length;++i)e.open("stop",{offset:o[i].offset,"stop-color":o[i].color}).close();e.close()}for(const t in n){const r=n[t];e.open("clipPath",{id:t}),r.path?e.open("path",{d:r.path}).close():e.open("rect",{x:0,y:0,width:r.width,height:r.height}).close(),e.close()}e.close()}}});const w_={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"},k_={};function L_(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(k_[e]=t,this):k_[e]}function D_(e,t,filter){const n=[],r=(new _m).union(t),o=e.marktype;return o?O_(e,r,filter,n):"group"===o?j_(e,r,filter,n):Object(le.o)("Intersect scene must be mark node or group item.")}function O_(mark,e,filter,t){if(function(mark,e,filter){return mark.bounds&&e.intersects(mark.bounds)&&("group"===mark.marktype||!1!==mark.interactive&&(!filter||filter(mark)))}(mark,e,filter)){const n=mark.items,r=mark.marktype,o=n.length;let i=0;if("group"===r)for(;i<o;++i)j_(n[i],e,filter,t);else for(const l=dg[r].isect;i<o;++i){const r=n[i];S_(r,e,l)&&t.push(r)}}return t}function j_(e,t,filter,n){filter&&filter(e.mark)&&S_(e,t,dg.group.isect)&&n.push(e);const r=e.items,o=r&&r.length;if(o){const l=e.x||0,c=e.y||0;t.translate(-l,-c);for(let i=0;i<o;++i)O_(r[i],t,filter,n);t.translate(l,c)}return n}function S_(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}k_.canvas=k_.png={renderer:$g,headless:$g,handler:zg},k_.svg={renderer:l_,headless:M_,handler:Ug},k_.none={};const Y_=new _m;function T_(mark){const e=mark.clip;if(Object(le.E)(e))e(Im(Y_.clear()));else{if(!e)return;Y_.set(0,0,mark.group.width,mark.group.height)}mark.bounds.intersect(Y_)}function A_(a,b,e){return a===b||("path"===e?E_(a,b):a instanceof Date&&b instanceof Date?+a==+b:Object(le.G)(a)&&Object(le.G)(b)?Math.abs(a-b)<=1e-9:a&&b&&(Object(le.H)(a)||Object(le.H)(b))?function(a,b){var e,i,t=Object.keys(a),n=Object.keys(b);if(t.length!==n.length)return!1;for(t.sort(),n.sort(),i=t.length-1;i>=0;i--)if(t[i]!=n[i])return!1;for(i=t.length-1;i>=0;i--)if(e=t[i],!A_(a[e],b[e],e))return!1;return typeof a==typeof b}(a,b):a==b)}function E_(a,b){return A_(Sh(a),Sh(b))}function C_(){pm(),vh=0}const F_="top",P_="left",N_="right",z_="end",H_="row";function R_(e){qa.call(this,null,e)}function I_(e,t,n){return t(e.bounds.clear(),e,n)}Object(le.z)(R_,qa,{transform(e,t){const view=t.dataflow,mark=e.mark,n=mark.marktype,r=dg[n],o=r.bound;let l,c=mark.bounds;if(r.nested)mark.items.length&&view.dirty(mark.items[0]),c=I_(mark,o),mark.items.forEach(e=>{e.bounds.clear().union(c)});else if("group"===n||e.modified())switch(t.visit(t.MOD,e=>view.dirty(e)),c.clear(),mark.items.forEach(e=>c.union(I_(e,o))),mark.role){case"axis":case"legend":case"title":t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,e=>{c.union(I_(e,o))}),t.visit(t.MOD,e=>{l=l||c.alignsWith(e.bounds),view.dirty(e),c.union(I_(e,o))}),l&&(c.clear(),mark.items.forEach(e=>c.union(e.bounds)));return T_(mark),t.modifies("bounds")}});function B_(e){qa.call(this,0,e)}function $_(e){qa.call(this,null,e)}function W_(e){qa.call(this,null,e)}B_.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},Object(le.z)(B_,qa,{transform(e,t){const n=(view=t.dataflow)._signals[":vega_identifier:"]||(view._signals[":vega_identifier:"]=view.add(0)),r=e.as;var view;let o=n.value;return t.visit(t.ADD,e=>e[r]=e[r]||++o),n.set(this.value=o),t}}),Object(le.z)($_,qa,{transform(e,t){let mark=this.value;mark||(mark=t.dataflow.scenegraph().mark(e.markdef,function(e){const g=e.groups,p=e.parent;return g&&1===g.size?g.get(Object.keys(g.object)[0]):g&&p?g.lookup(p):null}(e),e.index),mark.group.context=e.context,e.context.group||(e.context.group=mark.group),mark.source=this.source,mark.clip=e.clip,mark.interactive=e.interactive,this.value=mark);const n="group"===mark.marktype?bm:ym;return t.visit(t.ADD,e=>n.call(e,mark)),(e.modified("clip")||e.modified("interactive"))&&(mark.clip=e.clip,mark.interactive=!!e.interactive,mark.zdirty=!0,t.reflow()),mark.items=t.source,t}});const U_={parity:e=>e.filter((e,i)=>i%2?e.opacity=0:1),greedy:(e,t)=>{let a;return e.filter((b,i)=>i&&q_(a.bounds,b.bounds,t)?b.opacity=0:(a=b,1))}},q_=(a,b,e)=>e>Math.max(b.x1-a.x2,a.x1-b.x2,b.y1-a.y2,a.y1-b.y2),V_=(e,t)=>{for(var b,i=1,n=e.length,a=e[0].bounds;i<n;a=b,++i)if(q_(a,b=e[i].bounds,t))return!0},J_=e=>{const b=e.bounds;return b.width()>1&&b.height()>1},G_=source=>(source.forEach(e=>e.opacity=1),source),X_=(e,t)=>e.reflow(t.modified()).modifies("opacity");function Z_(e){qa.call(this,null,e)}Object(le.z)(W_,qa,{transform(e,t){const n=U_[e.method]||U_.parity,r=e.separation||0;let o,l,source=t.materialize(t.SOURCE).source;if(!source||!source.length)return;if(!e.method)return e.modified("method")&&(G_(source),t=X_(t,e)),t;if(source=source.filter(J_),!source.length)return;if(e.sort&&(source=source.slice().sort(e.sort)),o=G_(source),t=X_(t,e),o.length>=3&&V_(o,r)){do{o=n(o,r)}while(o.length>=3&&V_(o,r));o.length<3&&!Object(le.W)(source).opacity&&(o.length>1&&(Object(le.W)(o).opacity=0),Object(le.W)(source).opacity=1)}var c,d,f,h,b;e.boundScale&&e.boundTolerance>=0&&(c=e.boundScale,d=e.boundOrient,f=+e.boundTolerance,h=c.range(),b=new _m,d===F_||"bottom"===d?b.set(h[0],-1/0,h[1],1/0):b.set(-1/0,h[0],1/0,h[1]),b.expand(f||1),l=e=>b.encloses(e.bounds),source.forEach(e=>{l(e)||(e.opacity=0)}));const m=o[0].mark.bounds.clear();return source.forEach(e=>{e.opacity&&m.union(e.bounds)}),t}}),Object(le.z)(Z_,qa,{transform(e,t){const view=t.dataflow;if(t.visit(t.ALL,e=>view.dirty(e)),t.fields&&t.fields.zindex){const e=t.source&&t.source[0];e&&(e.mark.zdirty=!0)}}});const K_=new _m;function Q_(e,t,n){return e[t]===n?0:(e[t]=n,1)}function ey(mark){var e=mark.items[0].orient;return e===P_||e===N_}function ty(view,e,t,n){var i,s,r=e.items[0],o=r.datum,l=null!=r.translate?r.translate:.5,c=r.orient,d=function(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}(o),f=r.range,h=r.offset,m=r.position,_=r.minExtent,y=r.maxExtent,title=o.title&&r.items[d[2]].items[0],v=r.titlePadding,x=r.bounds,dl=title&&ng(title),M=0,w=0;switch(K_.clear().union(x),x.clear(),(i=d[0])>-1&&x.union(r.items[i].bounds),(i=d[1])>-1&&x.union(r.items[i].bounds),c){case F_:M=m||0,w=-h,s=Math.max(_,Math.min(y,-x.y1)),x.add(0,-s).add(f,0),title&&ny(view,title,s,v,dl,0,-1,x);break;case P_:M=-h,w=m||0,s=Math.max(_,Math.min(y,-x.x1)),x.add(-s,0).add(0,f),title&&ny(view,title,s,v,dl,1,-1,x);break;case N_:M=t+h,w=m||0,s=Math.max(_,Math.min(y,x.x2)),x.add(0,0).add(s,f),title&&ny(view,title,s,v,dl,1,1,x);break;case"bottom":M=m||0,w=n+h,s=Math.max(_,Math.min(y,x.y2)),x.add(0,0).add(f,s),title&&ny(view,title,s,v,0,0,1,x);break;default:M=r.x,w=r.y}return wm(x.translate(M,w),r),Q_(r,"x",M+l)|Q_(r,"y",w+l)&&(r.bounds=K_,view.dirty(r),r.bounds=x,view.dirty(r)),r.mark.bounds.clear().union(x)}function ny(view,title,e,t,dl,n,r,o){const b=title.bounds;if(title.auto){const o=r*(e+dl+t);let l=0,c=0;view.dirty(title),n?l=(title.x||0)-(title.x=o):c=(title.y||0)-(title.y=o),title.mark.bounds.clear().union(b.translate(-l,-c)),view.dirty(title)}o.union(b)}const ry=(a,b)=>Math.floor(Math.min(a,b)),iy=(a,b)=>Math.ceil(Math.max(a,b));function ay(e){return(new _m).set(0,0,e.width||0,e.height||0)}function oy(e){const b=e.bounds.clone();return b.empty()?b.set(0,0,0,0):b.translate(-(e.x||0),-(e.y||0))}function sy(e,t,n){const r=Object(le.H)(e)?e[t]:e;return null!=r?r:void 0!==n?n:0}function ly(e){return e<0?Math.ceil(-e):0}function uy(view,e,t){var n,i,r,o,b,g,l,c,d,f,h,m=!t.nodirty,_="flush"===t.bounds?ay:oy,y=K_.set(0,0,0,0),v=sy(t.align,"column"),x=sy(t.align,H_),M=sy(t.padding,"column"),w=sy(t.padding,H_),k=t.columns||e.length,L=k<=0?1:Math.ceil(e.length/k),D=e.length,O=Array(D),j=Array(k),S=0,Y=Array(D),T=Array(L),A=0,E=Array(D),C=Array(D),F=Array(D);for(i=0;i<k;++i)j[i]=0;for(i=0;i<L;++i)T[i]=0;for(i=0;i<D;++i)g=e[i],b=F[i]=_(g),g.x=g.x||0,E[i]=0,g.y=g.y||0,C[i]=0,r=i%k,o=~~(i/k),S=Math.max(S,l=Math.ceil(b.x2)),A=Math.max(A,c=Math.ceil(b.y2)),j[r]=Math.max(j[r],l),T[o]=Math.max(T[o],c),O[i]=M+ly(b.x1),Y[i]=w+ly(b.y1),m&&view.dirty(e[i]);for(i=0;i<D;++i)i%k==0&&(O[i]=0),i<k&&(Y[i]=0);if("each"===v)for(r=1;r<k;++r){for(h=0,i=r;i<D;i+=k)h<O[i]&&(h=O[i]);for(i=r;i<D;i+=k)O[i]=h+j[r-1]}else if("all"===v){for(h=0,i=0;i<D;++i)i%k&&h<O[i]&&(h=O[i]);for(i=0;i<D;++i)i%k&&(O[i]=h+S)}else for(v=!1,r=1;r<k;++r)for(i=r;i<D;i+=k)O[i]+=j[r-1];if("each"===x)for(o=1;o<L;++o){for(h=0,n=(i=o*k)+k;i<n;++i)h<Y[i]&&(h=Y[i]);for(i=o*k;i<n;++i)Y[i]=h+T[o-1]}else if("all"===x){for(h=0,i=k;i<D;++i)h<Y[i]&&(h=Y[i]);for(i=k;i<D;++i)Y[i]=h+A}else for(x=!1,o=1;o<L;++o)for(n=(i=o*k)+k;i<n;++i)Y[i]+=T[o-1];for(d=0,i=0;i<D;++i)d=O[i]+(i%k?d:0),E[i]+=d-e[i].x;for(r=0;r<k;++r)for(f=0,i=r;i<D;i+=k)f+=Y[i],C[i]+=f-e[i].y;if(v&&sy(t.center,"column")&&L>1)for(i=0;i<D;++i)(d=(b="all"===v?S:j[i%k])-F[i].x2-e[i].x-E[i])>0&&(E[i]+=d/2);if(x&&sy(t.center,H_)&&1!==k)for(i=0;i<D;++i)(f=(b="all"===x?A:T[~~(i/k)])-F[i].y2-e[i].y-C[i])>0&&(C[i]+=f/2);for(i=0;i<D;++i)y.union(F[i].translate(E[i],C[i]));switch(d=sy(t.anchor,"x"),f=sy(t.anchor,"y"),sy(t.anchor,"column")){case z_:d-=y.width();break;case"middle":d-=y.width()/2}switch(sy(t.anchor,H_)){case z_:f-=y.height();break;case"middle":f-=y.height()/2}for(d=Math.round(d),f=Math.round(f),y.clear(),i=0;i<D;++i)e[i].mark.bounds.clear();for(i=0;i<D;++i)(g=e[i]).x+=E[i]+=d,g.y+=C[i]+=f,y.union(g.mark.bounds.union(g.bounds.translate(E[i],C[i]))),m&&view.dirty(g);return y}function cy(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function dy(e,t){return e.bounds[t]}function fy(view,e,t,n,r,o,l,c,d,f,h,m,_,y){var i,v,x,M,b,w,g,k,L,D=t.length,O=0,j=0;if(!D)return O;for(i=h;i<D;i+=m)t[i]&&(O=l(O,d(t[i],f)));if(!e.length)return O;for(e.length>r&&(view.warn("Grid headers exceed limit: "+r),e=e.slice(0,r)),O+=o,v=0,M=e.length;v<M;++v)view.dirty(e[v]),e[v].mark.bounds.clear();for(i=h,v=0,M=e.length;v<M;++v,i+=m){for(b=(w=e[v]).mark.bounds,x=i;x>=0&&null==(g=t[x]);x-=_);c?(k=null==y?g.x:Math.round(g.bounds.x1+y*g.bounds.width()),L=O):(k=O,L=null==y?g.y:Math.round(g.bounds.y1+y*g.bounds.height())),b.union(w.bounds.translate(k-(w.x||0),L-(w.y||0))),w.x=k,w.y=L,view.dirty(w),j=l(j,b[f])}return j}function hy(view,g,e,t,n,r){if(g){view.dirty(g);var o=e,l=e;t?o=Math.round(n.x1+r*n.width()):l=Math.round(n.y1+r*n.height()),g.bounds.translate(o-(g.x||0),l-(g.y||0)),g.mark.bounds.clear().union(g.bounds),g.x=o,g.y=l,view.dirty(g)}}function my(g,e,t,n,r,o,l){const c=function(e,t){const n=e[t]||{};return(t,r)=>null!=n[t]?n[t]:null!=e[t]?e[t]:r}(t,e),d=function(e,t){let n=-1/0;return e.forEach(e=>{null!=e.offset&&(n=Math.max(n,e.offset))}),n>-1/0?n:t}(g,c("offset",0)),f=c("anchor","start"),h=f===z_?1:"middle"===f?.5:0,p={align:"each",bounds:c("bounds","flush"),columns:"vertical"===c("direction")?1:g.length,padding:c("margin",8),center:c("center"),nodirty:!0};switch(e){case P_:p.anchor={x:Math.floor(n.x1)-d,column:z_,y:h*(l||n.height()+2*n.y1),row:f};break;case N_:p.anchor={x:Math.ceil(n.x2)+d,y:h*(l||n.height()+2*n.y1),row:f};break;case F_:p.anchor={y:Math.floor(r.y1)-d,row:z_,x:h*(o||r.width()+2*r.x1),column:f};break;case"bottom":p.anchor={y:Math.ceil(r.y2)+d,x:h*(o||r.width()+2*r.x1),column:f};break;case"top-left":p.anchor={x:d,y:d};break;case"top-right":p.anchor={x:o-d,y:d,column:z_};break;case"bottom-left":p.anchor={x:d,y:l-d,row:z_};break;case"bottom-right":p.anchor={x:o-d,y:l-d,column:z_,row:z_}}return p}function py(view,legend){var e,t,n=legend.items[0],r=n.datum,o=n.orient,l=n.bounds,c=n.x,d=n.y;return n._bounds?n._bounds.clear().union(l):n._bounds=l.clone(),l.clear(),function(view,e,t){var n=e.padding,r=n-t.x,o=n-t.y;if(e.datum.title){var title=e.items[1].items[0],l=title.anchor,c=e.titlePadding||0,d=n-title.x,f=n-title.y;switch(title.orient){case P_:r+=Math.ceil(title.bounds.width())+c;break;case N_:case"bottom":break;default:o+=title.bounds.height()+c}switch((r||o)&&_y(view,t,r,o),title.orient){case P_:f+=gy(e,t,title,l,1,1);break;case N_:d+=gy(e,t,title,z_,0,0)+c,f+=gy(e,t,title,l,1,1);break;case"bottom":d+=gy(e,t,title,l,0,0),f+=gy(e,t,title,z_,-1,0,1)+c;break;default:d+=gy(e,t,title,l,0,0)}(d||f)&&_y(view,title,d,f),(d=Math.round(title.bounds.x1-n))<0&&(_y(view,t,-d,0),_y(view,title,-d,0))}else(r||o)&&_y(view,t,r,o)}(view,n,n.items[0].items[0]),l=function(e,b){return e.items.forEach(e=>b.union(e.bounds)),b.x1=e.padding,b.y1=e.padding,b}(n,l),e=2*n.padding,t=2*n.padding,l.empty()||(e=Math.ceil(l.width()+e),t=Math.ceil(l.height()+t)),"symbol"===r.type&&function(e){const t=e.reduce((e,g)=>(e[g.column]=Math.max(g.bounds.x2-g.x,e[g.column]||0),e),{});e.forEach(g=>{g.width=t[g.column],g.height=g.bounds.y2-g.y})}(n.items[0].items[0].items[0].items),"none"!==o&&(n.x=c=0,n.y=d=0),n.width=e,n.height=t,wm(l.set(c,d,c+e,d+t),n),n.mark.bounds.clear().union(l),n}function gy(e,t,title,n,r,o,l){const c="symbol"!==e.datum.type,d=title.datum.vgrad,s=(!c||!o&&d||l?t:t.items[0]).bounds[r?"y2":"x2"]-e.padding,u=d&&o?s:0,f=d&&o?0:s,h=r<=0?0:ng(title);return Math.round("start"===n?u:n===z_?f-h:.5*(s-h))}function _y(view,e,t,n){e.x+=t,e.y+=n,e.bounds.translate(t,n),e.mark.bounds.translate(t,n),view.dirty(e)}function yy(e){qa.call(this,null,e)}function by(e,t){let n=0;if(void 0===t)for(let t of e)(t=+t)&&(n+=t);else{let r=-1;for(let o of e)(o=+t(o,++r,e))&&(n+=o)}return n}function vy(e){qa.call(this,null,e)}function xy(e){qa.call(this,null,e)}function My(){return ga({})}function wy(e){qa.call(this,null,e)}function ky(e){qa.call(this,[],e)}Object(le.z)(yy,qa,{transform(e,t){const view=t.dataflow;return e.mark.items.forEach(t=>{e.layout&&function(view,e,t){var n,r,o,l,c,d,f,h=function(e){var mark,t,n=e.items,r=n.length,i=0;const o={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;i<r;++i)if(t=(mark=n[i]).items,"group"===mark.marktype)switch(mark.role){case"axis":case"legend":case"title":break;case"row-header":o.rowheaders.push(...t);break;case"row-footer":o.rowfooters.push(...t);break;case"column-header":o.colheaders.push(...t);break;case"column-footer":o.colfooters.push(...t);break;case"row-title":o.rowtitle=t[0];break;case"column-title":o.coltitle=t[0];break;default:o.marks.push(...t)}return o}(e),m=h.marks,_="flush"===t.bounds?cy:dy,y=t.offset,v=t.columns||m.length,x=v<=0?1:Math.ceil(m.length/v),M=x*v;const w=uy(view,m,t);w.empty()&&w.set(0,0,0,0),h.rowheaders&&(d=sy(t.headerBand,H_,null),n=fy(view,h.rowheaders,m,v,x,-sy(y,"rowHeader"),ry,0,_,"x1",0,v,1,d)),h.colheaders&&(d=sy(t.headerBand,"column",null),r=fy(view,h.colheaders,m,v,v,-sy(y,"columnHeader"),ry,1,_,"y1",0,1,v,d)),h.rowfooters&&(d=sy(t.footerBand,H_,null),o=fy(view,h.rowfooters,m,v,x,sy(y,"rowFooter"),iy,0,_,"x2",v-1,v,1,d)),h.colfooters&&(d=sy(t.footerBand,"column",null),l=fy(view,h.colfooters,m,v,v,sy(y,"columnFooter"),iy,1,_,"y2",M-v,1,v,d)),h.rowtitle&&(c=sy(t.titleAnchor,H_),f=sy(y,"rowTitle"),f=c===z_?o+f:n-f,d=sy(t.titleBand,H_,.5),hy(view,h.rowtitle,f,0,w,d)),h.coltitle&&(c=sy(t.titleAnchor,"column"),f=sy(y,"columnTitle"),f=c===z_?l+f:r-f,d=sy(t.titleBand,"column",.5),hy(view,h.coltitle,f,1,w,d))}(view,t,e.layout),function(view,e,t){var title,mark,n,i,r,o=e.items,l=Math.max(0,e.width||0),c=Math.max(0,e.height||0),d=(new _m).set(0,0,l,c),f=d.clone(),h=d.clone(),m=[];for(i=0,r=o.length;i<r;++i)switch((mark=o[i]).role){case"axis":(ey(mark)?f:h).union(ty(view,mark,l,c));break;case"title":title=mark;break;case"legend":m.push(py(view,mark));break;case"frame":case"scope":case"row-header":case"row-footer":case"row-title":case"column-header":case"column-footer":case"column-title":f.union(mark.bounds),h.union(mark.bounds);break;default:d.union(mark.bounds)}if(m.length){const e={};m.forEach(t=>{"none"!==(n=t.orient||N_)&&(e[n]||(e[n]=[])).push(t)});for(const n in e){const g=e[n];uy(view,g,my(g,n,t.legends,f,h,l,c))}m.forEach(e=>{const b=e.bounds;if(b.equals(e._bounds)||(e.bounds=e._bounds,view.dirty(e),e.bounds=b,view.dirty(e)),t.autosize&&"fit"===t.autosize.type)switch(e.orient){case P_:case N_:d.add(b.x1,0).add(b.x2,0);break;case F_:case"bottom":d.add(0,b.y1).add(0,b.y2)}else d.union(b)})}d.union(f).union(h),title&&d.union(function(view,mark,e,t,n){var r,o=mark.items[0],l=o.frame,c=o.orient,d=o.anchor,f=o.offset,h=o.padding,title=o.items[0].items[0],m=o.items[1]&&o.items[1].items[0],_=c===P_||c===N_?t:e,y=0,v=0,x=0,M=0,w=0;if("group"!==l?c===P_?(y=n.y2,_=n.y1):c===N_?(y=n.y1,_=n.y2):(y=n.x1,_=n.x2):c===P_&&(y=t,_=0),r="start"===d?y:d===z_?_:(y+_)/2,m&&m.text){switch(c){case F_:case"bottom":w=title.bounds.height()+h;break;case P_:M=title.bounds.width()+h;break;case N_:M=-title.bounds.width()-h}K_.clear().union(m.bounds),K_.translate(M-(m.x||0),w-(m.y||0)),Q_(m,"x",M)|Q_(m,"y",w)&&(view.dirty(m),m.bounds.clear().union(K_),m.mark.bounds.clear().union(K_),view.dirty(m)),K_.clear().union(m.bounds)}else K_.clear();switch(K_.union(title.bounds),c){case F_:v=r,x=n.y1-K_.height()-f;break;case P_:v=n.x1-K_.width()-f,x=r;break;case N_:v=n.x2+K_.width()+f,x=r;break;case"bottom":v=r,x=n.y2+f;break;default:v=o.x,x=o.y}return Q_(o,"x",v)|Q_(o,"y",x)&&(K_.translate(v,x),view.dirty(o),o.bounds.clear().union(K_),mark.bounds.clear().union(K_),view.dirty(o)),o.bounds}(view,title,l,c,d));e.clip&&d.set(0,0,e.width||0,e.height||0);!function(view,e,t,n){const r=n.autosize||{},o=r.type;if(view._autosize<1||!o)return;let l=view._width,c=view._height,d=Math.max(0,e.width||0),f=Math.max(0,Math.ceil(-t.x1)),h=Math.max(0,e.height||0),m=Math.max(0,Math.ceil(-t.y1));const _=Math.max(0,Math.ceil(t.x2-d)),y=Math.max(0,Math.ceil(t.y2-h));if("padding"===r.contains){const e=view.padding();l-=e.left+e.right,c-=e.top+e.bottom}"none"===o?(f=0,m=0,d=l,h=c):"fit"===o?(d=Math.max(0,l-f-_),h=Math.max(0,c-m-y)):"fit-x"===o?(d=Math.max(0,l-f-_),c=h+m+y):"fit-y"===o?(l=d+f+_,h=Math.max(0,c-m-y)):"pad"===o&&(l=d+f+_,c=h+m+y);view._resizeView(l,c,d,h,[f,m],r.resize)}(view,e,d,t)}(view,t,e)}),(n=e.mark.group)&&"legend-entry"!==n.mark.role?t.reflow():t;var n}}),Object(le.z)(vy,qa,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=this.value,l=e.scale,c=ih(l,null==e.count?e.values?e.values.length:10:e.count,e.minstep),d=e.format||sh(n,l,c,e.formatSpecifier,e.formatType,!!e.values),f=e.values?ah(l,e.values,c):oh(l,c);return o&&(r.rem=o),o=f.map((e,i)=>ga({index:i/(f.length-1||1),value:e,label:d(e)})),e.extra&&o.length&&o.push(ga({index:-1,extra:{value:o[0].value},label:""})),r.source=o,r.add=o,this.value=o,r}}),Object(le.z)(xy,qa,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=e.item||My,l=e.key||ma,map=this.value;return Object(le.B)(r.encode)&&(r.encode=null),map&&(e.modified("key")||t.modified(l))&&Object(le.o)("DataJoin does not support modified key function or fields."),map||(t=t.addAll(),this.value=map=function(e){const map=Object(le.t)().test(e=>e.exit);return map.lookup=t=>map.get(e(t)),map}(l)),t.visit(t.ADD,e=>{const t=l(e);let n=map.get(t);n?n.exit?(map.empty--,r.add.push(n)):r.mod.push(n):(n=o(e),map.set(t,n),r.add.push(n)),n.datum=e,n.exit=!1}),t.visit(t.MOD,e=>{const t=l(e),n=map.get(t);n&&(n.datum=e,r.mod.push(n))}),t.visit(t.REM,e=>{const t=l(e),n=map.get(t);e!==n.datum||n.exit||(r.rem.push(n),n.exit=!0,++map.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&map.empty>n.cleanThreshold)&&n.runAfter(map.clean),r}}),Object(le.z)(wy,qa,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,o=e.encoders,l=t.encode;if(Object(le.B)(l)){if(!n.changed()&&!l.every(e=>o[e]))return t.StopPropagation;l=l[0],n.encode=null}var c="enter"===l,d=o.update||le.s,f=o.enter||le.s,h=o.exit||le.s,m=(l&&!c?o[l]:d)||le.s;if(t.changed(t.ADD)&&(t.visit(t.ADD,t=>{f(t,e),d(t,e)}),n.modifies(f.output),n.modifies(d.output),m!==le.s&&m!==d&&(t.visit(t.ADD,t=>{m(t,e)}),n.modifies(m.output))),t.changed(t.REM)&&h!==le.s&&(t.visit(t.REM,t=>{h(t,e)}),n.modifies(h.output)),c||m!==le.s){const o=t.MOD|(e.modified()?t.REFLOW:0);c?(t.visit(o,t=>{const o=f(t,e)||r;(m(t,e)||o)&&n.mod.push(t)}),n.mod.length&&n.modifies(f.output)):t.visit(o,t=>{(m(t,e)||r)&&n.mod.push(t)}),n.mod.length&&n.modifies(m.output)}return n.changed()?n:t.StopPropagation}}),Object(le.z)(ky,qa,{transform(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var n,r,o,l,c,d=t.dataflow.locale(),f=t.fork(t.NO_SOURCE|t.NO_FIELDS),h=this.value,m=e.type||"symbol",_=e.scale,y=+e.limit,v=ih(_,null==e.count?5:e.count,e.minstep),x=!!e.values||"symbol"===m,M=e.format||fh(d,_,v,m,e.formatSpecifier,e.formatType,x),w=e.values||dh(_,v);return h&&(f.rem=h),"symbol"===m?(y&&w.length>y?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),h=w.slice(0,y-1),c=!0):h=w,Object(le.E)(o=e.size)?(e.values||0!==_(h[0])||(h=h.slice(1)),l=h.reduce((t,n)=>Math.max(t,o(n,e)),0)):o=Object(le.m)(l=o||8),h=h.map((t,n)=>ga({index:n,label:M(t,n,h),value:t,offset:l,size:o(t,e)})),c&&(c=w[h.length],h.push(ga({index:h.length,label:"".concat(w.length-h.length," entries"),value:c,offset:l,size:o(c,e)})))):"gradient"===m?(n=_.domain(),r=Jf(_,n[0],Object(le.W)(n)),w.length<3&&!e.values&&n[0]!==Object(le.W)(n)&&(w=[n[0],Object(le.W)(n)]),h=w.map((e,t)=>ga({index:t,label:M(e,t,w),value:e,perc:r(e)}))):(o=w.length-1,r=function(e){const t=e.domain(),n=t.length-1;let r=+t[0],o=+Object(le.W)(t),span=o-r;if("threshold"===e.type){const e=n?span/n:.1;r-=e,o+=e,span=o-r}return e=>(e-r)/span}(_),h=w.map((e,t)=>ga({index:t,label:M(e,t,w),value:e,perc:t?r(e):0,perc2:t===o?1:r(w[t+1])}))),f.source=h,f.add=h,this.value=h,f}});const Ly=e=>e.source.x,Dy=e=>e.source.y,Oy=e=>e.target.x,jy=e=>e.target.y;function Sy(e){qa.call(this,{},e)}Sy.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},Object(le.z)(Sy,qa,{transform(e,t){var n=e.sourceX||Ly,r=e.sourceY||Dy,o=e.targetX||Oy,l=e.targetY||jy,c=e.as||"path",d=e.orient||"vertical",f=e.shape||"line",path=Ey.get(f+"-"+d)||Ey.get(f);return path||Object(le.o)("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,e=>{e[c]=path(n(e),r(e),o(e),l(e))}),t.reflow(e.modified()).modifies(c)}});const Yy=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,Ty=(e,t,n,r)=>{var o=n-e,l=r-t,c=Math.sqrt(o*o+l*l)/2;return"M"+e+","+t+"A"+c+","+c+" "+180*Math.atan2(l,o)/Math.PI+" 0 1 "+n+","+r},Ay=(e,t,n,r)=>{const o=n-e,l=r-t,c=.2*(o+l),d=.2*(l-o);return"M"+e+","+t+"C"+(e+c)+","+(t+d)+" "+(n+d)+","+(r-c)+" "+n+","+r},Ey=Object(le.t)({line:Yy,"line-radial":(e,t,n,tr)=>Yy(t*Math.cos(e),t*Math.sin(e),tr*Math.cos(n),tr*Math.sin(n)),arc:Ty,"arc-radial":(e,t,n,tr)=>Ty(t*Math.cos(e),t*Math.sin(e),tr*Math.cos(n),tr*Math.sin(n)),curve:Ay,"curve-radial":(e,t,n,tr)=>Ay(t*Math.cos(e),t*Math.sin(e),tr*Math.cos(n),tr*Math.sin(n)),"orthogonal-horizontal":(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,"orthogonal-vertical":(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,"orthogonal-radial":(e,t,n,tr)=>{const r=Math.cos(e),o=Math.sin(e),l=Math.cos(n),c=Math.sin(n);return"M"+t*r+","+t*o+"A"+t+","+t+" 0 0,"+((Math.abs(n-e)>Math.PI?n<=e:n>e)?1:0)+" "+t*l+","+t*c+"L"+tr*l+","+tr*c},"diagonal-horizontal":(e,t,n,r)=>{const o=(e+n)/2;return"M"+e+","+t+"C"+o+","+t+" "+o+","+r+" "+n+","+r},"diagonal-vertical":(e,t,n,r)=>{const o=(t+r)/2;return"M"+e+","+t+"C"+e+","+o+" "+n+","+o+" "+n+","+r},"diagonal-radial":(e,t,n,tr)=>{const r=Math.cos(e),o=Math.sin(e),l=Math.cos(n),c=Math.sin(n),d=(t+tr)/2;return"M"+t*r+","+t*o+"C"+d*r+","+d*o+" "+d*l+","+d*c+" "+tr*l+","+tr*c}});function Cy(e){qa.call(this,null,e)}Cy.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},Object(le.z)(Cy,qa,{transform(e,t){var i,n,r,o=e.as||["startAngle","endAngle"],l=o[0],c=o[1],d=e.field||le.Q,f=e.startAngle||0,h=null!=e.endAngle?e.endAngle:2*Math.PI,data=t.source,m=data.map(d),_=m.length,a=f,y=(h-f)/by(m),v=Ko(_);for(e.sort&&v.sort((a,b)=>m[a]-m[b]),i=0;i<_;++i)r=m[v[i]],(n=data[v[i]])[l]=a,n[c]=a+=r*y;return this.value=m,t.reflow(e.modified()).modifies(o)}});function Fy(e){return zf(e)&&"sequential"!==e}const Py=Object(le.fb)(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Ny(e){qa.call(this,null,e),this.modified(!0)}function zy(e,t,n){If(e)&&(Math.abs(t.reduce((s,e)=>s+(e<0?-1:e>0?1:0),0))!==t.length&&n.warn("Log scale domain includes zero: "+Object(le.bb)(t)));return t}function Hy(e,t,n){return Object(le.E)(e)&&(t||n)?Uf(e,Ry(t||[0,1],n)):e}function Ry(e,t){return t?e.slice().reverse():e}function Iy(e){qa.call(this,null,e)}Object(le.z)(Ny,qa,{transform(e,t){var n=t.dataflow,r=this.value,o=function(e){var t,n=e.type,r="";if("sequential"===n)return"sequential-linear";(function(e){const t=e.type;return zf(t)&&t!==Df&&t!==Of&&(e.scheme||e.range&&e.range.length&&e.range.every(le.J))})(e)&&(t=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0,r=2===t?"sequential-":3===t?"diverging-":"");return(r+n||"linear").toLowerCase()}(e);for(o in r&&o===r.type||(this.value=r=Ff(o)()),e)if(!Py[o]){if("padding"===o&&Fy(r.type))continue;Object(le.E)(r[o])?r[o](e[o]):n.warn("Unsupported scale property: "+o)}return function(e,t,n){var r=e.type,o=t.round||!1,l=t.range;if(null!=t.rangeStep)l=function(e,t,n){"band"!==e&&"point"!==e&&Object(le.o)("Only band and point scales support rangeStep.");var r=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,o="point"===e?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*kf(n,o,r)]}(r,t,n);else if(t.scheme&&(l=function(e,t,n){var r,o,l=t.schemeExtent;Object(le.B)(t.scheme)?o=qf(t.scheme,t.interpolate,t.interpolateGamma):(r=t.scheme.toLowerCase(),(o=Qf(r))||Object(le.o)("Unrecognized scheme name: ".concat(t.scheme)));return n="threshold"===e?n+1:"bin-ordinal"===e?n-1:"quantile"===e||"quantize"===e?+t.schemeCount||5:n,Bf(e)?Hy(o,l,t.reverse):Object(le.E)(o)?Vf(Hy(o,l),n):"ordinal"===e?o:o.slice(0,n)}(r,t,n),Object(le.E)(l))){if(e.interpolator)return e.interpolator(l);Object(le.o)("Scale type ".concat(r," does not support interpolating color schemes."))}if(l&&Bf(r))return e.interpolator(qf(Ry(l,t.reverse),t.interpolate,t.interpolateGamma));l&&t.interpolate&&e.interpolate?e.interpolate(Gf(t.interpolate,t.interpolateGamma)):Object(le.E)(e.round)?e.round(o):Object(le.E)(e.rangeRound)&&e.interpolate(o?Gc:Jc);l&&e.range(Ry(l,t.reverse))}(r,e,function(e,t,n){let r=t.bins;if(r&&!Object(le.B)(r)){const t=e.domain(),n=t[0],o=Object(le.W)(t),l=r.step;let c=null==r.start?n:r.start,d=null==r.stop?o:r.stop;l||Object(le.o)("Scale bins parameter missing step property."),c<n&&(c=l*Math.ceil(n/l)),d>o&&(d=l*Math.floor(o/l)),r=Ko(c,d+l/2,l)}r?e.bins=r:e.bins&&delete e.bins;"bin-ordinal"===e.type&&(r?t.domain||t.domainRaw||(e.domain(r),n=r.length):e.bins=e.domain());return n}(r,e,function(e,t,n){const r=function(e,t,n){return t?(e.domain(zy(e.type,t,n)),t.length):-1}(e,t.domainRaw,n);if(r>-1)return r;var o,l,c=t.domain,d=e.type,f=t.zero||void 0===t.zero&&function(e){const t=e.type;return!e.bins&&("linear"===t||"pow"===t||"sqrt"===t)}(e);if(!c)return 0;Fy(d)&&t.padding&&c[0]!==Object(le.W)(c)&&(c=function(e,t,n,r,o,l){var span=Math.abs(Object(le.W)(n)-n[0]),c=span/(span-2*r),d=e===Lf?Object(le.ob)(t,null,c):"sqrt"===e?Object(le.pb)(t,null,c,.5):"pow"===e?Object(le.pb)(t,null,c,o||1):"symlog"===e?Object(le.qb)(t,null,c,l||1):Object(le.nb)(t,null,c);return(t=t.slice())[0]=d[0],t[t.length-1]=d[1],t}(d,c,t.range,t.padding,t.exponent,t.constant));if((f||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(o=(c=c.slice()).length-1||1,f&&(c[0]>0&&(c[0]=0),c[o]<0&&(c[o]=0)),null!=t.domainMin&&(c[0]=t.domainMin),null!=t.domainMax&&(c[o]=t.domainMax),null!=t.domainMid)){const i=(l=t.domainMid)>c[o]?o+1:l<c[0]?0:o;i!==o&&n.warn("Scale domainMid exceeds domain min or max.",l),c.splice(i,0,l)}e.domain(zy(d,c,n)),"ordinal"===d&&e.unknown(t.domainImplicit?Vu:void 0);t.nice&&e.nice&&e.nice(!0!==t.nice&&ih(e,t.nice)||null);return c.length}(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),Object(le.z)(Iy,qa,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(va(e.sort)),this.modified(n),t}});const By=["y0","y1"];function $y(e){qa.call(this,null,e)}function Wy(e,t,n,r,o){for(var l,c=(t-e.sum)/2,d=e.length,f=0;f<d;++f)(l=e[f])[r]=c,l[o]=c+=Math.abs(n(l))}function Uy(e,t,n,r,o){for(var l,c=1/e.sum,d=0,f=e.length,h=0,m=0;h<f;++h)(l=e[h])[r]=d,l[o]=d=c*(m+=Math.abs(n(l)))}function qy(e,t,n,r,o){for(var l,c,d=0,f=0,h=e.length,m=0;m<h;++m)(l=+n(c=e[m]))<0?(c[r]=f,c[o]=f+=l):(c[r]=d,c[o]=d+=l)}$y.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,default:By}]},Object(le.z)($y,qa,{transform(e,t){var n,i,r,o,l=e.as||By,c=l[0],d=l[1],f=va(e.sort),h=e.field||le.Q,m="center"===e.offset?Wy:"normalize"===e.offset?Uy:qy;for(n=function(data,e,t,n){var map,i,r,o,l,c,g,s,d,f=[],h=e=>e(l);if(null==e)f.push(data.slice());else for(map={},i=0,r=data.length;i<r;++i)l=data[i],c=e.map(h),(g=map[c])||(map[c]=g=[],f.push(g)),g.push(l);for(c=0,d=0,o=f.length;c<o;++c){for(g=f[c],i=0,s=0,r=g.length;i<r;++i)s+=Math.abs(n(g[i]));g.sum=s,s>d&&(d=s),t&&g.sort(t)}return f.max=d,f}(t.source,e.groupby,f,h),i=0,r=n.length,o=n.max;i<r;++i)m(n[i],o,h,c,d);return t.reflow(e.modified()).modifies(l)}});var Vy=e=>e;function Jy(e,t){e&&Xy.hasOwnProperty(e.type)&&Xy[e.type](e,t)}var Gy={Feature:function(object,e){Jy(object.geometry,e)},FeatureCollection:function(object,e){for(var t=object.features,i=-1,n=t.length;++i<n;)Jy(t[i].geometry,e)}},Xy={Sphere:function(object,e){e.sphere()},Point:function(object,e){object=object.coordinates,e.point(object[0],object[1],object[2])},MultiPoint:function(object,e){for(var t=object.coordinates,i=-1,n=t.length;++i<n;)object=t[i],e.point(object[0],object[1],object[2])},LineString:function(object,e){Zy(object.coordinates,e,0)},MultiLineString:function(object,e){for(var t=object.coordinates,i=-1,n=t.length;++i<n;)Zy(t[i],e,0)},Polygon:function(object,e){Ky(object.coordinates,e)},MultiPolygon:function(object,e){for(var t=object.coordinates,i=-1,n=t.length;++i<n;)Ky(t[i],e)},GeometryCollection:function(object,e){for(var t=object.geometries,i=-1,n=t.length;++i<n;)Jy(t[i],e)}};function Zy(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function Ky(e,t){var i=-1,n=e.length;for(t.polygonStart();++i<n;)Zy(e[i],t,1);t.polygonEnd()}var Qy=function(object,e){object&&Gy.hasOwnProperty(object.type)?Gy[object.type](object,e):Jy(object,e)};class eb{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const p=this._partials;let i=0;for(let t=0;t<this._n&&t<32;t++){const n=p[t],r=e+n,o=Math.abs(e)<Math.abs(n)?e-(r-n):n-(r-e);o&&(p[i++]=o),e=r}return p[i]=e,this._n=i+1,this}valueOf(){const p=this._partials;let e,t,n,r=this._n,o=0;if(r>0){for(o=p[--r];r>0&&(e=o,t=p[--r],o=e+t,n=t-(o-e),!n););r>0&&(n<0&&p[r-1]<0||n>0&&p[r-1]>0)&&(t=2*n,e=o+t,t==e-o&&(o=e))}return o}}var tb=Math.PI,nb=tb/2,rb=tb/4,ib=2*tb,ab=180/tb,ob=tb/180,sb=Math.abs,lb=Math.atan,ub=Math.atan2,cb=Math.cos,db=Math.ceil,fb=Math.exp,hb=(Math.floor,Math.hypot),mb=Math.log,pb=Math.pow,gb=Math.sin,_b=Math.sign||function(e){return e>0?1:e<0?-1:0},yb=Math.sqrt,bb=Math.tan;function vb(e){return e>1?0:e<-1?tb:Math.acos(e)}function xb(e){return e>1?nb:e<-1?-nb:Math.asin(e)}function Mb(){}var wb,kb,Lb,Db,Ob=new eb,jb=new eb,Sb={point:Mb,lineStart:Mb,lineEnd:Mb,polygonStart:function(){Sb.lineStart=Yb,Sb.lineEnd=Eb},polygonEnd:function(){Sb.lineStart=Sb.lineEnd=Sb.point=Mb,Ob.add(sb(jb)),jb=new eb},result:function(){var area=Ob/2;return Ob=new eb,area}};function Yb(){Sb.point=Tb}function Tb(e,t){Sb.point=Ab,wb=Lb=e,kb=Db=t}function Ab(e,t){jb.add(Db*e-Lb*t),Lb=e,Db=t}function Eb(){Ab(wb,kb)}var Cb=Sb,Fb=1/0,Pb=Fb,Nb=-Fb,zb=Nb;var Hb,Rb,Ib,Bb,$b={point:function(e,t){e<Fb&&(Fb=e);e>Nb&&(Nb=e);t<Pb&&(Pb=t);t>zb&&(zb=t)},lineStart:Mb,lineEnd:Mb,polygonStart:Mb,polygonEnd:Mb,result:function(){var e=[[Fb,Pb],[Nb,zb]];return Nb=zb=-(Pb=Fb=1/0),e}},Wb=0,Ub=0,qb=0,Vb=0,Jb=0,Gb=0,Xb=0,Zb=0,Kb=0,Qb={point:ev,lineStart:tv,lineEnd:iv,polygonStart:function(){Qb.lineStart=av,Qb.lineEnd=ov},polygonEnd:function(){Qb.point=ev,Qb.lineStart=tv,Qb.lineEnd=iv},result:function(){var e=Kb?[Xb/Kb,Zb/Kb]:Gb?[Vb/Gb,Jb/Gb]:qb?[Wb/qb,Ub/qb]:[NaN,NaN];return Wb=Ub=qb=Vb=Jb=Gb=Xb=Zb=Kb=0,e}};function ev(e,t){Wb+=e,Ub+=t,++qb}function tv(){Qb.point=nv}function nv(e,t){Qb.point=rv,ev(Ib=e,Bb=t)}function rv(e,t){var n=e-Ib,r=t-Bb,o=yb(n*n+r*r);Vb+=o*(Ib+e)/2,Jb+=o*(Bb+t)/2,Gb+=o,ev(Ib=e,Bb=t)}function iv(){Qb.point=ev}function av(){Qb.point=sv}function ov(){lv(Hb,Rb)}function sv(e,t){Qb.point=lv,ev(Hb=Ib=e,Rb=Bb=t)}function lv(e,t){var n=e-Ib,r=t-Bb,o=yb(n*n+r*r);Vb+=o*(Ib+e)/2,Jb+=o*(Bb+t)/2,Gb+=o,Xb+=(o=Bb*e-Ib*t)*(Ib+e),Zb+=o*(Bb+t),Kb+=3*o,ev(Ib=e,Bb=t)}var uv=Qb;function cv(e){this._context=e}cv.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,ib)}},result:Mb};var dv,fv,hv,mv,pv,gv=new eb,_v={point:Mb,lineStart:function(){_v.point=yv},lineEnd:function(){dv&&bv(fv,hv),_v.point=Mb},polygonStart:function(){dv=!0},polygonEnd:function(){dv=null},result:function(){var e=+gv;return gv=new eb,e}};function yv(e,t){_v.point=bv,fv=mv=e,hv=pv=t}function bv(e,t){mv-=e,pv-=t,gv.add(yb(mv*mv+pv*pv)),mv=e,pv=t}var vv=_v;function xv(){this._string=[]}function Mv(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}xv.prototype={_radius:4.5,_circle:Mv(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=Mv(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var wv=function(e,t){var n,r,o=4.5;function path(object){return object&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),Qy(object,n(r))),r.result()}return path.area=function(object){return Qy(object,n(Cb)),Cb.result()},path.measure=function(object){return Qy(object,n(vv)),vv.result()},path.bounds=function(object){return Qy(object,n($b)),$b.result()},path.centroid=function(object){return Qy(object,n(uv)),uv.result()},path.projection=function(t){return arguments.length?(n=null==t?(e=null,Vy):(e=t).stream,path):e},path.context=function(e){return arguments.length?(r=null==e?(t=null,new xv):new cv(t=e),"function"!=typeof o&&r.pointRadius(o),path):t},path.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(r.pointRadius(+e),+e),path):o},path.projection(e).context(t)},kv=function(){var line,e=[];return{point:function(e,t,n){line.push([e,t,n])},lineStart:function(){e.push(line=[])},lineEnd:Mb,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var t=e;return e=[],line=null,t}}},Lv=function(a,b){return sb(a[0]-b[0])<1e-6&&sb(a[1]-b[1])<1e-6};function Dv(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var Ov=function(e,t,n,r,o){var i,l,c=[],d=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],l=e[t];if(Lv(r,l)){if(!r[2]&&!l[2]){for(o.lineStart(),i=0;i<t;++i)o.point((r=e[i])[0],r[1]);return void o.lineEnd()}l[0]+=2e-6}c.push(n=new Dv(r,e,null,!0)),d.push(n.o=new Dv(r,null,n,!1)),c.push(n=new Dv(l,e,null,!1)),d.push(n.o=new Dv(l,null,n,!0))}})),c.length){for(d.sort(t),jv(c),jv(d),i=0,l=d.length;i<l;++i)d[i].e=n=!n;for(var f,h,m=c[0];;){for(var _=m,y=!0;_.v;)if((_=_.n)===m)return;f=_.z,o.lineStart();do{if(_.v=_.o.v=!0,_.e){if(y)for(i=0,l=f.length;i<l;++i)o.point((h=f[i])[0],h[1]);else r(_.x,_.n.x,1,o);_=_.n}else{if(y)for(f=_.p.z,i=f.length-1;i>=0;--i)o.point((h=f[i])[0],h[1]);else r(_.x,_.p.x,-1,o);_=_.p}f=(_=_.o).z,y=!y}while(!_.v);o.lineEnd()}}};function jv(e){if(t=e.length){for(var t,b,i=0,a=e[0];++i<t;)a.n=b=e[i],b.p=a,a=b;a.n=b=e[0],b.p=a}}function Sv(e){return[ub(e[1],e[0]),xb(e[2])]}function Yv(e){var t=e[0],n=e[1],r=cb(n);return[r*cb(t),r*gb(t),gb(n)]}function Tv(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function Av(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function Ev(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function Cv(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Fv(e){var t=yb(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Pv(e){return sb(e[0])<=tb?e[0]:_b(e[0])*((sb(e[0])+tb)%ib-tb)}function Nv(e){return Array.from(function*(e){for(const t of e)yield*t}(e))}var zv=function(e,t,n,r){return function(o){var polygon,l,c,line=t(o),d=kv(),f=t(d),h=!1,m={point:_,lineStart:v,lineEnd:x,polygonStart:function(){m.point=M,m.lineStart=w,m.lineEnd=k,l=[],polygon=[]},polygonEnd:function(){m.point=_,m.lineStart=v,m.lineEnd=x,l=Nv(l);var e=function(polygon,e){var t=Pv(e),n=e[1],r=gb(n),o=[gb(t),-cb(t),0],l=0,c=0,d=new eb;1===r?n=nb+1e-6:-1===r&&(n=-nb-1e-6);for(var i=0,f=polygon.length;i<f;++i)if(m=(h=polygon[i]).length)for(var h,m,_=h[m-1],y=Pv(_),v=_[1]/2+rb,x=gb(v),M=cb(v),w=0;w<m;++w,y=L,x=O,M=j,_=k){var k=h[w],L=Pv(k),D=k[1]/2+rb,O=gb(D),j=cb(D),S=L-y,Y=S>=0?1:-1,T=Y*S,A=T>tb,E=x*O;if(d.add(ub(E*Y*gb(T),M*j+E*cb(T))),l+=A?S+Y*ib:S,A^y>=t^L>=t){var C=Av(Yv(_),Yv(k));Fv(C);var F=Av(o,C);Fv(F);var P=(A^S>=0?-1:1)*xb(F[2]);(n>P||n===P&&(C[0]||C[1]))&&(c+=A^S>=0?1:-1)}}return(l<-1e-6||l<1e-6&&d<-1e-12)^1&c}(polygon,r);l.length?(h||(o.polygonStart(),h=!0),Ov(l,Rv,e,n,o)):e&&(h||(o.polygonStart(),h=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),h&&(o.polygonEnd(),h=!1),l=polygon=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function _(t,n){e(t,n)&&o.point(t,n)}function y(e,t){line.point(e,t)}function v(){m.point=y,line.lineStart()}function x(){m.point=_,line.lineEnd()}function M(e,t){c.push([e,t]),f.point(e,t)}function w(){f.lineStart(),c=[]}function k(){M(c[0][0],c[0][1]),f.lineEnd();var i,e,t,n,r=f.clean(),m=d.result(),_=m.length;if(c.pop(),polygon.push(c),c=null,_)if(1&r){if((e=(t=m[0]).length-1)>0){for(h||(o.polygonStart(),h=!0),o.lineStart(),i=0;i<e;++i)o.point((n=t[i])[0],n[1]);o.lineEnd()}}else _>1&&2&r&&m.push(m.pop().concat(m.shift())),l.push(m.filter(Hv))}return m}};function Hv(e){return e.length>1}function Rv(a,b){return((a=a.x)[0]<0?a[1]-nb-1e-6:nb-a[1])-((b=b.x)[0]<0?b[1]-nb-1e-6:nb-b[1])}var Iv=zv((function(){return!0}),(function(e){var t,n=NaN,r=NaN,o=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(l,c){var d=l>0?tb:-tb,f=sb(l-n);sb(f-tb)<1e-6?(e.point(n,r=(r+c)/2>0?nb:-nb),e.point(o,r),e.lineEnd(),e.lineStart(),e.point(d,r),e.point(l,r),t=0):o!==d&&f>=tb&&(sb(n-o)<1e-6&&(n-=1e-6*o),sb(l-d)<1e-6&&(l-=1e-6*d),r=function(e,t,n,r){var o,l,c=gb(e-n);return sb(c)>1e-6?lb((gb(t)*(l=cb(r))*gb(n)-gb(r)*(o=cb(t))*gb(e))/(o*l*c)):(t+r)/2}(n,r,l,c),e.point(o,r),e.lineEnd(),e.lineStart(),e.point(d,r),t=0),e.point(n=l,r=c),o=d},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var o;if(null==e)o=n*nb,r.point(-tb,o),r.point(0,o),r.point(tb,o),r.point(tb,0),r.point(tb,-o),r.point(0,-o),r.point(-tb,-o),r.point(-tb,0),r.point(-tb,o);else if(sb(e[0]-t[0])>1e-6){var l=e[0]<t[0]?tb:-tb;o=n*l/2,r.point(-l,o),r.point(0,o),r.point(l,o)}else r.point(t[0],t[1])}),[-tb,-nb]);var Bv=function(a,b){function e(e,t){return e=a(e,t),b(e[0],e[1])}return a.invert&&b.invert&&(e.invert=function(e,t){return(e=b.invert(e,t))&&a.invert(e[0],e[1])}),e};function $v(e,t){return[sb(e)>tb?e+Math.round(-e/ib)*ib:e,t]}function Wv(e,t,n){return(e%=ib)?t||n?Bv(qv(e),Vv(t,n)):qv(e):t||n?Vv(t,n):$v}function Uv(e){return function(t,n){return[(t+=e)>tb?t-ib:t<-tb?t+ib:t,n]}}function qv(e){var t=Uv(e);return t.invert=Uv(-e),t}function Vv(e,t){var n=cb(e),r=gb(e),o=cb(t),l=gb(t);function c(e,t){var c=cb(t),d=cb(e)*c,f=gb(e)*c,h=gb(t),m=h*n+d*r;return[ub(f*o-m*l,d*n-h*r),xb(m*o+f*l)]}return c.invert=function(e,t){var c=cb(t),d=cb(e)*c,f=gb(e)*c,h=gb(t),m=h*o-f*l;return[ub(f*o+h*l,d*n+m*r),xb(m*n-d*r)]},c}$v.invert=$v;function Jv(e,t,n,r,o,l){if(n){var c=cb(t),d=gb(t),f=r*n;null==o?(o=t+r*ib,l=t-f/2):(o=Gv(c,o),l=Gv(c,l),(r>0?o<l:o>l)&&(o+=r*ib));for(var h,m=o;r>0?m>l:m<l;m-=f)h=Sv([c,-d*cb(m),-d*gb(m)]),e.point(h[0],h[1])}}function Gv(e,t){(t=Yv(t))[0]-=e,Fv(t);var n=vb(-t[1]);return((-t[2]<0?-n:n)+ib-1e-6)%ib}var Xv=function(e){var t=cb(e),n=6*ob,r=t>0,o=sb(t)>1e-6;function l(e,n){return cb(e)*cb(n)>t}function c(a,b,e){var n=[1,0,0],r=Av(Yv(a),Yv(b)),o=Tv(r,r),l=r[0],c=o-l*l;if(!c)return!e&&a;var d=t*o/c,f=-t*l/c,h=Av(n,r),m=Cv(n,d);Ev(m,Cv(r,f));var u=h,_=Tv(m,u),y=Tv(u,u),v=_*_-y*(Tv(m,m)-1);if(!(v<0)){var x=yb(v),q=Cv(u,(-_-x)/y);if(Ev(q,m),q=Sv(q),!e)return q;var M,w=a[0],k=b[0],L=a[1],D=b[1];k<w&&(M=w,w=k,k=M);var O=k-w,j=sb(O-tb)<1e-6;if(!j&&D<L&&(M=L,L=D,D=M),j||O<1e-6?j?L+D>0^q[1]<(sb(q[0]-w)<1e-6?L:D):L<=q[1]&&q[1]<=D:O>tb^(w<=q[0]&&q[0]<=k)){var S=Cv(u,(-_+x)/y);return Ev(S,m),[q,Sv(S)]}}}function code(t,n){var o=r?e:tb-e,code=0;return t<-o?code|=1:t>o&&(code|=2),n<-o?code|=4:n>o&&(code|=8),code}return zv(l,(function(e){var t,n,d,f,h;return{lineStart:function(){f=d=!1,h=1},point:function(m,_){var y,v=[m,_],x=l(m,_),M=r?x?0:code(m,_):x?code(m+(m<0?tb:-tb),_):0;if(!t&&(f=d=x)&&e.lineStart(),x!==d&&(!(y=c(t,v))||Lv(t,y)||Lv(v,y))&&(v[2]=1),x!==d)h=0,x?(e.lineStart(),y=c(v,t),e.point(y[0],y[1])):(y=c(t,v),e.point(y[0],y[1],2),e.lineEnd()),t=y;else if(o&&t&&r^x){var w;M&n||!(w=c(v,t,!0))||(h=0,r?(e.lineStart(),e.point(w[0][0],w[0][1]),e.point(w[1][0],w[1][1]),e.lineEnd()):(e.point(w[1][0],w[1][1]),e.lineEnd(),e.lineStart(),e.point(w[0][0],w[0][1],3)))}!x||t&&Lv(t,v)||e.point(v[0],v[1]),t=v,d=x,n=M},lineEnd:function(){d&&e.lineEnd(),t=null},clean:function(){return h|(f&&d)<<1}}}),(function(t,r,o,l){Jv(l,e,n,o,t,r)}),r?[0,-e]:[-tb,e-tb])};function Zv(e,t,n,r){function o(o,l){return e<=o&&o<=n&&t<=l&&l<=r}function l(o,l,d,h){var a=0,m=0;if(null==o||(a=c(o,d))!==(m=c(l,d))||f(o,l)<0^d>0)do{h.point(0===a||3===a?e:n,a>1?r:t)}while((a=(a+d+4)%4)!==m);else h.point(l[0],l[1])}function c(p,r){return sb(p[0]-e)<1e-6?r>0?0:3:sb(p[0]-n)<1e-6?r>0?2:1:sb(p[1]-t)<1e-6?r>0?1:0:r>0?3:2}function d(a,b){return f(a.x,b.x)}function f(a,b){var e=c(a,1),t=c(b,1);return e!==t?e-t:0===e?b[1]-a[1]:1===e?a[0]-b[0]:2===e?a[1]-b[1]:b[0]-a[0]}return function(c){var f,polygon,h,m,_,y,v,x,M,w,k,L=c,D=kv(),O={point:j,lineStart:function(){O.point=S,polygon&&polygon.push(h=[]);w=!0,M=!1,v=x=NaN},lineEnd:function(){f&&(S(m,_),y&&M&&D.rejoin(),f.push(D.result()));O.point=j,M&&L.lineEnd()},polygonStart:function(){L=D,f=[],polygon=[],k=!0},polygonEnd:function(){var t=function(){for(var t=0,i=0,n=polygon.length;i<n;++i)for(var o,l,c=polygon[i],d=1,f=c.length,h=c[0],m=h[0],_=h[1];d<f;++d)o=m,l=_,h=c[d],m=h[0],_=h[1],l<=r?_>r&&(m-o)*(r-l)>(_-l)*(e-o)&&++t:_<=r&&(m-o)*(r-l)<(_-l)*(e-o)&&--t;return t}(),n=k&&t,o=(f=Nv(f)).length;(n||o)&&(c.polygonStart(),n&&(c.lineStart(),l(null,null,1,c),c.lineEnd()),o&&Ov(f,d,t,l,c),c.polygonEnd());L=c,f=polygon=h=null}};function j(e,t){o(e,t)&&L.point(e,t)}function S(l,c){var d=o(l,c);if(polygon&&h.push([l,c]),w)m=l,_=c,y=d,w=!1,d&&(L.lineStart(),L.point(l,c));else if(d&&M)L.point(l,c);else{var a=[v=Math.max(-1e9,Math.min(1e9,v)),x=Math.max(-1e9,Math.min(1e9,x))],b=[l=Math.max(-1e9,Math.min(1e9,l)),c=Math.max(-1e9,Math.min(1e9,c))];!function(a,b,e,t,n,r){var o,l=a[0],c=a[1],d=0,f=1,h=b[0]-l,m=b[1]-c;if(o=e-l,h||!(o>0)){if(o/=h,h<0){if(o<d)return;o<f&&(f=o)}else if(h>0){if(o>f)return;o>d&&(d=o)}if(o=n-l,h||!(o<0)){if(o/=h,h<0){if(o>f)return;o>d&&(d=o)}else if(h>0){if(o<d)return;o<f&&(f=o)}if(o=t-c,m||!(o>0)){if(o/=m,m<0){if(o<d)return;o<f&&(f=o)}else if(m>0){if(o>f)return;o>d&&(d=o)}if(o=r-c,m||!(o<0)){if(o/=m,m<0){if(o>f)return;o>d&&(d=o)}else if(m>0){if(o<d)return;o<f&&(f=o)}return d>0&&(a[0]=l+d*h,a[1]=c+d*m),f<1&&(b[0]=l+f*h,b[1]=c+f*m),!0}}}}}(a,b,e,t,n,r)?d&&(L.lineStart(),L.point(l,c),k=!1):(M||(L.lineStart(),L.point(a[0],a[1])),L.point(b[0],b[1]),d||L.lineEnd(),k=!1)}v=l,x=c,M=d}return O}}function Kv(e){return function(t){var s=new Qv;for(var n in e)s[n]=e[n];return s.stream=t,s}}function Qv(){}function ex(e,t,object){var n=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=n&&e.clipExtent(null),Qy(object,e.stream($b)),t($b.result()),null!=n&&e.clipExtent(n),e}function tx(e,t,object){return ex(e,(function(b){var n=t[1][0]-t[0][0],r=t[1][1]-t[0][1],o=Math.min(n/(b[1][0]-b[0][0]),r/(b[1][1]-b[0][1])),l=+t[0][0]+(n-o*(b[1][0]+b[0][0]))/2,c=+t[0][1]+(r-o*(b[1][1]+b[0][1]))/2;e.scale(150*o).translate([l,c])}),object)}function nx(e,t,object){return tx(e,[[0,0],t],object)}function rx(e,t,object){return ex(e,(function(b){var n=+t,r=n/(b[1][0]-b[0][0]),o=(n-r*(b[1][0]+b[0][0]))/2,l=-r*b[0][1];e.scale(150*r).translate([o,l])}),object)}function ix(e,t,object){return ex(e,(function(b){var n=+t,r=n/(b[1][1]-b[0][1]),o=-r*b[0][0],l=(n-r*(b[1][1]+b[0][1]))/2;e.scale(150*r).translate([o,l])}),object)}Qv.prototype={constructor:Qv,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ax=cb(30*ob),ox=function(e,t){return+t?function(e,t){function n(r,o,l,c,d,f,h,m,_,y,v,x,M,w){var k=h-r,L=m-o,D=k*k+L*L;if(D>4*t&&M--){var a=c+y,b=d+v,O=f+x,j=yb(a*a+b*b+O*O),S=xb(O/=j),Y=sb(sb(O)-1)<1e-6||sb(l-_)<1e-6?(l+_)/2:ub(b,a),p=e(Y,S),T=p[0],A=p[1],E=T-r,C=A-o,F=L*E-k*C;(F*F/D>t||sb((k*E+L*C)/D-.5)>.3||c*y+d*v+f*x<ax)&&(n(r,o,l,c,d,f,T,A,Y,a/=j,b/=j,O,M,w),w.point(T,A),n(T,A,Y,a,b,O,h,m,_,y,v,x,M,w))}}return function(t){var r,o,l,c,d,f,h,m,_,y,v,x,M={point:w,lineStart:k,lineEnd:D,polygonStart:function(){t.polygonStart(),M.lineStart=O},polygonEnd:function(){t.polygonEnd(),M.lineStart=k}};function w(n,r){n=e(n,r),t.point(n[0],n[1])}function k(){m=NaN,M.point=L,t.lineStart()}function L(r,o){var l=Yv([r,o]),p=e(r,o);n(m,_,h,y,v,x,m=p[0],_=p[1],h=r,y=l[0],v=l[1],x=l[2],16,t),t.point(m,_)}function D(){M.point=w,t.lineEnd()}function O(){k(),M.point=j,M.lineEnd=S}function j(e,t){L(r=e,t),o=m,l=_,c=y,d=v,f=x,M.point=L}function S(){n(m,_,h,y,v,x,o,l,r,c,d,f,16,t),M.lineEnd=D,D()}return M}}(e,t):function(e){return Kv({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)};var sx=Kv({point:function(e,t){this.stream.point(e*ob,t*ob)}});function lx(e,t,n,r,o,l){if(!l)return function(e,t,n,r,o){function l(l,c){return[t+e*(l*=r),n-e*(c*=o)]}return l.invert=function(l,c){return[(l-t)/e*r,(n-c)/e*o]},l}(e,t,n,r,o);var c=cb(l),d=gb(l),a=c*e,b=d*e,f=c/e,h=d/e,m=(d*n-c*t)/e,_=(d*t+c*n)/e;function y(e,l){return[a*(e*=r)-b*(l*=o)+t,n-b*e-a*l]}return y.invert=function(e,t){return[r*(f*e-h*t+m),o*(_-h*e-f*t)]},y}function ux(e){return cx((function(){return e}))()}function cx(e){var t,n,r,o,l,c,d,f,h,m,_=150,y=480,v=250,x=0,M=0,w=0,k=0,L=0,D=0,O=1,j=1,S=null,Y=Iv,T=null,A=Vy,E=.5;function C(e){return f(e[0]*ob,e[1]*ob)}function F(e){return(e=f.invert(e[0],e[1]))&&[e[0]*ab,e[1]*ab]}function P(){var e=lx(_,0,0,O,j,D).apply(null,t(x,M)),r=lx(_,y-e[0],v-e[1],O,j,D);return n=Wv(w,k,L),d=Bv(t,r),f=Bv(n,d),c=ox(d,E),N()}function N(){return h=m=null,C}return C.stream=function(e){return h&&m===e?h:h=sx(function(e){return Kv({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(Y(c(A(m=e)))))},C.preclip=function(e){return arguments.length?(Y=e,S=void 0,N()):Y},C.postclip=function(e){return arguments.length?(A=e,T=r=o=l=null,N()):A},C.clipAngle=function(e){return arguments.length?(Y=+e?Xv(S=e*ob):(S=null,Iv),N()):S*ab},C.clipExtent=function(e){return arguments.length?(A=null==e?(T=r=o=l=null,Vy):Zv(T=+e[0][0],r=+e[0][1],o=+e[1][0],l=+e[1][1]),N()):null==T?null:[[T,r],[o,l]]},C.scale=function(e){return arguments.length?(_=+e,P()):_},C.translate=function(e){return arguments.length?(y=+e[0],v=+e[1],P()):[y,v]},C.center=function(e){return arguments.length?(x=e[0]%360*ob,M=e[1]%360*ob,P()):[x*ab,M*ab]},C.rotate=function(e){return arguments.length?(w=e[0]%360*ob,k=e[1]%360*ob,L=e.length>2?e[2]%360*ob:0,P()):[w*ab,k*ab,L*ab]},C.angle=function(e){return arguments.length?(D=e%360*ob,P()):D*ab},C.reflectX=function(e){return arguments.length?(O=e?-1:1,P()):O<0},C.reflectY=function(e){return arguments.length?(j=e?-1:1,P()):j<0},C.precision=function(e){return arguments.length?(c=ox(d,E=e*e),N()):yb(E)},C.fitExtent=function(e,object){return tx(C,e,object)},C.fitSize=function(e,object){return nx(C,e,object)},C.fitWidth=function(e,object){return rx(C,e,object)},C.fitHeight=function(e,object){return ix(C,e,object)},function(){return t=e.apply(this,arguments),C.invert=t.invert&&F,P()}}function dx(e){var t=0,n=tb/3,r=cx(e),p=r(t,n);return p.parallels=function(e){return arguments.length?r(t=e[0]*ob,n=e[1]*ob):[t*ab,n*ab]},p}function fx(e,t){var n=gb(e),r=(n+gb(t))/2;if(sb(r)<1e-6)return function(e){var t=cb(e);function n(e,n){return[e*t,gb(n)/t]}return n.invert=function(e,n){return[e/t,xb(n*t)]},n}(e);var o=1+n*(2*r-n),l=yb(o)/r;function c(e,t){var n=yb(o-2*r*gb(t))/r;return[n*gb(e*=r),l-n*cb(e)]}return c.invert=function(e,t){var n=l-t,c=ub(e,sb(n))*_b(n);return n*r<0&&(c-=tb*_b(e)*_b(n)),[c/r,xb((o-(e*e+n*n)*r*r)/(2*r))]},c}var hx=function(){return dx(fx).scale(155.424).center([0,33.6442])},mx=function(){return hx().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};function px(e){return function(t,n){var r=cb(t),o=cb(n),l=e(r*o);return l===1/0?[2,0]:[l*o*gb(t),l*gb(n)]}}function gx(e){return function(t,n){var r=yb(t*t+n*n),o=e(r),l=gb(o),c=cb(o);return[ub(t*l,r*c),xb(r&&n*l/r)]}}var _x=px((function(e){return yb(2/(1+e))}));_x.invert=gx((function(e){return 2*xb(e/2)}));var yx=px((function(e){return(e=vb(e))&&e/gb(e)}));yx.invert=gx((function(e){return e}));function bx(e,t){return[e,mb(bb((nb+t)/2))]}bx.invert=function(e,t){return[e,2*lb(fb(t))-nb]};function vx(e){var t,n,r,o=ux(e),l=o.center,c=o.scale,d=o.translate,f=o.clipExtent,h=null;function m(){var l=tb*c(),d=o(function(e){function t(t){return(t=e(t[0]*ob,t[1]*ob))[0]*=ab,t[1]*=ab,t}return e=Wv(e[0]*ob,e[1]*ob,e.length>2?e[2]*ob:0),t.invert=function(t){return(t=e.invert(t[0]*ob,t[1]*ob))[0]*=ab,t[1]*=ab,t},t}(o.rotate()).invert([0,0]));return f(null==h?[[d[0]-l,d[1]-l],[d[0]+l,d[1]+l]]:e===bx?[[Math.max(d[0]-l,h),t],[Math.min(d[0]+l,n),r]]:[[h,Math.max(d[1]-l,t)],[n,Math.min(d[1]+l,r)]])}return o.scale=function(e){return arguments.length?(c(e),m()):c()},o.translate=function(e){return arguments.length?(d(e),m()):d()},o.center=function(e){return arguments.length?(l(e),m()):l()},o.clipExtent=function(e){return arguments.length?(null==e?h=t=n=r=null:(h=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),m()):null==h?null:[[h,t],[n,r]]},m()}function xx(e){return bb((nb+e)/2)}function Mx(e,t){var n=cb(e),r=e===t?gb(e):mb(n/cb(t))/mb(xx(t)/xx(e)),o=n*pb(xx(e),r)/r;if(!r)return bx;function l(e,t){o>0?t<1e-6-nb&&(t=1e-6-nb):t>nb-1e-6&&(t=nb-1e-6);var n=o/pb(xx(t),r);return[n*gb(r*e),o-n*cb(r*e)]}return l.invert=function(e,t){var n=o-t,l=_b(r)*yb(e*e+n*n),c=ub(e,sb(n))*_b(n);return n*r<0&&(c-=tb*_b(e)*_b(n)),[c/r,2*lb(pb(o/l,1/r))-nb]},l}function wx(e,t){return[e,t]}wx.invert=wx;function kx(e,t){var n=cb(e),r=e===t?gb(e):(n-cb(t))/(t-e),g=n/r+e;if(sb(r)<1e-6)return wx;function o(e,t){var n=g-t,o=r*e;return[n*gb(o),g-n*cb(o)]}return o.invert=function(e,t){var n=g-t,o=ub(e,sb(n))*_b(n);return n*r<0&&(o-=tb*_b(e)*_b(n)),[o/r,g-_b(r)*yb(e*e+n*n)]},o}var Lx=1.340264,Dx=-.081106,Ox=893e-6,jx=.003796,Sx=yb(3)/2;function Yx(e,t){var n=xb(Sx*gb(t)),r=n*n,o=r*r*r;return[e*cb(n)/(Sx*(Lx+3*Dx*r+o*(7*Ox+9*jx*r))),n*(Lx+Dx*r+o*(Ox+jx*r))]}Yx.invert=function(e,t){for(var n,r=t,o=r*r,l=o*o*o,i=0;i<12&&(l=(o=(r-=n=(r*(Lx+Dx*o+l*(Ox+jx*o))-t)/(Lx+3*Dx*o+l*(7*Ox+9*jx*o)))*r)*o*o,!(sb(n)<1e-12));++i);return[Sx*e*(Lx+3*Dx*o+l*(7*Ox+9*jx*o))/cb(r),xb(gb(r)/Sx)]};function Tx(e,t){var n=cb(t),r=cb(e)*n;return[n*gb(e)/r,gb(t)/r]}Tx.invert=gx(lb);function Ax(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}Ax.invert=function(e,t){var n,r=t,i=25;do{var o=r*r,l=o*o;r-=n=(r*(1.007226+o*(.015085+l*(.028874*o-.044475-.005916*l)))-t)/(1.007226+o*(.045255+l*(.259866*o-.311325-.005916*11*l)))}while(sb(n)>1e-6&&--i>0);return[e/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};function Ex(e,t){return[cb(t)*gb(e),gb(t)]}Ex.invert=gx(xb);function Cx(e,t){var n=cb(t),r=1+cb(e)*n;return[n*gb(e)/r,gb(t)/r]}Cx.invert=gx((function(e){return 2*lb(e)}));function Fx(e,t){return[mb(bb((nb+t)/2)),-e]}Fx.invert=function(e,t){return[-t,2*lb(fb(e))-nb]};var Px=Math.abs,Nx=(Math.atan,Math.atan2,Math.ceil,Math.cos),zx=(Math.exp,Math.floor,Math.log,Math.max,Math.min,Math.pow,Math.round,Math.sign,Math.sin),Hx=(Math.tan,Math.PI),Rx=Hx/2,Ix=(Math.SQRT1_2,$x(2));$x(Hx);function Bx(e){return e>1?Rx:e<-1?-Rx:Math.asin(e)}function $x(e){return e>0?Math.sqrt(e):0}function Wx(e,t){var n,r=e*zx(t),i=30;do{t-=n=(t+zx(t)-r)/(1+Nx(t))}while(Px(n)>1e-6&&--i>0);return t/2}var Ux=function(e,t,n){function r(r,o){return[e*r*Nx(o=Wx(n,o)),t*zx(o)]}return r.invert=function(r,o){return o=Bx(o/t),[r/(e*Nx(o)),Bx((2*o+zx(2*o))/n)]},r}(Ix/Rx,Ix,Hx);const qx=wv(),Vx=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function Jx(e,t){return function n(){const p=t();return p.type=e,p.path=wv().projection(p),p.copy=p.copy||function(){const e=n();return Vx.forEach(t=>{p[t]&&e[t](p[t]())}),e.path.pointRadius(p.path.pointRadius()),e},p}}function Gx(e,t){if(!e||"string"!=typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(Zx[e]=Jx(e,t),this):Zx[e]||null}function Xx(e){return e&&e.path||qx}const Zx={albers:mx,albersusa:function(){var e,t,n,r,o,l,c=mx(),d=hx().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=hx().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(e,t){l=[e,t]}};function m(e){var t=e[0],c=e[1];return l=null,n.point(t,c),l||(r.point(t,c),l)||(o.point(t,c),l)}function _(){return e=t=null,m}return m.invert=function(e){var t=c.scale(),n=c.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?d:o>=.166&&o<.234&&r>=-.214&&r<-.115?f:c).invert(e)},m.stream=function(n){return e&&t===n?e:(r=[c.stream(t=n),d.stream(n),f.stream(n)],o=r.length,e={point:function(e,t){for(var i=-1;++i<o;)r[i].point(e,t)},sphere:function(){for(var i=-1;++i<o;)r[i].sphere()},lineStart:function(){for(var i=-1;++i<o;)r[i].lineStart()},lineEnd:function(){for(var i=-1;++i<o;)r[i].lineEnd()},polygonStart:function(){for(var i=-1;++i<o;)r[i].polygonStart()},polygonEnd:function(){for(var i=-1;++i<o;)r[i].polygonEnd()}});var r,o},m.precision=function(e){return arguments.length?(c.precision(e),d.precision(e),f.precision(e),_()):c.precision()},m.scale=function(e){return arguments.length?(c.scale(e),d.scale(.35*e),f.scale(e),m.translate(c.translate())):c.scale()},m.translate=function(e){if(!arguments.length)return c.translate();var t=c.scale(),l=+e[0],m=+e[1];return n=c.translate(e).clipExtent([[l-.455*t,m-.238*t],[l+.455*t,m+.238*t]]).stream(h),r=d.translate([l-.307*t,m+.201*t]).clipExtent([[l-.425*t+1e-6,m+.12*t+1e-6],[l-.214*t-1e-6,m+.234*t-1e-6]]).stream(h),o=f.translate([l-.205*t,m+.212*t]).clipExtent([[l-.214*t+1e-6,m+.166*t+1e-6],[l-.115*t-1e-6,m+.234*t-1e-6]]).stream(h),_()},m.fitExtent=function(e,object){return tx(m,e,object)},m.fitSize=function(e,object){return nx(m,e,object)},m.fitWidth=function(e,object){return rx(m,e,object)},m.fitHeight=function(e,object){return ix(m,e,object)},m.scale(1070)},azimuthalequalarea:function(){return ux(_x).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return ux(yx).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return dx(Mx).scale(109.5).parallels([30,30])},conicequalarea:hx,conicequidistant:function(){return dx(kx).scale(131.154).center([0,13.9389])},equalEarth:function(){return ux(Yx).scale(177.158)},equirectangular:function(){return ux(wx).scale(152.63)},gnomonic:function(){return ux(Tx).scale(144.049).clipAngle(60)},identity:function(){var e,t,n,r,o,l,c,d=1,f=0,h=0,m=1,_=1,y=0,v=null,x=1,M=1,w=Kv({point:function(e,t){var p=D([e,t]);this.stream.point(p[0],p[1])}}),k=Vy;function L(){return x=d*m,M=d*_,l=c=null,D}function D(p){var n=p[0]*x,r=p[1]*M;if(y){var o=r*e-n*t;n=n*e+r*t,r=o}return[n+f,r+h]}return D.invert=function(p){var n=p[0]-f,r=p[1]-h;if(y){var o=r*e+n*t;n=n*e-r*t,r=o}return[n/x,r/M]},D.stream=function(e){return l&&c===e?l:l=w(k(c=e))},D.postclip=function(e){return arguments.length?(k=e,v=n=r=o=null,L()):k},D.clipExtent=function(e){return arguments.length?(k=null==e?(v=n=r=o=null,Vy):Zv(v=+e[0][0],n=+e[0][1],r=+e[1][0],o=+e[1][1]),L()):null==v?null:[[v,n],[r,o]]},D.scale=function(e){return arguments.length?(d=+e,L()):d},D.translate=function(e){return arguments.length?(f=+e[0],h=+e[1],L()):[f,h]},D.angle=function(n){return arguments.length?(t=gb(y=n%360*ob),e=cb(y),L()):y*ab},D.reflectX=function(e){return arguments.length?(m=e?-1:1,L()):m<0},D.reflectY=function(e){return arguments.length?(_=e?-1:1,L()):_<0},D.fitExtent=function(e,object){return tx(D,e,object)},D.fitSize=function(e,object){return nx(D,e,object)},D.fitWidth=function(e,object){return rx(D,e,object)},D.fitHeight=function(e,object){return ix(D,e,object)},D},mercator:function(){return vx(bx).scale(961/ib)},mollweide:function(){return ux(Ux).scale(169.529)},naturalEarth1:function(){return ux(Ax).scale(175.295)},orthographic:function(){return ux(Ex).scale(249.5).clipAngle(90.000001)},stereographic:function(){return ux(Cx).scale(250).clipAngle(142)},transversemercator:function(){var e=vx(Fx),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)}};for(const e in Zx)Gx(e,Zx[e]);function Kx(e,t,n){var r=Ko(e,t-1e-6,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function Qx(e,t,n){var r=Ko(e,t-1e-6,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function eM(){var e,t,n,r,o,l,c,d,f,h,m,_,y=10,v=y,x=90,M=360,w=2.5;function k(){return{type:"MultiLineString",coordinates:L()}}function L(){return Ko(db(r/x)*x,n,x).map(m).concat(Ko(db(d/M)*M,c,M).map(_)).concat(Ko(db(t/y)*y,e,y).filter((function(e){return sb(e%x)>1e-6})).map(f)).concat(Ko(db(l/v)*v,o,v).filter((function(e){return sb(e%M)>1e-6})).map(h))}return k.lines=function(){return L().map((function(e){return{type:"LineString",coordinates:e}}))},k.outline=function(){return{type:"Polygon",coordinates:[m(r).concat(_(c).slice(1),m(n).reverse().slice(1),_(d).reverse().slice(1))]}},k.extent=function(e){return arguments.length?k.extentMajor(e).extentMinor(e):k.extentMinor()},k.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],d=+e[0][1],c=+e[1][1],r>n&&(e=r,r=n,n=e),d>c&&(e=d,d=c,c=e),k.precision(w)):[[r,d],[n,c]]},k.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],l=+n[0][1],o=+n[1][1],t>e&&(n=t,t=e,e=n),l>o&&(n=l,l=o,o=n),k.precision(w)):[[t,l],[e,o]]},k.step=function(e){return arguments.length?k.stepMajor(e).stepMinor(e):k.stepMinor()},k.stepMajor=function(e){return arguments.length?(x=+e[0],M=+e[1],k):[x,M]},k.stepMinor=function(e){return arguments.length?(y=+e[0],v=+e[1],k):[y,v]},k.precision=function(y){return arguments.length?(w=+y,f=Kx(l,o,90),h=Qx(t,e,w),m=Kx(d,c,90),_=Qx(r,n,w),k):w},k.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function tM(){}const nM=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function rM(){var e=1,t=1,n=c;function r(e,t){return t.map(t=>o(e,t))}function o(r,o){var c=[],d=[];return function(n,r,o){var c,d,f,h,m,_,y=new Array,v=new Array;c=d=-1,h=n[0]>=r,nM[h<<1].forEach(x);for(;++c<e-1;)f=h,h=n[c+1]>=r,nM[f|h<<1].forEach(x);nM[h<<0].forEach(x);for(;++d<t-1;){for(c=-1,h=n[d*e+e]>=r,m=n[d*e]>=r,nM[h<<1|m<<2].forEach(x);++c<e-1;)f=h,h=n[d*e+e+c+1]>=r,_=m,m=n[d*e+c+1]>=r,nM[f|h<<1|m<<2|_<<3].forEach(x);nM[h|m<<3].forEach(x)}c=-1,m=n[d*e]>=r,nM[m<<2].forEach(x);for(;++c<e-1;)_=m,m=n[d*e+c+1]>=r,nM[m<<2|_<<3].forEach(x);function x(line){var e,g,t=[line[0][0]+c,line[0][1]+d],n=[line[1][0]+c,line[1][1]+d],r=l(t),f=l(n);(e=v[r])?(g=y[f])?(delete v[e.end],delete y[g.start],e===g?(e.ring.push(n),o(e.ring)):y[e.start]=v[g.end]={start:e.start,end:g.end,ring:e.ring.concat(g.ring)}):(delete v[e.end],e.ring.push(n),v[e.end=f]=e):(e=y[f])?(g=v[r])?(delete y[e.start],delete v[g.end],e===g?(e.ring.push(n),o(e.ring)):y[g.start]=v[e.end]={start:g.start,end:e.end,ring:g.ring.concat(e.ring)}):(delete y[e.start],e.ring.unshift(t),y[e.start=r]=e):y[r]=v[f]={start:r,end:f,ring:[t,n]}}nM[m<<3].forEach(x)}(r,o,e=>{n(e,r,o),function(e){var i=0,t=e.length,area=e[t-1][1]*e[0][0]-e[t-1][0]*e[0][1];for(;++i<t;)area+=e[i-1][1]*e[i][0]-e[i-1][0]*e[i][1];return area}(e)>0?c.push([e]):d.push(e)}),d.forEach(e=>{for(var polygon,i=0,t=c.length;i<t;++i)if(-1!==iM((polygon=c[i])[0],e))return void polygon.push(e)}),{type:"MultiPolygon",value:o,coordinates:c}}function l(t){return 2*t[0]+t[1]*(e+1)*4}function c(n,r,o){n.forEach(n=>{var l,c=n[0],d=n[1],f=0|c,h=0|d,m=r[h*e+f];c>0&&c<e&&f===c&&(l=r[h*e+f-1],n[0]=c+(o-l)/(m-l)-.5),d>0&&d<t&&h===d&&(l=r[(h-1)*e+f],n[1]=d+(o-l)/(m-l)-.5)})}return r.contour=o,r.size=function(n){if(!arguments.length)return[e,t];var o=Math.floor(n[0]),l=Math.floor(n[1]);return o>=0&&l>=0||Object(le.o)("invalid size"),e=o,t=l,r},r.smooth=function(e){return arguments.length?(n=e?c:tM,r):n===c},r}function iM(e,t){for(var n,i=-1,r=t.length;++i<r;)if(n=aM(e,t[i]))return n;return 0}function aM(e,t){for(var n=t[0],r=t[1],o=-1,i=0,l=e.length,c=l-1;i<l;c=i++){var d=e[i],f=d[0],h=d[1],m=e[c],_=m[0],y=m[1];if(oM(d,m,t))return 0;h>r!=y>r&&n<(_-f)*(r-h)/(y-h)+f&&(o=-o)}return o}function oM(a,b,e){var i,p,q,t;return function(a,b,e){return(b[0]-a[0])*(e[1]-a[1])==(e[0]-a[0])*(b[1]-a[1])}(a,b,e)&&(p=a[i=+(a[0]===b[0])],q=e[i],t=b[i],p<=q&&q<=t||t<=q&&q<=p)}function sM(e,t,n){return function(r){var o=Object(le.q)(r),l=n?Math.min(o[0],0):o[0],c=o[1],span=c-l,d=t?Qe(l,c,e):span/(e+1);return Ko(l+d,c,d)}}function lM(e){qa.call(this,null,e)}function uM(e,t,n,r,o){const l=e.x1||0,c=e.y1||0,d=t*n<0;function f(e){e.forEach(h)}function h(e){d&&e.reverse(),e.forEach(m)}function m(e){e[0]=(e[0]-l)*t+r,e[1]=(e[1]-c)*n+o}return function(e){return e.coordinates.forEach(f),e}}function cM(e,data,t){const n=e>=0?e:oo(data,t);return Math.round((Math.sqrt(4*n*n+1)-1)/2)}function dM(e){return Object(le.E)(e)?e:Object(le.m)(+e)}function fM(){var e=e=>e[0],t=e=>e[1],n=le.Q,r=[-1,-1],o=960,l=500,c=2;function d(data,d){const f=cM(r[0],data,e)>>c,h=cM(r[1],data,t)>>c,m=f?f+2:0,_=h?h+2:0,y=2*m+(o>>c),v=2*_+(l>>c),x=new Float32Array(y*v),M=new Float32Array(y*v);let w=x;data.forEach(r=>{const o=m+(+e(r)>>c),l=_+(+t(r)>>c);o>=0&&o<y&&l>=0&&l<v&&(x[o+l*y]+=+n(r))}),f>0&&h>0?(hM(y,v,x,M,f),mM(y,v,M,x,h),hM(y,v,x,M,f),mM(y,v,M,x,h),hM(y,v,x,M,f),mM(y,v,M,x,h)):f>0?(hM(y,v,x,M,f),hM(y,v,M,x,f),hM(y,v,x,M,f),w=M):h>0&&(mM(y,v,x,M,h),mM(y,v,M,x,h),mM(y,v,x,M,h),w=M);const s=d?Math.pow(2,-2*c):1/by(w);for(let i=0,e=y*v;i<e;++i)w[i]*=s;return{values:w,scale:1<<c,width:y,height:v,x1:m,y1:_,x2:m+(o>>c),y2:_+(l>>c)}}return d.x=function(t){return arguments.length?(e=dM(t),d):e},d.y=function(e){return arguments.length?(t=dM(e),d):t},d.weight=function(e){return arguments.length?(n=dM(e),d):n},d.size=function(e){if(!arguments.length)return[o,l];var t=+e[0],n=+e[1];return t>=0&&n>=0||Object(le.o)("invalid size"),o=t,l=n,d},d.cellSize=function(e){return arguments.length?((e=+e)>=1||Object(le.o)("invalid cell size"),c=Math.floor(Math.log(e)/Math.LN2),d):1<<c},d.bandwidth=function(e){return arguments.length?(1===(e=Object(le.i)(e)).length&&(e=[+e[0],+e[0]]),2!==e.length&&Object(le.o)("invalid bandwidth"),r=e,d):r},d}function hM(e,t,source,n,r){const o=1+(r<<1);for(let l=0;l<t;++l)for(let i=0,t=0;i<e+r;++i)i<e&&(t+=source[i+l*e]),i>=r&&(i>=o&&(t-=source[i-o+l*e]),n[i-r+l*e]=t/Math.min(i+1,e-1+o-i,o))}function mM(e,t,source,n,r){const o=1+(r<<1);for(let i=0;i<e;++i)for(let l=0,c=0;l<t+r;++l)l<t&&(c+=source[i+l*e]),l>=r&&(l>=o&&(c-=source[i+(l-o)*e]),n[i+(l-r)*e]=c/Math.min(l+1,t-1+o-l,o))}function pM(e){qa.call(this,null,e)}lM.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},Object(le.z)(lM,qa,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),source=t.materialize(t.SOURCE).source,r=e.field||le.y,o=rM().smooth(!1!==e.smooth),l=e.thresholds||function(e,t,n){const q=sM(n.levels||10,n.nice,!1!==n.zero);return"shared"!==n.resolve?q:q(e.map(e=>Xa(t(e).values)))}(source,r,e),c=null===e.as?null:e.as||"contour",d=[];return source.forEach(t=>{const n=r(t),f=o.size([n.width,n.height])(n.values,Object(le.B)(l)?l:l(n.values));!function(e,t,n,r){let s=r.scale||t.scale,o=r.translate||t.translate;Object(le.E)(s)&&(s=s(n,r));Object(le.E)(o)&&(o=o(n,r));if((1===s||null==s)&&!o)return;const l=(Object(le.G)(s)?s:s[0])||1,c=(Object(le.G)(s)?s:s[1])||1,d=o&&o[0]||0,f=o&&o[1]||0;e.forEach(uM(t,l,c,d,f))}(f,n,t,e),f.forEach(p=>{d.push(ya(t,ga(null!=c?{[c]:p}:p)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=d,n}}),pM.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const gM=["x","y","weight","size","cellSize","bandwidth"];function _M(e,t){return gM.forEach(param=>null!=t[param]?e[param](t[param]):0),e}function yM(e){qa.call(this,null,e)}Object(le.z)(pM,qa,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=function(data,e){var map,i,t,n,r,g,o=[],l=e=>e(n);if(null==e)o.push(data);else for(map={},i=0,t=data.length;i<t;++i)n=data[i],r=e.map(l),(g=map[r])||(map[r]=g=[],g.dims=r,o.push(g)),g.push(n);return o}(t.materialize(t.SOURCE).source,e.groupby),l=(e.groupby||[]).map(le.h),c=_M(fM(),e),d=e.as||"grid";return n=o.map(g=>ga(function(e,t){for(let i=0;i<l.length;++i)e[l[i]]=t[i];return e}({[d]:c(g,e.counts)},g.dims))),this.value&&(r.rem=this.value),this.value=r.source=r.add=n,r}}),yM.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},Object(le.z)(yM,qa,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,r,o=t.fork(t.NO_SOURCE|t.NO_FIELDS),l=rM().smooth(!1!==e.smooth),c=e.values,d=e.thresholds||sM(e.count||10,e.nice,!!c),f=e.size;return c||(c=t.materialize(t.SOURCE).source,r=uM(n=_M(fM(),e)(c,!0),n.scale||1,n.scale||1,0,0),f=[n.width,n.height],c=n.values),d=Object(le.B)(d)?d:d(c),c=l.size(f)(c,d),r&&c.forEach(r),this.value&&(o.rem=this.value),this.value=o.source=o.add=(c||[]).map(ga),o}});function bM(e){qa.call(this,null,e)}function vM(e){qa.call(this,null,e)}function xM(e){qa.call(this,null,e)}function MM(e){qa.call(this,null,e)}function wM(e){qa.call(this,[],e),this.generator=eM()}function kM(e){qa.call(this,null,e)}function LM(e){if(!Object(le.E)(e))return!1;const t=Object(le.fb)(Object(le.g)(e));return t.$x||t.$y||t.$value||t.$max}function DM(e){qa.call(this,null,e),this.modified(!0)}function OM(e,t,n){Object(le.E)(e[t])&&e[t](n)}bM.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},Object(le.z)(bM,qa,{transform(e,t){var n,r=this._features,o=this._points,l=e.fields,c=l&&l[0],d=l&&l[1],f=e.geojson||!l&&le.y,h=t.ADD;n=e.modified()||t.changed(t.REM)||t.modified(Object(le.g)(f))||c&&t.modified(Object(le.g)(c))||d&&t.modified(Object(le.g)(d)),this.value&&!n||(h=t.SOURCE,this._features=r=[],this._points=o=[]),f&&t.visit(h,e=>r.push(f(e))),c&&d&&(t.visit(h,e=>{var t=c(e),n=d(e);null!=t&&null!=n&&(t=+t)===t&&(n=+n)===n&&o.push([t,n])}),r=r.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:o}})),this.value={type:"FeatureCollection",features:r}}}),vM.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},Object(le.z)(vM,qa,{transform(e,t){var n=t.fork(t.ALL),path=this.value,r=e.field||le.y,o=e.as||"path",l=n.SOURCE;!path||e.modified()?(this.value=path=Xx(e.projection),n.materialize().reflow()):l=r===le.y||t.modified(r.fields)?n.ADD_MOD:n.ADD;const c=function(path,e){const t=path.pointRadius();path.context(null),null!=e&&path.pointRadius(e);return t}(path,e.pointRadius);return n.visit(l,e=>e[o]=path(r(e))),path.pointRadius(c),n.modifies(o)}}),xM.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},Object(le.z)(xM,qa,{transform(e,t){var n,r=e.projection,o=e.fields[0],l=e.fields[1],c=e.as||["x","y"],d=c[0],f=c[1];function h(e){const t=r([o(e),l(e)]);t?(e[d]=t[0],e[f]=t[1]):(e[d]=void 0,e[f]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,h):(n=t.modified(o.fields)||t.modified(l.fields),t.visit(n?t.ADD_MOD:t.ADD,h)),t.modifies(c)}}),MM.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},Object(le.z)(MM,qa,{transform(e,t){var n=t.fork(t.ALL),r=this.value,o=e.as||"shape",l=n.ADD;return r&&!e.modified()||(this.value=r=function(path,e,t){const n=null==t?t=>path(e(t)):n=>{var r=path.pointRadius(),o=path.pointRadius(t)(e(n));return path.pointRadius(r),o};return n.context=e=>(path.context(e),n),n}(Xx(e.projection),e.field||Object(le.u)("datum"),e.pointRadius),n.materialize().reflow(),l=n.SOURCE),n.visit(l,e=>e[o]=r),n.modifies(o)}}),wM.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},Object(le.z)(wM,qa,{transform(e,t){var n,r=this.value,o=this.generator;if(!r.length||e.modified())for(const t in e)Object(le.E)(o[t])&&o[t](e[t]);return n=o(),r.length?t.mod.push(ba(r[0],n)):t.add.push(ga(n)),r[0]=n,t}}),kM.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},Object(le.z)(kM,qa,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var source=t.materialize(t.SOURCE).source,n="shared"===e.resolve,r=e.field||le.y,o=function(e,t){let n;Object(le.E)(e)?(n=n=>e(n,t),n.dep=LM(e)):e?n=Object(le.m)(e):(n=e=>e.$value/e.$max||0,n.dep=!0);return n}(e.opacity,e),l=function(e,t){let n;Object(le.E)(e)?(n=n=>gc(e(n,t)),n.dep=LM(e)):n=Object(le.m)(gc(e||"#888"));return n}(e.color,e),c=e.as||"image",d={$x:0,$y:0,$value:0,$max:n?Xa(source.map(e=>Xa(r(e).values))):0};return source.forEach(e=>{const t=r(e),f=Object(le.p)({},e,d);n||(f.$max=Xa(t.values||[])),e[c]=function(e,t,n,r){const o=e.width,l=e.height,c=e.x1||0,d=e.y1||0,f=e.x2||o,h=e.y2||l,m=e.values,_=m?i=>m[i]:le.mb,y=Hu(f-c,h-d),v=y.getContext("2d"),img=v.getImageData(0,0,f-c,h-d),x=img.data;for(let e=d,l=0;e<h;++e){t.$y=e-d;for(let i=c,d=e*o;i<f;++i,l+=4){t.$x=i-c,t.$value=_(i+d);const e=n(t);x[l+0]=e.r,x[l+1]=e.g,x[l+2]=e.b,x[l+3]=~~(255*r(t))}}return v.putImageData(img,0,0),y}(t,f,l.dep?l:Object(le.m)(l(f)),o.dep?o:Object(le.m)(o(f)))}),t.reflow(!0).modifies(c)}}),Object(le.z)(DM,qa,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=function(e){const t=Gx((e||"mercator").toLowerCase());t||Object(le.o)("Unrecognized projection type: "+e);return t()}(e.type),Vx.forEach(t=>{null!=e[t]&&OM(n,t,e[t])})):Vx.forEach(t=>{e.modified(t)&&OM(n,t,e[t])}),null!=e.pointRadius&&n.path.pointRadius(e.pointRadius),e.fit&&function(e,t){const data=function(data){return 1===(data=Object(le.i)(data)).length?data[0]:{type:"FeatureCollection",features:data.reduce((a,e)=>a.concat(function(e){return"FeatureCollection"===e.type?e.features:Object(le.i)(e).filter(e=>null!=e).map(e=>"Feature"===e.type?e:{type:"Feature",geometry:e})}(e)),[])}}(t.fit);t.extent?e.fitExtent(t.extent,data):t.size&&e.fitSize(t.size,data)}(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function jM(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var o,l,c,d,f,h,m,i,_,y=e._root,v={data:r},x=e._x0,M=e._y0,w=e._x1,k=e._y1;if(!y)return e._root=v,e;for(;y.length;)if((h=t>=(l=(x+w)/2))?x=l:w=l,(m=n>=(c=(M+k)/2))?M=c:k=c,o=y,!(y=y[i=m<<1|h]))return o[i]=v,e;if(d=+e._x.call(null,y.data),f=+e._y.call(null,y.data),t===d&&n===f)return v.next=y,o?o[i]=v:e._root=v,e;do{o=o?o[i]=new Array(4):e._root=new Array(4),(h=t>=(l=(x+w)/2))?x=l:w=l,(m=n>=(c=(M+k)/2))?M=c:k=c}while((i=m<<1|h)==(_=(f>=c)<<1|d>=l));return o[_]=y,o[i]=v,e}var SM=function(e,t,n,r,o){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=o};function YM(e){return e[0]}function TM(e){return e[1]}function AM(e,t,n){var r=new EM(null==t?YM:t,null==n?TM:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function EM(e,t,n,r,o,l){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=o,this._y1=l,this._root=void 0}function CM(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var FM=AM.prototype=EM.prototype;FM.copy=function(){var e,t,n=new EM(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=CM(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=CM(t));return n},FM.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return jM(this.cover(t,n),t,n,e)},FM.addAll=function(data){var e,i,t,n,r=data.length,o=new Array(r),l=new Array(r),c=1/0,d=1/0,f=-1/0,h=-1/0;for(i=0;i<r;++i)isNaN(t=+this._x.call(null,e=data[i]))||isNaN(n=+this._y.call(null,e))||(o[i]=t,l[i]=n,t<c&&(c=t),t>f&&(f=t),n<d&&(d=n),n>h&&(h=n));if(c>f||d>h)return this;for(this.cover(c,d).cover(f,h),i=0;i<r;++i)jM(this,o[i],l[i],data[i]);return this},FM.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,o=this._x1,l=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,l=(r=Math.floor(t))+1;else{for(var c,i,d=o-n||1,f=this._root;n>e||e>=o||r>t||t>=l;)switch(i=(t<r)<<1|e<n,(c=new Array(4))[i]=f,f=c,d*=2,i){case 0:o=n+d,l=r+d;break;case 1:n=o-d,l=r+d;break;case 2:o=n+d,r=l-d;break;case 3:n=o-d,r=l-d}this._root&&this._root.length&&(this._root=f)}return this._x0=n,this._y0=r,this._x1=o,this._y1=l,this},FM.data=function(){var data=[];return this.visit((function(e){if(!e.length)do{data.push(e.data)}while(e=e.next)})),data},FM.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},FM.find=function(e,t,n){var data,r,o,l,c,q,i,d=this._x0,f=this._y0,h=this._x1,m=this._y1,_=[],y=this._root;for(y&&_.push(new SM(y,d,f,h,m)),null==n?n=1/0:(d=e-n,f=t-n,h=e+n,m=t+n,n*=n);q=_.pop();)if(!(!(y=q.node)||(r=q.x0)>h||(o=q.y0)>m||(l=q.x1)<d||(c=q.y1)<f))if(y.length){var v=(r+l)/2,x=(o+c)/2;_.push(new SM(y[3],v,x,l,c),new SM(y[2],r,x,v,c),new SM(y[1],v,o,l,x),new SM(y[0],r,o,v,x)),(i=(t>=x)<<1|e>=v)&&(q=_[_.length-1],_[_.length-1]=_[_.length-1-i],_[_.length-1-i]=q)}else{var M=e-+this._x.call(null,y.data),w=t-+this._y.call(null,y.data),k=M*M+w*w;if(k<n){var L=Math.sqrt(n=k);d=e-L,f=t-L,h=e+L,m=t+L,data=y.data}}return data},FM.remove=function(e){if(isNaN(l=+this._x.call(null,e))||isNaN(c=+this._y.call(null,e)))return this;var t,n,r,o,l,c,d,f,h,m,i,_,y=this._root,v=this._x0,x=this._y0,M=this._x1,w=this._y1;if(!y)return this;if(y.length)for(;;){if((h=l>=(d=(v+M)/2))?v=d:M=d,(m=c>=(f=(x+w)/2))?x=f:w=f,t=y,!(y=y[i=m<<1|h]))return this;if(!y.length)break;(t[i+1&3]||t[i+2&3]||t[i+3&3])&&(n=t,_=i)}for(;y.data!==e;)if(r=y,!(y=y.next))return this;return(o=y.next)&&delete y.next,r?(o?r.next=o:delete r.next,this):t?(o?t[i]=o:delete t[i],(y=t[0]||t[1]||t[2]||t[3])&&y===(t[3]||t[2]||t[1]||t[0])&&!y.length&&(n?n[_]=y:this._root=y),this):(this._root=o,this)},FM.removeAll=function(data){for(var i=0,e=data.length;i<e;++i)this.remove(data[i]);return this},FM.root=function(){return this._root},FM.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},FM.visit=function(e){var q,t,n,r,o,l,c=[],d=this._root;for(d&&c.push(new SM(d,this._x0,this._y0,this._x1,this._y1));q=c.pop();)if(!e(d=q.node,n=q.x0,r=q.y0,o=q.x1,l=q.y1)&&d.length){var f=(n+o)/2,h=(r+l)/2;(t=d[3])&&c.push(new SM(t,f,h,o,l)),(t=d[2])&&c.push(new SM(t,n,h,f,l)),(t=d[1])&&c.push(new SM(t,f,r,o,h)),(t=d[0])&&c.push(new SM(t,n,r,f,h))}return this},FM.visitAfter=function(e){var q,t=[],n=[];for(this._root&&t.push(new SM(this._root,this._x0,this._y0,this._x1,this._y1));q=t.pop();){var r=q.node;if(r.length){var o,l=q.x0,c=q.y0,d=q.x1,f=q.y1,h=(l+d)/2,m=(c+f)/2;(o=r[0])&&t.push(new SM(o,l,c,h,m)),(o=r[1])&&t.push(new SM(o,h,c,d,m)),(o=r[2])&&t.push(new SM(o,l,m,h,f)),(o=r[3])&&t.push(new SM(o,h,m,d,f))}n.push(q)}for(;q=n.pop();)e(q.node,q.x0,q.y0,q.x1,q.y1);return this},FM.x=function(e){return arguments.length?(this._x=e,this):this._x},FM.y=function(e){return arguments.length?(this._y=e,this):this._y};var PM=function(e){return function(){return e}},NM=function(e){return 1e-6*(e()-.5)};function zM(e){return e.x+e.vx}function HM(e){return e.y+e.vy}var RM={value:()=>{}};function IM(){for(var e,i=0,t=arguments.length,n={};i<t;++i){if(!(e=arguments[i]+"")||e in n||/[\s.]/.test(e))throw new Error("illegal type: "+e);n[e]=[]}return new BM(n)}function BM(e){this._=e}function $M(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",i=e.indexOf(".");if(i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function WM(e,t){for(var n,i=0,r=e.length;i<r;++i)if((n=e[i]).name===t)return n.value}function UM(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=RM,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}BM.prototype=IM.prototype={constructor:BM,on:function(e,t){var n,r=this._,o=$M(e+"",r),i=-1,l=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<l;)if(n=(e=o[i]).type)r[n]=UM(r[n],e.name,t);else if(null==t)for(n in r)r[n]=UM(r[n],e.name,null);return this}for(;++i<l;)if((n=(e=o[i]).type)&&(n=WM(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new BM(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var qM,VM,JM=IM,GM=0,XM=0,ZM=0,KM=0,QM=0,ew=0,tw="object"==typeof performance&&performance.now?performance:Date,nw="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function rw(){return QM||(nw(iw),QM=tw.now()+ew)}function iw(){QM=0}function aw(){this._call=this._time=this._next=null}function ow(e,t,time){var n=new aw;return n.restart(e,t,time),n}function sw(){QM=(KM=tw.now())+ew,GM=XM=0;try{!function(){rw(),++GM;for(var e,t=qM;t;)(e=QM-t._time)>=0&&t._call.call(null,e),t=t._next;--GM}()}finally{GM=0,function(){var e,t,n=qM,time=1/0;for(;n;)n._call?(time>n._time&&(time=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:qM=t);VM=e,uw(time)}(),QM=0}}function lw(){var e=tw.now(),t=e-KM;t>1e3&&(ew-=t,KM=e)}function uw(time){GM||(XM&&(XM=clearTimeout(XM)),time-QM>24?(time<1/0&&(XM=setTimeout(sw,time-tw.now()-ew)),ZM&&(ZM=clearInterval(ZM))):(ZM||(KM=tw.now(),ZM=setInterval(lw,1e3)),GM=1,nw(sw)))}aw.prototype=ow.prototype={constructor:aw,restart:function(e,t,time){if("function"!=typeof e)throw new TypeError("callback is not a function");time=(null==time?rw():+time)+(null==t?0:+t),this._next||VM===this||(VM?VM._next=this:qM=this,VM=this),this._call=e,this._time=time,uw()},stop:function(){this._call&&(this._call=null,this._time=1/0,uw())}};function cw(e){return e.x}function dw(e){return e.y}var fw=Math.PI*(3-Math.sqrt(5));function hw(e){return e.index}function mw(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}const pw={center:function(e,t){var n,r=1;function o(){var i,o,l=n.length,c=0,d=0;for(i=0;i<l;++i)c+=(o=n[i]).x,d+=o.y;for(c=(c/l-e)*r,d=(d/l-t)*r,i=0;i<l;++i)(o=n[i]).x-=c,o.y-=d}return null==e&&(e=0),null==t&&(t=0),o.initialize=function(e){n=e},o.x=function(t){return arguments.length?(e=+t,o):e},o.y=function(e){return arguments.length?(t=+e,o):t},o.strength=function(e){return arguments.length?(r=+e,o):r},o},collide:function(e){var t,n,r,o=1,l=1;function c(){for(var i,e,c,f,h,m,_,y=t.length,v=0;v<l;++v)for(e=AM(t,zM,HM).visitAfter(d),i=0;i<y;++i)c=t[i],m=n[c.index],_=m*m,f=c.x+c.vx,h=c.y+c.vy,e.visit(x);function x(e,t,n,l,d){var data=e.data,y=e.r,v=m+y;if(!data)return t>f+v||l<f-v||n>h+v||d<h-v;if(data.index>c.index){var x=f-data.x-data.vx,M=h-data.y-data.vy,w=x*x+M*M;w<v*v&&(0===x&&(w+=(x=NM(r))*x),0===M&&(w+=(M=NM(r))*M),w=(v-(w=Math.sqrt(w)))/w*o,c.vx+=(x*=w)*(v=(y*=y)/(_+y)),c.vy+=(M*=w)*v,data.vx-=x*(v=1-v),data.vy-=M*v)}}}function d(e){if(e.data)return e.r=n[e.data.index];for(var i=e.r=0;i<4;++i)e[i]&&e[i].r>e.r&&(e.r=e[i].r)}function f(){if(t){var i,r,o=t.length;for(n=new Array(o),i=0;i<o;++i)r=t[i],n[r.index]=+e(r,i,t)}}return"function"!=typeof e&&(e=PM(null==e?1:+e)),c.initialize=function(e,n){t=e,r=n,f()},c.iterations=function(e){return arguments.length?(l=+e,c):l},c.strength=function(e){return arguments.length?(o=+e,c):o},c.radius=function(t){return arguments.length?(e="function"==typeof t?t:PM(+t),f(),c):e},c},nbody:function(){var e,t,n,r,o,l=PM(-30),c=1,d=1/0,f=.81;function h(n){var i,o=e.length,l=AM(e,cw,dw).visitAfter(_);for(r=n,i=0;i<o;++i)t=e[i],l.visit(y)}function m(){if(e){var i,t,n=e.length;for(o=new Array(n),i=0;i<n;++i)t=e[i],o[t.index]=+l(t,i,e)}}function _(e){var q,t,n,r,i,l=0,c=0;if(e.length){for(n=r=i=0;i<4;++i)(q=e[i])&&(t=Math.abs(q.value))&&(l+=q.value,c+=t,n+=t*q.x,r+=t*q.y);e.x=n/c,e.y=r/c}else{(q=e).x=q.data.x,q.y=q.data.y;do{l+=o[q.data.index]}while(q=q.next)}e.value=l}function y(e,l,h,m){if(!e.value)return!0;var _=e.x-t.x,y=e.y-t.y,v=m-l,x=_*_+y*y;if(v*v/f<x)return x<d&&(0===_&&(x+=(_=NM(n))*_),0===y&&(x+=(y=NM(n))*y),x<c&&(x=Math.sqrt(c*x)),t.vx+=_*e.value*r/x,t.vy+=y*e.value*r/x),!0;if(!(e.length||x>=d)){(e.data!==t||e.next)&&(0===_&&(x+=(_=NM(n))*_),0===y&&(x+=(y=NM(n))*y),x<c&&(x=Math.sqrt(c*x)));do{e.data!==t&&(v=o[e.data.index]*r/x,t.vx+=_*v,t.vy+=y*v)}while(e=e.next)}}return h.initialize=function(t,r){e=t,n=r,m()},h.strength=function(e){return arguments.length?(l="function"==typeof e?e:PM(+e),m(),h):l},h.distanceMin=function(e){return arguments.length?(c=e*e,h):Math.sqrt(c)},h.distanceMax=function(e){return arguments.length?(d=e*e,h):Math.sqrt(d)},h.theta=function(e){return arguments.length?(f=e*e,h):Math.sqrt(f)},h},link:function(e){var t,n,r,o,l,c,d=hw,f=function(link){return 1/Math.min(o[link.source.index],o[link.target.index])},h=PM(30),m=1;function _(r){for(var o=0,d=e.length;o<m;++o)for(var link,source,f,h,_,y,b,i=0;i<d;++i)source=(link=e[i]).source,h=(f=link.target).x+f.vx-source.x-source.vx||NM(c),_=f.y+f.vy-source.y-source.vy||NM(c),h*=y=((y=Math.sqrt(h*h+_*_))-n[i])/y*r*t[i],_*=y,f.vx-=h*(b=l[i]),f.vy-=_*b,source.vx+=h*(b=1-b),source.vy+=_*b}function y(){if(r){var i,link,c=r.length,f=e.length,h=new Map(r.map((e,i)=>[d(e,i,r),e]));for(i=0,o=new Array(c);i<f;++i)(link=e[i]).index=i,"object"!=typeof link.source&&(link.source=mw(h,link.source)),"object"!=typeof link.target&&(link.target=mw(h,link.target)),o[link.source.index]=(o[link.source.index]||0)+1,o[link.target.index]=(o[link.target.index]||0)+1;for(i=0,l=new Array(f);i<f;++i)link=e[i],l[i]=o[link.source.index]/(o[link.source.index]+o[link.target.index]);t=new Array(f),v(),n=new Array(f),x()}}function v(){if(r)for(var i=0,n=e.length;i<n;++i)t[i]=+f(e[i],i,e)}function x(){if(r)for(var i=0,t=e.length;i<t;++i)n[i]=+h(e[i],i,e)}return null==e&&(e=[]),_.initialize=function(e,t){r=e,c=t,y()},_.links=function(t){return arguments.length?(e=t,y(),_):e},_.id=function(e){return arguments.length?(d=e,_):d},_.iterations=function(e){return arguments.length?(m=+e,_):m},_.strength=function(e){return arguments.length?(f="function"==typeof e?e:PM(+e),v(),_):f},_.distance=function(e){return arguments.length?(h="function"==typeof e?e:PM(+e),x(),_):h},_},x:function(e){var t,n,r,o=PM(.1);function l(e){for(var o,i=0,l=t.length;i<l;++i)(o=t[i]).vx+=(r[i]-o.x)*n[i]*e}function c(){if(t){var i,l=t.length;for(n=new Array(l),r=new Array(l),i=0;i<l;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+o(t[i],i,t)}}return"function"!=typeof e&&(e=PM(null==e?0:+e)),l.initialize=function(e){t=e,c()},l.strength=function(e){return arguments.length?(o="function"==typeof e?e:PM(+e),c(),l):o},l.x=function(t){return arguments.length?(e="function"==typeof t?t:PM(+t),c(),l):e},l},y:function(e){var t,n,r,o=PM(.1);function l(e){for(var o,i=0,l=t.length;i<l;++i)(o=t[i]).vy+=(r[i]-o.y)*n[i]*e}function c(){if(t){var i,l=t.length;for(n=new Array(l),r=new Array(l),i=0;i<l;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+o(t[i],i,t)}}return"function"!=typeof e&&(e=PM(null==e?0:+e)),l.initialize=function(e){t=e,c()},l.strength=function(e){return arguments.length?(o="function"==typeof e?e:PM(+e),c(),l):o},l.y=function(t){return arguments.length?(e="function"==typeof t?t:PM(+t),c(),l):e},l}},gw=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],_w=["static","iterations"],yw=["x","y","vx","vy"];function bw(e){qa.call(this,null,e)}function vw(e,t,n,r){var i,o,p,l,c=Object(le.i)(t.forces);for(i=0,o=gw.length;i<o;++i)"forces"!==(p=gw[i])&&t.modified(p)&&e[p](t[p]);for(i=0,o=c.length;i<o;++i)l="forces"+i,(p=n||t.modified("forces",i)?Mw(c[i]):r&&xw(c[i],r)?e.force(l):null)&&e.force(l,p);for(o=e.numForces||0;i<o;++i)e.force("forces"+i,null);return e.numForces=c.length,e}function xw(e,t){var n,r;for(n in e)if(Object(le.E)(r=e[n])&&t.modified(Object(le.g)(r)))return 1;return 0}function Mw(e){var t,p;for(p in Object(le.w)(pw,e.force)||Object(le.o)("Unrecognized force: "+e.force),t=pw[e.force](),e)Object(le.E)(t[p])&&ww(t[p],e[p],e);return t}function ww(e,t,n){e(Object(le.E)(t)?e=>t(e,n):t)}function kw(e){var t=0,n=e.children,i=n&&n.length;if(i)for(;--i>=0;)t+=n[i].value;else t=1;e.value=t}bw.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:yw}]},Object(le.z)(bw,qa,{transform(e,t){var n,r,o=this.value,l=t.changed(t.ADD_REM),c=e.modified(gw),d=e.iterations||300;if(o?(l&&(t.modifies("index"),o.nodes(t.source)),(c||t.changed(t.MOD))&&vw(o,e,0,t)):(this.value=o=function(e,t){const n=function(e){var t,n=1,r=.001,o=1-Math.pow(r,1/300),l=0,c=.6,d=new Map,f=ow(_),h=JM("tick","end"),m=function(){let s=1;return()=>(s=(1664525*s+1013904223)%4294967296)/4294967296}();function _(){y(),h.call("tick",t),n<r&&(f.stop(),h.call("end",t))}function y(r){var i,f,h=e.length;void 0===r&&(r=1);for(var m=0;m<r;++m)for(n+=(l-n)*o,d.forEach((function(e){e(n)})),i=0;i<h;++i)null==(f=e[i]).fx?f.x+=f.vx*=c:(f.x=f.fx,f.vx=0),null==f.fy?f.y+=f.vy*=c:(f.y=f.fy,f.vy=0);return t}function v(){for(var t,i=0,n=e.length;i<n;++i){if((t=e[i]).index=i,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var r=10*Math.sqrt(.5+i),o=i*fw;t.x=r*Math.cos(o),t.y=r*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function x(t){return t.initialize&&t.initialize(e,m),t}return null==e&&(e=[]),v(),t={tick:y,restart:function(){return f.restart(_),t},stop:function(){return f.stop(),t},nodes:function(n){return arguments.length?(e=n,v(),d.forEach(x),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(o=+e,t):+o},alphaTarget:function(e){return arguments.length?(l=+e,t):l},velocityDecay:function(e){return arguments.length?(c=1-e,t):1-c},randomSource:function(e){return arguments.length?(m=e,d.forEach(x),t):m},force:function(e,n){return arguments.length>1?(null==n?d.delete(e):d.set(e,x(n)),t):d.get(e)},find:function(t,n,r){var o,l,c,d,f,i=0,h=e.length;for(null==r?r=1/0:r*=r,i=0;i<h;++i)(c=(o=t-(d=e[i]).x)*o+(l=n-d.y)*l)<r&&(f=d,r=c);return f},on:function(e,n){return arguments.length>1?(h.on(e,n),t):h.on(e)}}}(e),r=n.stop,o=n.restart;let l=!1;return n.stopped=()=>l,n.restart=()=>(l=!1,o()),n.stop=()=>(l=!0,r()),vw(n,t,!0).on("end",()=>l=!0)}(t.source,e),o.on("tick",(n=t.dataflow,r=this,()=>n.touch(r).run())),e.static||(l=!0,o.tick()),t.modifies("index")),c||l||e.modified(_w)||t.changed()&&e.restart)if(o.alpha(Math.max(o.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(o.alphaMin(),1/d)),e.static)for(o.stop();--d>=0;)o.tick();else if(o.stopped()&&o.restart(),!l)return t.StopPropagation;return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let e,t=this._argops,c=0,d=t.length;c<d;++c)if(e=t[c],"forces"===e.name&&"link"===e.op._argval.force)for(var r,o=e.op._argops,i=0,l=o.length;i<l;++i)if("links"===o[i].name&&(r=o[i].op.source)){n.pulse(r,n.changeset().reflow());break}return t.reflow(e.modified()).modifies(yw)}});function Lw(data,e){data instanceof Map?(data=[void 0,data],void 0===e&&(e=Ow)):void 0===e&&(e=Dw);for(var t,n,r,i,o,l=new Yw(data),c=[l];t=c.pop();)if((r=e(t.data))&&(o=(r=Array.from(r)).length))for(t.children=r,i=o-1;i>=0;--i)c.push(n=r[i]=new Yw(r[i])),n.parent=t,n.depth=t.depth+1;return l.eachBefore(Sw)}function Dw(e){return e.children}function Ow(e){return Array.isArray(e)?e[1]:null}function jw(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function Sw(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function Yw(data){this.data=data,this.depth=this.height=0,this.parent=null}Yw.prototype=Lw.prototype={constructor:Yw,count:function(){return this.eachAfter(kw)},each:function(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this},eachAfter:function(e,t){for(var n,i,r,o=this,l=[o],c=[],d=-1;o=l.pop();)if(c.push(o),n=o.children)for(i=0,r=n.length;i<r;++i)l.push(n[i]);for(;o=c.pop();)e.call(t,o,++d,this);return this},eachBefore:function(e,t){for(var n,i,r=this,o=[r],l=-1;r=o.pop();)if(e.call(t,r,++l,this),n=r.children)for(i=n.length-1;i>=0;--i)o.push(n[i]);return this},find:function(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(a,b){if(a===b)return a;var e=a.ancestors(),t=b.ancestors(),n=null;a=e.pop(),b=t.pop();for(;a===b;)n=a,a=e.pop(),b=t.pop();return n}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var o=r.length;e!==n;)r.splice(o,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return Lw(this).eachBefore(jw)},[Symbol.iterator]:function*(){var e,t,i,n,r=this,o=[r];do{for(e=o.reverse(),o=[];r=e.pop();)if(yield r,t=r.children)for(i=0,n=t.length;i<n;++i)o.push(t[i])}while(o.length)}};var Tw=function(e){for(var p,t,i=0,n=(e=function(e){for(var t,i,n=e.length;n;)i=Math.random()*n--|0,t=e[n],e[n]=e[i],e[i]=t;return e}(Array.from(e))).length,r=[];i<n;)p=e[i],t&&Cw(t,p)?++i:(t=Pw(r=Aw(r,p)),i=0);return t};function Aw(e,p){var i,t;if(Fw(p,e))return[p];for(i=0;i<e.length;++i)if(Ew(p,e[i])&&Fw(Nw(e[i],p),e))return[e[i],p];for(i=0;i<e.length-1;++i)for(t=i+1;t<e.length;++t)if(Ew(Nw(e[i],e[t]),p)&&Ew(Nw(e[i],p),e[t])&&Ew(Nw(e[t],p),e[i])&&Fw(zw(e[i],e[t],p),e))return[e[i],e[t],p];throw new Error}function Ew(a,b){var e=a.r-b.r,t=b.x-a.x,n=b.y-a.y;return e<0||e*e<t*t+n*n}function Cw(a,b){var e=a.r-b.r+1e-9*Math.max(a.r,b.r,1),t=b.x-a.x,n=b.y-a.y;return e>0&&e*e>t*t+n*n}function Fw(a,e){for(var i=0;i<e.length;++i)if(!Cw(a,e[i]))return!1;return!0}function Pw(e){switch(e.length){case 1:return{x:(a=e[0]).x,y:a.y,r:a.r};case 2:return Nw(e[0],e[1]);case 3:return zw(e[0],e[1],e[2])}var a}function Nw(a,b){var e=a.x,t=a.y,n=a.r,r=b.x,o=b.y,l=b.r,c=r-e,d=o-t,f=l-n,h=Math.sqrt(c*c+d*d);return{x:(e+r+c/h*f)/2,y:(t+o+d/h*f)/2,r:(h+n+l)/2}}function zw(a,b,e){var t=a.x,n=a.y,r=a.r,o=b.x,l=b.y,c=b.r,d=e.x,f=e.y,h=e.r,m=t-o,_=t-d,y=n-l,v=n-f,x=c-r,M=h-r,w=t*t+n*n-r*r,k=w-o*o-l*l+c*c,L=w-d*d-f*f+h*h,D=_*y-m*v,O=(y*L-v*k)/(2*D)-t,j=(v*x-y*M)/D,S=(_*k-m*L)/(2*D)-n,Y=(m*M-_*x)/D,T=j*j+Y*Y-1,A=2*(r+O*j+S*Y),E=O*O+S*S-r*r,C=-(T?(A+Math.sqrt(A*A-4*T*E))/(2*T):E/A);return{x:t+O+j*C,y:n+S+Y*C,r:C}}function Hw(b,a,e){var t,n,r,o,l=b.x-a.x,c=b.y-a.y,d=l*l+c*c;d?(n=a.r+e.r,n*=n,o=b.r+e.r,n>(o*=o)?(t=(d+o-n)/(2*d),r=Math.sqrt(Math.max(0,o/d-t*t)),e.x=b.x-t*l-r*c,e.y=b.y-t*c+r*l):(t=(d+n-o)/(2*d),r=Math.sqrt(Math.max(0,n/d-t*t)),e.x=a.x+t*l-r*c,e.y=a.y+t*c+r*l)):(e.x=a.x+e.r,e.y=a.y)}function Rw(a,b){var e=a.r+b.r-1e-6,t=b.x-a.x,n=b.y-a.y;return e>0&&e*e>t*t+n*n}function Iw(e){var a=e._,b=e.next._,t=a.r+b.r,n=(a.x*b.r+b.x*a.r)/t,r=(a.y*b.r+b.y*a.r)/t;return n*n+r*r}function Bw(circle){this._=circle,this.next=null,this.previous=null}function $w(e){if(!(r=(t=e,e="object"==typeof t&&"length"in t?t:Array.from(t)).length))return 0;var t,a,b,n,r,o,l,i,c,d,f,h;if((a=e[0]).x=0,a.y=0,!(r>1))return a.r;if(b=e[1],a.x=-b.r,b.x=a.r,b.y=0,!(r>2))return a.r+b.r;Hw(b,a,n=e[2]),a=new Bw(a),b=new Bw(b),n=new Bw(n),a.next=n.previous=b,b.next=a.previous=n,n.next=b.previous=a;e:for(i=3;i<r;++i){Hw(a._,b._,n=e[i]),n=new Bw(n),c=b.next,d=a.previous,f=b._.r,h=a._.r;do{if(f<=h){if(Rw(c._,n._)){b=c,a.next=b,b.previous=a,--i;continue e}f+=c._.r,c=c.next}else{if(Rw(d._,n._)){(a=d).next=b,b.previous=a,--i;continue e}h+=d._.r,d=d.previous}}while(c!==d.next);for(n.previous=a,n.next=b,a.next=b.previous=b=n,o=Iw(a);(n=n.next)!==b;)(l=Iw(n))<o&&(a=n,o=l);b=a.next}for(a=[b._],n=b;(n=n.next)!==b;)a.push(n._);for(n=Tw(a),i=0;i<r;++i)(a=e[i]).x-=n.x,a.y-=n.y;return n.r}function Ww(e){return null==e?null:Uw(e)}function Uw(e){if("function"!=typeof e)throw new Error;return e}function qw(){return 0}var Vw=function(e){return function(){return e}};function Jw(e){return Math.sqrt(e.value)}function Gw(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Xw(e,t){return function(n){if(r=n.children){var r,i,o,l=r.length,c=e(n)*t||0;if(c)for(i=0;i<l;++i)r[i].r+=c;if(o=$w(r),c)for(i=0;i<l;++i)r[i].r-=c;n.r=o+c}}}function Zw(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}var Kw=function(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)},Qw=function(e,t,n,r,o){for(var l,c=e.children,i=-1,d=c.length,f=e.value&&(r-t)/e.value;++i<d;)(l=c[i]).y0=n,l.y1=o,l.x0=t,l.x1=t+=l.value*f},ek={depth:-1},tk={};function nk(e){return e.id}function rk(e){return e.parentId}var ik=function(){var e=nk,t=rk;function n(data){var n,i,r,o,l,c,d,f=Array.from(data),h=f.length,m=new Map;for(i=0;i<h;++i)n=f[i],l=f[i]=new Yw(n),null!=(c=e(n,i,data))&&(c+="")&&(d=l.id=c,m.set(d,m.has(d)?tk:l)),null!=(c=t(n,i,data))&&(c+="")&&(l.parent=c);for(i=0;i<h;++i)if(c=(l=f[i]).parent){if(!(o=m.get(c)))throw new Error("missing: "+c);if(o===tk)throw new Error("ambiguous: "+c);o.children?o.children.push(l):o.children=[l],l.parent=o}else{if(r)throw new Error("multiple roots");r=l}if(!r)throw new Error("no root");if(r.parent=ek,r.eachBefore((function(e){e.depth=e.parent.depth+1,--h})).eachBefore(Sw),r.parent=null,h>0)throw new Error("cycle");return r}return n.id=function(t){return arguments.length?(e=Uw(t),n):e},n.parentId=function(e){return arguments.length?(t=Uw(e),n):t},n};function ak(a,b){return a.parent===b.parent?1:2}function ok(e){var t=e.children;return t?t[0]:e.t}function sk(e){var t=e.children;return t?t[t.length-1]:e.t}function lk(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function uk(e,t,n){return e.a.parent===t.parent?e.a:n}function ck(e,i){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=i}ck.prototype=Object.create(Yw.prototype);function dk(a,b){return a.parent===b.parent?1:2}function fk(e,t){return e+t.x}function hk(e,t){return Math.max(e,t.y)}var mk=function(e,t,n,r,o){for(var l,c=e.children,i=-1,d=c.length,f=e.value&&(o-n)/e.value;++i<d;)(l=c[i]).x0=t,l.x1=r,l.y0=n,l.y1=n+=l.value*f},pk=(1+Math.sqrt(5))/2;function gk(e,t,n,r,o,l){for(var c,d,f,h,m,_,y,v,x,M,w,k=[],L=t.children,D=0,O=0,j=L.length,S=t.value;D<j;){f=o-n,h=l-r;do{m=L[O++].value}while(!m&&O<j);for(_=y=m,w=m*m*(M=Math.max(h/f,f/h)/(S*e)),x=Math.max(y/w,w/_);O<j;++O){if(m+=d=L[O].value,d<_&&(_=d),d>y&&(y=d),w=m*m*M,(v=Math.max(y/w,w/_))>x){m-=d;break}x=v}k.push(c={value:m,dice:f<h,children:L.slice(D,O)}),c.dice?Qw(c,n,r,o,S?r+=h*m/S:l):mk(c,n,r,S?n+=f*m/S:o,l),S-=m,D=O}return k}var _k=function e(t){function n(e,n,r,o,l){gk(t,e,n,r,o,l)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(pk),yk=function e(t){function n(e,n,r,o,l){if((c=e._squarify)&&c.ratio===t)for(var c,d,f,i,h,m=-1,_=c.length,y=e.value;++m<_;){for(f=(d=c[m]).children,i=d.value=0,h=f.length;i<h;++i)d.value+=f[i].value;d.dice?Qw(d,n,r,o,y?r+=(l-r)*d.value/y:l):mk(d,n,r,y?n+=(o-n)*d.value/y:o,l),y-=d.value}else e._squarify=c=gk(t,e,n,r,o,l),c.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(pk);function bk(e,t,filter){const map={};return e.each(e=>{const n=e.data;filter(n)&&(map[t(n)]=e)}),e.lookup=map,e}function vk(e){qa.call(this,null,e)}vk.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const xk=e=>e.values;function Mk(){const e=[],t={entries:t=>function t(map,n){if(++n>e.length)return map;const r=[];for(const e in map)r.push({key:e,values:t(map[e],n)});return r}(function t(n,r){if(r>=e.length)return n;const o=n.length,l=e[r++],c={},d={};let f,h,m,i=-1;for(;++i<o;)f=l(h=n[i])+"",(m=c[f])?m.push(h):c[f]=[h];for(f in c)d[f]=t(c[f],r);return d}(t,0),0),key:n=>(e.push(n),t)};return t}function wk(e){qa.call(this,null,e)}Object(le.z)(vk,qa,{transform(e,t){t.source||Object(le.o)("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),o=t.clone(),l=this.value;return(!l||r||t.changed())&&(l&&l.each(e=>{e.children&&ha(e.data)&&o.rem.push(e.data)}),this.value=l=Lw({values:Object(le.i)(e.keys).reduce((e,t)=>(e.key(t),e),Mk()).entries(o.source)},xk),n&&l.each(e=>{e.children&&(e=ga(e.data),o.add.push(e),o.source.push(e))}),bk(l,ma,ma)),o.source.root=l,o}});const kk=(a,b)=>a.parent===b.parent?1:2;Object(le.z)(wk,qa,{transform(e,t){t.source&&t.source.root||Object(le.o)(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,o=t.source.root,l=e.as||r;e.field?o.sum(e.field):o.count(),e.sort&&o.sort(va(e.sort,e=>e.data)),function(e,t,n){for(let p,i=0,r=t.length;i<r;++i)p=t[i],p in n&&e[p](n[p])}(n,this.params,e),n.separation&&n.separation(!1!==e.separation?kk:le.Q);try{this.value=n(o)}catch(e){Object(le.o)(e)}return o.each(e=>function(e,t,n){const r=e.data,o=t.length-1;for(let i=0;i<o;++i)r[n[i]]=e[t[i]];r[n[o]]=e.children?e.children.length:0}(e,r,l)),t.reflow(e.modified()).modifies(l).modifies("leaf")}});const Lk=["x","y","r","depth","children"];function Dk(e){wk.call(this,e)}Dk.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Lk.length,default:Lk}]},Object(le.z)(Dk,wk,{layout:function(){var e=null,t=1,n=1,r=qw;function o(o){return o.x=t/2,o.y=n/2,e?o.eachBefore(Gw(e)).eachAfter(Xw(r,.5)).eachBefore(Zw(1)):o.eachBefore(Gw(Jw)).eachAfter(Xw(qw,1)).eachAfter(Xw(r,o.r/Math.min(t,n))).eachBefore(Zw(Math.min(t,n)/(2*o.r))),o}return o.radius=function(t){return arguments.length?(e=Ww(t),o):e},o.size=function(e){return arguments.length?(t=+e[0],n=+e[1],o):[t,n]},o.padding=function(e){return arguments.length?(r="function"==typeof e?e:Vw(+e),o):r},o},params:["radius","size","padding"],fields:Lk});const Ok=["x0","y0","x1","y1","depth","children"];function jk(e){wk.call(this,e)}function Sk(e){qa.call(this,null,e)}jk.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Ok.length,default:Ok}]},Object(le.z)(jk,wk,{layout:function(){var e=1,t=1,n=0,r=!1;function o(o){var l=o.height+1;return o.x0=o.y0=n,o.x1=e,o.y1=t/l,o.eachBefore(function(e,t){return function(r){r.children&&Qw(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var o=r.x0,l=r.y0,c=r.x1-n,d=r.y1-n;c<o&&(o=c=(o+c)/2),d<l&&(l=d=(l+d)/2),r.x0=o,r.y0=l,r.x1=c,r.y1=d}}(t,l)),r&&o.eachBefore(Kw),o}return o.round=function(e){return arguments.length?(r=!!e,o):r},o.size=function(n){return arguments.length?(e=+n[0],t=+n[1],o):[e,t]},o.padding=function(e){return arguments.length?(n=+e,o):n},o},params:["size","round","padding"],fields:Ok}),Sk.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},Object(le.z)(Sk,qa,{transform(e,t){t.source||Object(le.o)("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),o=t.fork(t.ALL).materialize(t.SOURCE),l=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return o.source=o.source.slice(),l&&(n=o.source.length?bk(ik().id(e.key).parentId(e.parentKey)(o.source),e.key,le.ib):bk(ik()([{}]),e.key,e.key)),o.source.root=this.value=n,o}});const Yk={tidy:function(){var e=ak,t=1,n=1,r=null;function o(o){var f=function(e){for(var t,n,r,i,o,l=new ck(e,0),c=[l];t=c.pop();)if(r=t._.children)for(t.children=new Array(o=r.length),i=o-1;i>=0;--i)c.push(n=t.children[i]=new ck(r[i],i)),n.parent=t;return(l.parent=new ck(null,0)).children=[l],l}(o);if(f.eachAfter(l),f.parent.m=-f.z,f.eachBefore(c),r)o.eachBefore(d);else{var h=o,m=o,_=o;o.eachBefore((function(e){e.x<h.x&&(h=e),e.x>m.x&&(m=e),e.depth>_.depth&&(_=e)}));var s=h===m?1:e(h,m)/2,y=s-h.x,v=t/(m.x+s+y),x=n/(_.depth||1);o.eachBefore((function(e){e.x=(e.x+y)*v,e.y=e.depth*x}))}return o}function l(t){var n=t.children,r=t.parent.children,o=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,o=e.children,i=o.length;--i>=0;)(t=o[i]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var l=(n[0].z+n[n.length-1].z)/2;o?(t.z=o.z+e(t._,o._),t.m=t.z-l):t.z=l}else o&&(t.z=o.z+e(t._,o._));t.parent.A=function(t,n,r){if(n){for(var o,l=t,c=t,d=n,f=l.parent.children[0],h=l.m,m=c.m,_=d.m,y=f.m;d=sk(d),l=ok(l),d&&l;)f=ok(f),(c=sk(c)).a=t,(o=d.z+_-l.z-h+e(d._,l._))>0&&(lk(uk(d,t,r),t,o),h+=o,m+=o),_+=d.m,h+=l.m,y+=f.m,m+=c.m;d&&!sk(c)&&(c.t=d,c.m+=_-m),l&&!ok(f)&&(f.t=l,f.m+=h-y,r=t)}return r}(t,o,t.parent.A||r[0])}function c(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function d(e){e.x*=t,e.y=e.depth*n}return o.separation=function(t){return arguments.length?(e=t,o):e},o.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],o):r?null:[t,n]},o.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],o):r?[t,n]:null},o},cluster:function(){var e=dk,t=1,n=1,r=!1;function o(o){var l,c=0;o.eachAfter((function(t){var n=t.children;n?(t.x=function(e){return e.reduce(fk,0)/e.length}(n),t.y=function(e){return 1+e.reduce(hk,0)}(n)):(t.x=l?c+=e(t,l):0,t.y=0,l=t)}));var d=function(e){for(var t;t=e.children;)e=t[0];return e}(o),f=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(o),h=d.x-e(d,f)/2,m=f.x+e(f,d)/2;return o.eachAfter(r?function(e){e.x=(e.x-o.x)*t,e.y=(o.y-e.y)*n}:function(e){e.x=(e.x-h)/(m-h)*t,e.y=(1-(o.y?e.y/o.y:1))*n})}return o.separation=function(t){return arguments.length?(e=t,o):e},o.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],o):r?null:[t,n]},o.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],o):r?[t,n]:null},o}},Tk=["x","y","depth","children"];function Ak(e){wk.call(this,e)}function Ek(e){qa.call(this,[],e)}Ak.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:Tk.length,default:Tk}]},Object(le.z)(Ak,wk,{layout(e){const t=e||"tidy";if(Object(le.w)(Yk,t))return Yk[t]();Object(le.o)("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:Tk}),Ek.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},Object(le.z)(Ek,qa,{transform(e,t){const n=this.value,r=t.source&&t.source.root,o=t.fork(t.NO_SOURCE),l={};return r||Object(le.o)("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(o.rem=n,t.visit(t.SOURCE,e=>l[ma(e)]=1),r.each(e=>{const t=e.data,p=e.parent&&e.parent.data;p&&l[ma(t)]&&l[ma(p)]&&o.add.push(ga({source:p,target:t}))}),this.value=o.add):t.changed(t.MOD)&&(t.visit(t.MOD,e=>l[ma(e)]=1),n.forEach(link=>{(l[ma(link.source)]||l[ma(link.target)])&&o.mod.push(link)})),o}});const Ck={binary:function(e,t,n,r,o){var i,l,c=e.children,d=c.length,f=new Array(d+1);for(f[0]=l=i=0;i<d;++i)f[i+1]=l+=c[i].value;!function e(i,t,n,r,o,l,d){if(i>=t-1){var h=c[i];return h.x0=r,h.y0=o,h.x1=l,void(h.y1=d)}var m=f[i],_=n/2+m,y=i+1,v=t-1;for(;y<v;){var x=y+v>>>1;f[x]<_?y=x+1:v=x}_-f[y-1]<f[y]-_&&i+1<y&&--y;var M=f[y]-m,w=n-M;if(l-r>d-o){var k=n?(r*w+l*M)/n:l;e(i,y,M,r,o,k,d),e(y,t,w,k,o,l,d)}else{var L=n?(o*w+d*M)/n:d;e(i,y,M,r,o,l,L),e(y,t,w,r,L,l,d)}}(0,d,e.value,t,n,r,o)},dice:Qw,slice:mk,slicedice:function(e,t,n,r,o){(1&e.depth?mk:Qw)(e,t,n,r,o)},squarify:_k,resquarify:yk},Fk=["x0","y0","x1","y1","depth","children"];function Pk(e){wk.call(this,e)}Pk.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Fk.length,default:Fk}]},Object(le.z)(Pk,wk,{layout(){const e=function(){var e=_k,t=!1,n=1,r=1,o=[0],l=qw,c=qw,d=qw,f=qw,h=qw;function m(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(_),o=[0],t&&e.eachBefore(Kw),e}function _(t){var p=o[t.depth],n=t.x0+p,r=t.y0+p,m=t.x1-p,_=t.y1-p;m<n&&(n=m=(n+m)/2),_<r&&(r=_=(r+_)/2),t.x0=n,t.y0=r,t.x1=m,t.y1=_,t.children&&(p=o[t.depth+1]=l(t)/2,n+=h(t)-p,r+=c(t)-p,(m-=d(t)-p)<n&&(n=m=(n+m)/2),(_-=f(t)-p)<r&&(r=_=(r+_)/2),e(t,n,r,m,_))}return m.round=function(e){return arguments.length?(t=!!e,m):t},m.size=function(e){return arguments.length?(n=+e[0],r=+e[1],m):[n,r]},m.tile=function(t){return arguments.length?(e=Uw(t),m):e},m.padding=function(e){return arguments.length?m.paddingInner(e).paddingOuter(e):m.paddingInner()},m.paddingInner=function(e){return arguments.length?(l="function"==typeof e?e:Vw(+e),m):l},m.paddingOuter=function(e){return arguments.length?m.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):m.paddingTop()},m.paddingTop=function(e){return arguments.length?(c="function"==typeof e?e:Vw(+e),m):c},m.paddingRight=function(e){return arguments.length?(d="function"==typeof e?e:Vw(+e),m):d},m.paddingBottom=function(e){return arguments.length?(f="function"==typeof e?e:Vw(+e),m):f},m.paddingLeft=function(e){return arguments.length?(h="function"==typeof e?e:Vw(+e),m):h},m}();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{Object(le.w)(Ck,t)?e.tile(Ck[t]):Object(le.o)("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:Fk});function Nk(e,t,n,r){const o=e.width,l=e.height,c=n||r,d=Hu(o,l).getContext("2d");t.forEach(e=>function e(t,n,r){if(!n.length)return;const o=n[0].mark.marktype;"group"===o?n.forEach(n=>{n.items.forEach(mark=>e(t,mark.items,r))}):dg[o].draw(t,{items:r?n.map(zk):n})}(d,e,c));const f=new Uint32Array(d.getImageData(0,0,o,l).data.buffer),h=e.bitmap(),m=c&&e.bitmap();let _,y,u,v,x;for(y=0;y<l;++y)for(_=0;_<o;++_)x=4278190080&f[y*o+_],x&&(u=e(_),v=e(y),r||h.set(u,v),c&&268435456^x&&m.set(u,v));return[h,m]}function zk(source){const e=ya(source,{});return e.stroke&&(e.strokeOpacity=1),e.fill&&(e.fillOpacity=.0625,e.stroke="#000",e.strokeOpacity=1,e.strokeWidth=2),e}const Hk=new Uint32Array(33),Rk=new Uint32Array(33);Rk[0]=0,Hk[0]=~Rk[0];for(let i=1;i<=32;++i)Rk[i]=Rk[i-1]<<1|1,Hk[i]=~Rk[i];function Ik(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),o=~~((e+2*n+r)/r),l=~~((t+2*n+r)/r),c=e=>~~((e+n)/r);return c.invert=e=>e*r-n,c.bitmap=()=>function(e,t){const n=new Uint32Array(~~((e*t+32)/32));function r(e,mask){n[e]|=mask}function o(e,mask){n[e]&=mask}return{array:n,get:(t,r)=>{const o=r*e+t;return n[o>>>5]&1<<(31&o)},set:(t,n)=>{const o=n*e+t;r(o>>>5,1<<(31&o))},clear:(t,n)=>{const r=n*e+t;o(r>>>5,~(1<<(31&r)))},getRange:(t,r,o,l)=>{let c,d,f,h,m=l;for(;m>=r;--m)if(c=m*e+t,d=m*e+o,f=c>>>5,h=d>>>5,f===h){if(n[f]&Hk[31&c]&Rk[1+(31&d)])return!0}else{if(n[f]&Hk[31&c])return!0;if(n[h]&Rk[1+(31&d)])return!0;for(let i=f+1;i<h;++i)if(n[i])return!0}return!1},setRange:(t,n,o,l)=>{let c,d,f,h,i;for(;n<=l;++n)if(c=n*e+t,d=n*e+o,f=c>>>5,h=d>>>5,f===h)r(f,Hk[31&c]&Rk[1+(31&d)]);else for(r(f,Hk[31&c]),r(h,Rk[1+(31&d)]),i=f+1;i<h;++i)r(i,4294967295)},clearRange:(t,n,r,l)=>{let c,d,f,h,i;for(;n<=l;++n)if(c=n*e+t,d=n*e+r,f=c>>>5,h=d>>>5,f===h)o(f,Rk[31&c]|Hk[1+(31&d)]);else for(o(f,Rk[31&c]),o(h,Hk[1+(31&d)]),i=f+1;i<h;++i)o(i,0)},outOfBounds:(n,r,o,l)=>n<0||r<0||l>=t||o>=e}}(o,l),c.ratio=r,c.padding=n,c.width=e,c.height=t,c}function Bk(e,t,n,r,o,l){let c=n/2;return e-c<0||e+c>o||t-(c=r/2)<0||t+c>l}function $k(e,t,n,r,o,l,c,d){const f=o*l/(2*r),h=e(t-f),m=e(t+f),_=e(n-(l/=2)),y=e(n+l);return c.outOfBounds(h,_,m,y)||c.getRange(h,_,m,y)||d&&d.getRange(h,_,m,y)}const Wk=[-1,-1,1,1],Uk=[-1,1,-1,1];const qk=["right","center","left"],Vk=["bottom","middle","top"];function Jk(e,t,n,r,o,l,c,d,f,h,m,_){return!(o.outOfBounds(e,n,t,r)||(_&&l?l.getRange(e,n,t,r)||!function(e,t,n,r,o){return o[0]<=e&&n<=o[2]&&o[3]<=t&&r<=o[5]}(c,f,d,h,m):o.getRange(e,n,t,r)))}const Gk={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},Xk={naive:function(e,t,n,r){const o=e.width,l=e.height;return function(e){const t=e.datum.datum.items[r].items,n=t.length,c=e.datum.fontSize,d=Vp.width(e.datum,e.datum.text);let f,h,m,_,y,v,x,M=0;for(let i=0;i<n;++i)f=t[i].x,m=t[i].y,h=void 0===t[i].x2?f:t[i].x2,_=void 0===t[i].y2?m:t[i].y2,y=(f+h)/2,v=(m+_)/2,x=Math.abs(h-f+_-m),x>=M&&(M=x,e.x=y,e.y=v);return y=d/2,v=c/2,f=e.x-y,h=e.x+y,m=e.y-v,_=e.y+v,e.align="center",f<0&&h<=o?e.align="left":0<=f&&o<h&&(e.align="right"),e.baseline="middle",m<0&&_<=l?e.baseline="top":0<=m&&l<_&&(e.baseline="bottom"),!0}},"reduced-search":function(e,t,n,r){const o=e.width,l=e.height,c=t[0],d=t[1];function f(t,n,r,f,h){const m=e.invert(t),_=e.invert(n);let y,v=r,x=l;if(!Bk(m,_,f,h,o,l)&&!$k(e,m,_,h,f,v,c,d)&&!$k(e,m,_,h,f,h,c,null)){for(;x-v>=1;)y=(v+x)/2,$k(e,m,_,h,f,y,c,d)?x=y:v=y;if(v>r)return[m,_,v,!0]}}return function(t){const d=t.datum.datum.items[r].items,h=d.length,m=t.datum.fontSize,_=Vp.width(t.datum,t.datum.text);let y,v,x,M,w,k,L,D,O,j,S,Y,T,A,E,C,F,P=n?m:0,N=!1,z=!1,H=0;for(let i=0;i<h;++i){for(y=d[i].x,x=d[i].y,v=void 0===d[i].x2?y:d[i].x2,M=void 0===d[i].y2?x:d[i].y2,y>v&&(F=y,y=v,v=F),x>M&&(F=x,x=M,M=F),O=e(y),S=e(v),j=~~((O+S)/2),Y=e(x),A=e(M),T=~~((Y+A)/2),L=j;L>=O;--L)for(D=T;D>=Y;--D)C=f(L,D,P,_,m),C&&([t.x,t.y,P,N]=C);for(L=j;L<=S;++L)for(D=T;D<=A;++D)C=f(L,D,P,_,m),C&&([t.x,t.y,P,N]=C);N||n||(E=Math.abs(v-y+M-x),w=(y+v)/2,k=(x+M)/2,E>=H&&!Bk(w,k,_,m,o,l)&&!$k(e,w,k,m,_,m,c,null)&&(H=E,t.x=w,t.y=k,z=!0))}return!(!N&&!z)&&(w=_/2,k=m/2,c.setRange(e(t.x-w),e(t.y-k),e(t.x+w),e(t.y+k)),t.align="center",t.baseline="middle",!0)}},floodfill:function(e,t,n,r){const o=e.width,l=e.height,c=t[0],d=t[1],f=e.bitmap();return function(t){const h=t.datum.datum.items[r].items,m=h.length,_=t.datum.fontSize,y=Vp.width(t.datum,t.datum.text),v=[];let x,M,w,k,L,D,O,j,S,Y,T,A,E=n?_:0,C=!1,F=!1,P=0;for(let i=0;i<m;++i){for(x=h[i].x,w=h[i].y,M=void 0===h[i].x2?x:h[i].x2,k=void 0===h[i].y2?w:h[i].y2,v.push([e((x+M)/2),e((w+k)/2)]);v.length;)if([O,j]=v.pop(),!(c.get(O,j)||d.get(O,j)||f.get(O,j))){f.set(O,j);for(let e=0;e<4;++e)L=O+Wk[e],D=j+Uk[e],f.outOfBounds(L,D,L,D)||v.push([L,D]);if(L=e.invert(O),D=e.invert(j),S=E,Y=l,!Bk(L,D,y,_,o,l)&&!$k(e,L,D,_,y,S,c,d)&&!$k(e,L,D,_,y,_,c,null)){for(;Y-S>=1;)T=(S+Y)/2,$k(e,L,D,_,y,T,c,d)?Y=T:S=T;S>E&&(t.x=L,t.y=D,E=S,C=!0)}}C||n||(A=Math.abs(M-x+k-w),L=(x+M)/2,D=(w+k)/2,A>=P&&!Bk(L,D,y,_,o,l)&&!$k(e,L,D,_,y,_,c,null)&&(P=A,t.x=L,t.y=D,F=!0))}return!(!C&&!F)&&(L=y/2,D=_/2,c.setRange(e(t.x-L),e(t.y-D),e(t.x+L),e(t.y+D)),t.align="center",t.baseline="middle",!0)}}};function Zk(e,t,n,r,o,l,c,d,f,h,m){if(!e.length)return e;const _=Math.max(r.length,o.length),y=function(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}(r,_),v=function(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=Gk[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}(o,_),x=(O=e[0].datum)&&O.mark&&O.mark.marktype,M="group"===x&&e[0].datum.items[f].marktype,w="area"===M,k=function(e,t,n,r){const o=e=>[e.x,e.x,e.x,e.y,e.y,e.y];return e?"line"===e||"area"===e?e=>o(e.datum):"line"===t?e=>{const t=e.datum.items[r].items;return o(t.length?t["start"===n?0:t.length-1]:{x:NaN,y:NaN})}:e=>{const b=e.datum.bounds;return[b.x1,(b.x1+b.x2)/2,b.x2,b.y1,(b.y1+b.y2)/2,b.y2]}:o}(x,M,d,f),L=Ik(t[0],t[1],h),D=w&&"naive"===m;var O;const data=e.map(e=>({datum:e,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:k(e)}));let j;if(!D){n&&data.sort((a,b)=>n(a.datum,b.datum));let t=!1;for(let i=0;i<v.length&&!t;++i)t=5===v[i]||y[i]<0;x&&(c||w)&&(l=[e.map(e=>e.datum)].concat(l)),j=l.length?Nk(L,l,t,w):function(e,data){const t=e.bitmap();return(data||[]).forEach(n=>t.set(e(n.boundary[0]),e(n.boundary[3]))),[t,void 0]}(L,c&&data)}const S=w?Xk[m](L,j,c,f):function(e,t,n,r){const o=e.width,l=e.height,c=t[0],d=t[1],f=r.length;return function(t){const h=t.boundary,m=t.datum.fontSize;if(h[2]<0||h[5]<0||h[0]>o||h[3]>l)return!1;let _,y,v,x,M,w,k,L,D,O,j,S,Y,T,A,E=0;for(let i=0;i<f;++i){if(_=(3&n[i])-1,y=(n[i]>>>2&3)-1,v=0===_&&0===y||r[i]<0,x=_&&y?Math.SQRT1_2:1,M=r[i]<0?-1:1,w=h[1+_]+r[i]*_*x,j=h[4+y]+M*m*y/2+r[i]*y*x,L=j-m/2,D=j+m/2,S=e(w),T=e(L),A=e(D),!E){if(!Jk(S,S,T,A,c,d,w,w,L,D,h,v))continue;E=Vp.width(t.datum,t.datum.text)}if(O=w+M*E*_/2,w=O-E/2,k=O+E/2,S=e(w),Y=e(k),Jk(S,Y,T,A,c,d,w,k,L,D,h,v))return t.x=_?_*M<0?k:w:O,t.y=y?y*M<0?D:L:j,t.align=qk[_*M+1],t.baseline=Vk[y*M+1],c.setRange(S,T,Y,A),!0}return!1}}(L,j,v,y);return data.forEach(e=>e.opacity=+S(e)),data}const Kk=["x","y","opacity","align","baseline"],Qk=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function eL(e){qa.call(this,null,e)}function tL(data,e){var map,i,t,n,r,g,o=[],l=function(e){return e(n)};if(null==e)o.push(data);else for(map={},i=0,t=data.length;i<t;++i)n=data[i],(g=map[r=e.map(l)])||(map[r]=g=[],g.dims=r,o.push(g)),g.push(n);return o}function nL(e){qa.call(this,null,e)}eL.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:Qk},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:Kk.length,default:Kk}]},Object(le.z)(eL,qa,{transform(e,t){const n=e.modified();if(!(n||t.changed(t.ADD_REM)||function(param){const p=e[param];return Object(le.E)(p)&&t.modified(p.fields)}("sort")))return;e.size&&2===e.size.length||Object(le.o)("Size parameter should be specified as a [width, height] array.");const r=e.as||Kk;return Zk(t.materialize(t.SOURCE).source,e.size,e.sort,Object(le.i)(e.offset||1),Object(le.i)(e.anchor||Qk),e.avoidMarks||[],!1!==e.avoidBaseMark,e.lineAnchor||"end",e.markIndex||0,e.padding||0,e.method||"naive").forEach(e=>{const t=e.datum;t[r[0]]=e.x,t[r[1]]=e.y,t[r[2]]=e.opacity,t[r[3]]=e.align,t[r[4]]=e.baseline}),t.reflow(n).modifies(r)}}),nL.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},Object(le.z)(nL,qa,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=tL(t.materialize(t.SOURCE).source,e.groupby),o=(e.groupby||[]).map(le.h),l=o.length,c=e.as||[Object(le.h)(e.x),Object(le.h)(e.y)],d=[];r.forEach(g=>{qo(g,e.x,e.y,e.bandwidth||.3).forEach(p=>{const e={};for(let i=0;i<l;++i)e[o[i]]=g.dims[i];e[c[0]]=p[0],e[c[1]]=p[1],d.push(ga(e))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=d}return n}});const rL={linear:Ho,log:Ro,exp:Io,pow:Bo,quad:$o,poly:Wo};function iL(e){qa.call(this,null,e)}iL.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(rL)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},Object(le.z)(iL,qa,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=tL(t.materialize(t.SOURCE).source,e.groupby),o=(e.groupby||[]).map(le.h),l=e.method||"linear",c=e.order||3,d=((e,t)=>"poly"===e?t:"quad"===e?2:1)(l,c),f=e.as||[Object(le.h)(e.x),Object(le.h)(e.y)],h=rL[l],m=[];let _=e.extent;Object(le.w)(rL,l)||Object(le.o)("Invalid regression method: "+l),null!=_&&"log"===l&&_[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),_=null),r.forEach(g=>{if(g.length<=d)return void t.dataflow.warn("Skipping regression with more parameters than data points.");const n=h(g,e.x,e.y,c);if(e.params)return void m.push(ga({keys:g.dims,coef:n.coef,rSquared:n.rSquared}));const r=_||Object(le.q)(g,e.x),y=p=>{const e={};for(let i=0;i<o.length;++i)e[o[i]]=g.dims[i];e[f[0]]=p[0],e[f[1]]=p[1],m.push(ga(e))};"linear"===l?r.forEach(e=>y([e,n.predict(e)])):Xo(n.predict,r,25,200).forEach(y)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=m}return n}});const aL=Math.pow(2,-52),oL=new Uint32Array(512);class sL{static from(e,t=pL,n=gL){const r=e.length,o=new Float64Array(2*r);for(let i=0;i<r;i++){const p=e[i];o[2*i]=t(p),o[2*i+1]=n(p)}return new sL(o)}constructor(e){const t=e.length>>1;if(t>0&&"number"!=typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:n,_hullTri:r,_hullHash:o}=this,l=e.length>>1;let c=1/0,d=1/0,f=-1/0,h=-1/0;for(let i=0;i<l;i++){const t=e[2*i],n=e[2*i+1];t<c&&(c=t),n<d&&(d=n),t>f&&(f=t),n>h&&(h=n),this._ids[i]=i}const m=(c+f)/2,_=(d+h)/2;let y,v,x,M=1/0;for(let i=0;i<l;i++){const t=lL(m,_,e[2*i],e[2*i+1]);t<M&&(y=i,M=t)}const w=e[2*y],k=e[2*y+1];M=1/0;for(let i=0;i<l;i++){if(i===y)continue;const t=lL(w,k,e[2*i],e[2*i+1]);t<M&&t>0&&(v=i,M=t)}let L=e[2*v],D=e[2*v+1],O=1/0;for(let i=0;i<l;i++){if(i===y||i===v)continue;const t=fL(w,k,L,D,e[2*i],e[2*i+1]);t<O&&(x=i,O=t)}let j=e[2*x],S=e[2*x+1];if(O===1/0){for(let i=0;i<l;i++)this._dists[i]=e[2*i]-e[0]||e[2*i+1]-e[1];hL(this._ids,this._dists,0,l-1);const t=new Uint32Array(l);let n=0;for(let i=0,e=-1/0;i<l;i++){const r=this._ids[i];this._dists[r]>e&&(t[n++]=r,e=this._dists[r])}return this.hull=t.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(cL(w,k,L,D,j,S)){const i=v,e=L,t=D;v=x,L=j,D=S,x=i,j=e,S=t}const Y=function(e,t,n,r,o,l){const c=n-e,d=r-t,f=o-e,h=l-t,m=c*c+d*d,_=f*f+h*h,y=.5/(c*h-d*f);return{x:e+(h*m-d*_)*y,y:t+(c*_-f*m)*y}}(w,k,L,D,j,S);this._cx=Y.x,this._cy=Y.y;for(let i=0;i<l;i++)this._dists[i]=lL(e[2*i],e[2*i+1],Y.x,Y.y);hL(this._ids,this._dists,0,l-1),this._hullStart=y;let T=3;n[y]=t[x]=v,n[v]=t[y]=x,n[x]=t[v]=y,r[y]=0,r[v]=1,r[x]=2,o.fill(-1),o[this._hashKey(w,k)]=y,o[this._hashKey(L,D)]=v,o[this._hashKey(j,S)]=x,this.trianglesLen=0,this._addTriangle(y,v,x,-1,-1,-1);for(let l,c,d=0;d<this._ids.length;d++){const i=this._ids[d],f=e[2*i],h=e[2*i+1];if(d>0&&Math.abs(f-l)<=aL&&Math.abs(h-c)<=aL)continue;if(l=f,c=h,i===y||i===v||i===x)continue;let m=0;for(let e=0,t=this._hashKey(f,h);e<this._hashSize&&(m=o[(t+e)%this._hashSize],-1===m||m===n[m]);e++);m=t[m];let q,_=m;for(;q=n[_],!cL(f,h,e[2*_],e[2*_+1],e[2*q],e[2*q+1]);)if(_=q,_===m){_=-1;break}if(-1===_)continue;let M=this._addTriangle(_,i,n[_],-1,-1,r[_]);r[i]=this._legalize(M+2),r[_]=M,T++;let w=n[_];for(;q=n[w],cL(f,h,e[2*w],e[2*w+1],e[2*q],e[2*q+1]);)M=this._addTriangle(w,i,q,r[i],-1,r[w]),r[i]=this._legalize(M+2),n[w]=w,T--,w=q;if(_===m)for(;q=t[_],cL(f,h,e[2*q],e[2*q+1],e[2*_],e[2*_+1]);)M=this._addTriangle(q,i,_,-1,r[_],r[q]),this._legalize(M+2),r[q]=M,n[_]=_,T--,_=q;this._hullStart=t[i]=_,n[_]=t[w]=i,n[i]=w,o[this._hashKey(f,h)]=i,o[this._hashKey(e[2*_],e[2*_+1])]=_}this.hull=new Uint32Array(T);for(let i=0,e=this._hullStart;i<T;i++)this.hull[i]=e,e=n[e];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(function(e,t){const p=e/(Math.abs(e)+Math.abs(t));return(t>0?3-p:1+p)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(a){const{_triangles:e,_halfedges:t,coords:n}=this;let i=0,r=0;for(;;){const b=t[a],o=a-a%3;if(r=o+(a+2)%3,-1===b){if(0===i)break;a=oL[--i];continue}const l=b-b%3,c=o+(a+1)%3,d=l+(b+2)%3,f=e[r],h=e[a],m=e[c],_=e[d];if(dL(n[2*f],n[2*f+1],n[2*h],n[2*h+1],n[2*m],n[2*m+1],n[2*_],n[2*_+1])){e[a]=_,e[b]=f;const n=t[d];if(-1===n){let e=this._hullStart;do{if(this._hullTri[e]===d){this._hullTri[e]=a;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(a,n),this._link(b,t[r]),this._link(r,d);const br=l+(b+1)%3;i<oL.length&&(oL[i++]=br)}else{if(0===i)break;a=oL[--i]}}return r}_link(a,b){this._halfedges[a]=b,-1!==b&&(this._halfedges[b]=a)}_addTriangle(e,t,n,a,b,r){const o=this.trianglesLen;return this._triangles[o]=e,this._triangles[o+1]=t,this._triangles[o+2]=n,this._link(o,a),this._link(o+1,b),this._link(o+2,r),this.trianglesLen+=3,o}}function lL(e,t,n,r){const o=e-n,l=t-r;return o*o+l*l}function uL(e,t,n,r,o,l){const c=(r-t)*(o-e),d=(n-e)*(l-t);return Math.abs(c-d)>=33306690738754716e-32*Math.abs(c+d)?c-d:0}function cL(e,t,n,r,o,l){return(uL(o,l,e,t,n,r)||uL(e,t,n,r,o,l)||uL(n,r,o,l,e,t))<0}function dL(e,t,n,r,o,l,c,d){const f=e-c,h=t-d,m=n-c,_=r-d,y=o-c,v=l-d,x=m*m+_*_,M=y*y+v*v;return f*(_*M-x*v)-h*(m*M-x*y)+(f*f+h*h)*(m*v-_*y)<0}function fL(e,t,n,r,o,l){const c=n-e,d=r-t,f=o-e,h=l-t,m=c*c+d*d,_=f*f+h*h,y=.5/(c*h-d*f),v=(h*m-d*_)*y,x=(c*_-f*m)*y;return v*v+x*x}function hL(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=e[i],o=t[r];let l=i-1;for(;l>=n&&t[e[l]]>o;)e[l+1]=e[l--];e[l+1]=r}else{let i=n+1,o=r;mL(e,n+r>>1,i),t[e[n]]>t[e[r]]&&mL(e,n,r),t[e[i]]>t[e[r]]&&mL(e,i,r),t[e[n]]>t[e[i]]&&mL(e,n,i);const l=e[i],c=t[l];for(;;){do{i++}while(t[e[i]]<c);do{o--}while(t[e[o]]>c);if(o<i)break;mL(e,i,o)}e[n+1]=e[o],e[o]=l,r-i+1>=o-n?(hL(e,t,i,r),hL(e,t,n,o-1)):(hL(e,t,n,o-1),hL(e,t,i,r))}}function mL(e,i,t){const n=e[i];e[i]=e[t],e[t]=n}function pL(p){return p[0]}function gL(p){return p[1]}class _L{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+=`L${this._x1=+e},${this._y1=+t}`}arc(e,t,n){const r=(e=+e)+(n=+n),o=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${o}`:(Math.abs(this._x1-r)>1e-6||Math.abs(this._y1-o)>1e-6)&&(this._+="L"+r+","+o),n&&(this._+=`A${n},${n},0,1,1,${e-n},${t}A${n},${n},0,1,1,${this._x1=r},${this._y1=o}`)}rect(e,t,n,r){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class yL{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class bL{constructor(e,[t,n,r,o]=[0,0,960,500]){if(!((r=+r)>=(t=+t)&&(o=+o)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=r,this.xmin=t,this.ymax=o,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:t,triangles:n},vectors:r}=this,o=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let t,r,i=0,l=0,c=n.length;i<c;i+=3,l+=2){const c=2*n[i],d=2*n[i+1],f=2*n[i+2],h=e[c],m=e[c+1],_=e[d],y=e[d+1],v=e[f],x=e[f+1],M=_-h,w=y-m,k=v-h,L=x-m,D=M*M+w*w,O=k*k+L*L,j=2*(M*L-w*k);if(j)if(Math.abs(j)<1e-8)t=(h+v)/2,r=(m+x)/2;else{const e=1/j;t=h+(L*D-w*O)*e,r=m+(M*O-k*D)*e}else t=(h+v)/2-1e8*L,r=(m+x)/2+1e8*k;o[l]=t,o[l+1]=r}let l,c,d,f=t[t.length-1],h=4*f,m=e[2*f],_=e[2*f+1];r.fill(0);for(let i=0;i<t.length;++i)f=t[i],l=h,c=m,d=_,h=4*f,m=e[2*f],_=e[2*f+1],r[l+2]=r[h]=d-_,r[l+3]=r[h+1]=m-c}render(e){const t=null==e?e=new _L:void 0,{delaunay:{halfedges:n,inedges:r,hull:o},circumcenters:l,vectors:c}=this;if(o.length<=1)return null;for(let i=0,t=n.length;i<t;++i){const t=n[i];if(t<i)continue;const r=2*Math.floor(i/3),o=2*Math.floor(t/3),c=l[r],d=l[r+1],f=l[o],h=l[o+1];this._renderSegment(c,d,f,h,e)}let d,h1=o[o.length-1];for(let i=0;i<o.length;++i){d=h1,h1=o[i];const t=2*Math.floor(r[h1]/3),n=l[t],f=l[t+1],h=4*d,p=this._project(n,f,c[h+2],c[h+3]);p&&this._renderSegment(n,f,p[0],p[1],e)}return t&&t.value()}renderBounds(e){const t=null==e?e=new _L:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(i,e){const t=null==e?e=new _L:void 0,n=this._clip(i);if(null===n||!n.length)return;e.moveTo(n[0],n[1]);let r=n.length;for(;n[0]===n[r-2]&&n[1]===n[r-1]&&r>1;)r-=2;for(let i=2;i<r;i+=2)n[i]===n[i-2]&&n[i+1]===n[i-1]||e.lineTo(n[i],n[i+1]);return e.closePath(),t&&t.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let i=0,t=e.length/2;i<t;++i){const e=this.cellPolygon(i);e&&(e.index=i,yield e)}}cellPolygon(i){const polygon=new yL;return this.renderCell(i,polygon),polygon.value()}_renderSegment(e,t,n,r,o){let l;const c=this._regioncode(e,t),d=this._regioncode(n,r);0===c&&0===d?(o.moveTo(e,t),o.lineTo(n,r)):(l=this._clipSegment(e,t,n,r,c,d))&&(o.moveTo(l[0],l[1]),o.lineTo(l[2],l[3]))}contains(i,e,t){return(e=+e)==e&&(t=+t)==t&&this.delaunay._step(i,e,t)===i}*neighbors(i){const e=this._clip(i);if(e)for(const t of this.delaunay.neighbors(i)){const n=this._clip(t);if(n)e:for(let r=0,li=e.length;r<li;r+=2)for(let o=0,l=n.length;o<l;o+=2)if(e[r]==n[o]&&e[r+1]==n[o+1]&&e[(r+2)%li]==n[(o+l-2)%l]&&e[(r+3)%li]==n[(o+l-1)%l]){yield t;break e}}}_cell(i){const{circumcenters:e,delaunay:{inedges:t,halfedges:n,triangles:r}}=this,o=t[i];if(-1===o)return null;const l=[];let c=o;do{const t=Math.floor(c/3);if(l.push(e[2*t],e[2*t+1]),c=c%3==2?c-2:c+1,r[c]!==i)break;c=n[c]}while(c!==o&&-1!==c);return l}_clip(i){if(0===i&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(i);if(null===e)return null;const{vectors:t}=this,n=4*i;return t[n]||t[n+1]?this._clipInfinite(i,e,t[n],t[n+1],t[n+2],t[n+3]):this._clipFinite(i,e)}_clipFinite(i,e){const t=e.length;let n,r,o,l,c,d=null,f=e[t-2],h=e[t-1],m=this._regioncode(f,h);for(let _=0;_<t;_+=2)if(n=f,r=h,f=e[_],h=e[_+1],o=m,m=this._regioncode(f,h),0===o&&0===m)l=c,c=0,d?d.push(f,h):d=[f,h];else{let e,t,_,y,v;if(0===o){if(null===(e=this._clipSegment(n,r,f,h,o,m)))continue;[t,_,y,v]=e}else{if(null===(e=this._clipSegment(f,h,n,r,m,o)))continue;[y,v,t,_]=e,l=c,c=this._edgecode(t,_),l&&c&&this._edge(i,l,c,d,d.length),d?d.push(t,_):d=[t,_]}l=c,c=this._edgecode(y,v),l&&c&&this._edge(i,l,c,d,d.length),d?d.push(y,v):d=[y,v]}if(d)l=c,c=this._edgecode(d[0],d[1]),l&&c&&this._edge(i,l,c,d,d.length);else if(this.contains(i,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return d}_clipSegment(e,t,n,r,o,l){for(;;){if(0===o&&0===l)return[e,t,n,r];if(o&l)return null;let c,d,f=o||l;8&f?(c=e+(n-e)*(this.ymax-t)/(r-t),d=this.ymax):4&f?(c=e+(n-e)*(this.ymin-t)/(r-t),d=this.ymin):2&f?(d=t+(r-t)*(this.xmax-e)/(n-e),c=this.xmax):(d=t+(r-t)*(this.xmin-e)/(n-e),c=this.xmin),o?(e=c,t=d,o=this._regioncode(e,t)):(n=c,r=d,l=this._regioncode(n,r))}}_clipInfinite(i,e,t,n,r,o){let p,l=Array.from(e);if((p=this._project(l[0],l[1],t,n))&&l.unshift(p[0],p[1]),(p=this._project(l[l.length-2],l[l.length-1],r,o))&&l.push(p[0],p[1]),l=this._clipFinite(i,l))for(let e,t=0,n=l.length,r=this._edgecode(l[n-2],l[n-1]);t<n;t+=2)e=r,r=this._edgecode(l[t],l[t+1]),e&&r&&(t=this._edge(i,e,r,l,t),n=l.length);else this.contains(i,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(l=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return l}_edge(i,e,t,n,r){for(;e!==t;){let t,o;switch(e){case 5:e=4;continue;case 4:e=6,t=this.xmax,o=this.ymin;break;case 6:e=2;continue;case 2:e=10,t=this.xmax,o=this.ymax;break;case 10:e=8;continue;case 8:e=9,t=this.xmin,o=this.ymax;break;case 9:e=1;continue;case 1:e=5,t=this.xmin,o=this.ymin}n[r]===t&&n[r+1]===o||!this.contains(i,t,o)||(n.splice(r,0,t,o),r+=2)}if(n.length>4)for(let i=0;i<n.length;i+=2){const e=(i+2)%n.length,t=(i+4)%n.length;(n[i]===n[e]&&n[e]===n[t]||n[i+1]===n[e+1]&&n[e+1]===n[t+1])&&(n.splice(e,2),i-=2)}return r}_project(e,t,n,r){let o,l,c,d=1/0;if(r<0){if(t<=this.ymin)return null;(o=(this.ymin-t)/r)<d&&(c=this.ymin,l=e+(d=o)*n)}else if(r>0){if(t>=this.ymax)return null;(o=(this.ymax-t)/r)<d&&(c=this.ymax,l=e+(d=o)*n)}if(n>0){if(e>=this.xmax)return null;(o=(this.xmax-e)/n)<d&&(l=this.xmax,c=t+(d=o)*r)}else if(n<0){if(e<=this.xmin)return null;(o=(this.xmin-e)/n)<d&&(l=this.xmin,c=t+(d=o)*r)}return[l,c]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}const vL=2*Math.PI,xL=Math.pow;function ML(p){return p[0]}function wL(p){return p[1]}function kL(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class LL{static from(e,t=ML,n=wL,r){return new LL("length"in e?function(e,t,n,r){const o=e.length,l=new Float64Array(2*o);for(let i=0;i<o;++i){const p=e[i];l[2*i]=t.call(r,p,i,e),l[2*i+1]=n.call(r,p,i,e)}return l}(e,t,n,r):Float64Array.from(function*(e,t,n,r){let i=0;for(const p of e)yield t.call(r,p,i,e),yield n.call(r,p,i,e),++i}(e,t,n,r)))}constructor(e){this._delaunator=new sL(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){const{triangles:t,coords:n}=e;for(let i=0;i<t.length;i+=3){const a=2*t[i],b=2*t[i+1],e=2*t[i+2];if((n[e]-n[a])*(n[b+1]-n[a+1])-(n[b]-n[a])*(n[e+1]-n[a+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},(e,i)=>i).sort((i,e)=>t[2*i]-t[2*e]||t[2*i+1]-t[2*e+1]);const e=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[t[2*e],t[2*e+1],t[2*n],t[2*n+1]],o=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let i=0,e=t.length/2;i<e;++i){const p=kL(t[2*i],t[2*i+1],o);t[2*i]=p[0],t[2*i+1]=p[1]}this._delaunator=new sL(t)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,l=this.inedges.fill(-1),c=this._hullIndex.fill(-1);for(let e=0,t=n.length;e<t;++e){const p=o[e%3==2?e-2:e+1];-1!==n[e]&&-1!==l[p]||(l[p]=e)}for(let i=0,e=r.length;i<e;++i)c[r[i]]=i;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],this.triangles[1]=r[1],this.triangles[2]=r[1],l[r[0]]=1,2===r.length&&(l[r[1]]=0))}voronoi(e){return new bL(this,e)}*neighbors(i){const{inedges:e,hull:t,_hullIndex:n,halfedges:r,triangles:o,collinear:l}=this;if(l){const e=l.indexOf(i);return e>0&&(yield l[e-1]),void(e<l.length-1&&(yield l[e+1]))}const c=e[i];if(-1===c)return;let d=c,f=-1;do{if(yield f=o[d],d=d%3==2?d-2:d+1,o[d]!==i)return;if(d=r[d],-1===d){const p=t[(n[i]+1)%t.length];return void(p!==f&&(yield p))}}while(d!==c)}find(e,t,i=0){if((e=+e)!=e||(t=+t)!=t)return-1;const n=i;let r;for(;(r=this._step(i,e,t))>=0&&r!==i&&r!==n;)i=r;return r}_step(i,e,t){const{inedges:n,hull:r,_hullIndex:o,halfedges:l,triangles:c,points:d}=this;if(-1===n[i]||!d.length)return(i+1)%(d.length>>1);let f=i,h=xL(e-d[2*i],2)+xL(t-d[2*i+1],2);const m=n[i];let _=m;do{let n=c[_];const dt=xL(e-d[2*n],2)+xL(t-d[2*n+1],2);if(dt<h&&(h=dt,f=n),_=_%3==2?_-2:_+1,c[_]!==i)break;if(_=l[_],-1===_){if(_=r[(o[i]+1)%r.length],_!==n&&xL(e-d[2*_],2)+xL(t-d[2*_+1],2)<h)return _;break}}while(_!==m);return f}render(e){const t=null==e?e=new _L:void 0,{points:n,halfedges:r,triangles:o}=this;for(let i=0,t=r.length;i<t;++i){const t=r[i];if(t<i)continue;const l=2*o[i],c=2*o[t];e.moveTo(n[l],n[l+1]),e.lineTo(n[c],n[c+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t=2){const n=null==e?e=new _L:void 0,{points:r}=this;for(let i=0,n=r.length;i<n;i+=2){const n=r[i],o=r[i+1];e.moveTo(n+t,o),e.arc(n,o,t,0,vL)}return n&&n.value()}renderHull(e){const t=null==e?e=new _L:void 0,{hull:n,points:r}=this,o=2*n[0],l=n.length;e.moveTo(r[o],r[o+1]);for(let i=1;i<l;++i){const t=2*n[i];e.lineTo(r[t],r[t+1])}return e.closePath(),t&&t.value()}hullPolygon(){const polygon=new yL;return this.renderHull(polygon),polygon.value()}renderTriangle(i,e){const t=null==e?e=new _L:void 0,{points:n,triangles:r}=this,o=2*r[i*=3],l=2*r[i+1],c=2*r[i+2];return e.moveTo(n[o],n[o+1]),e.lineTo(n[l],n[l+1]),e.lineTo(n[c],n[c+1]),e.closePath(),t&&t.value()}*trianglePolygons(){const{triangles:e}=this;for(let i=0,t=e.length/3;i<t;++i)yield this.trianglePolygon(i)}trianglePolygon(i){const polygon=new yL;return this.renderTriangle(i,polygon),polygon.value()}}function DL(e){qa.call(this,null,e)}DL.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const OL=[-1e5,-1e5,1e5,1e5];function jL(p){const e=p[0][0],t=p[0][1];let n=p.length-1;for(;p[n][0]===e&&p[n][1]===t;--n);return"M"+p.slice(0,n+1).join("L")+"Z"}Object(le.z)(DL,qa,{transform(e,t){const n=e.as||"path",data=t.source;if(!data||!data.length)return t;let s=e.size;s=s?[0,0,s[0],s[1]]:(s=e.extent)?[s[0][0],s[0][1],s[1][0],s[1][1]]:OL;const r=this.value=LL.from(data,e.x,e.y).voronoi(s);for(let i=0,e=data.length;i<e;++i){const polygon=r.cellPolygon(i);data[i][n]=polygon?jL(polygon):null}return t.reflow(e.modified()).modifies(n)}});var SL=Math.PI/180;function YL(){var text,e,t,n,r,o,l,c=[256,256],d=CL,f=[],h=Math.random,m={};function _(e,t,n){for(var r,o,l,a,b,f=t.x,m=t.y,_=Math.sqrt(c[0]*c[0]+c[1]*c[1]),s=d(c),dt=h()<.5?1:-1,y=-dt;(r=s(y+=dt))&&(o=~~r[0],l=~~r[1],!(Math.min(Math.abs(o),Math.abs(l))>=_));)if(t.x=f+o,t.y=m+l,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>c[0]||t.y+t.y1>c[1]||n&&AL(t,e,c[0])||n&&(b=n,!((a=t).x+a.x1>b[0].x&&a.x+a.x0<b[1].x&&a.y+a.y1>b[0].y&&a.y+a.y0<b[1].y)))){for(var v,x=t.sprite,M=t.width>>5,w=c[0]>>5,k=t.x-(M<<4),L=127&k,D=32-L,O=t.y1-t.y0,j=(t.y+t.y0)*w+(k>>5),S=0;S<O;S++){v=0;for(var i=0;i<=M;i++)e[j+i]|=v<<D|(i<M?(v=x[S*M+i])>>>L:0);j+=w}return t.sprite=null,!0}return!1}return m.layout=function(){for(var d=function(canvas){canvas.width=canvas.height=1;var e=Math.sqrt(canvas.getContext("2d").getImageData(0,0,1,1).data.length>>2);canvas.width=2048/e,canvas.height=2048/e;var t=canvas.getContext("2d");return t.fillStyle=t.strokeStyle="red",t.textAlign="center",{context:t,ratio:e}}(Hu()),m=function(e){var a=[],i=-1;for(;++i<e;)a[i]=0;return a}((c[0]>>5)*c[1]),y=null,v=f.length,i=-1,x=[],data=f.map(c=>({text:text(c),font:e(c),style:n(c),weight:r(c),rotate:o(c),size:~~(t(c)+1e-14),padding:l(c),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:c})).sort((a,b)=>b.size-a.size);++i<v;){var M=data[i];M.x=c[0]*(h()+.5)>>1,M.y=c[1]*(h()+.5)>>1,TL(d,M,data,i),M.hasText&&_(m,M,y)&&(x.push(M),y?EL(y,M):y=[{x:M.x+M.x0,y:M.y+M.y0},{x:M.x+M.x1,y:M.y+M.y1}],M.x-=c[0]>>1,M.y-=c[1]>>1)}return x},m.words=function(e){return arguments.length?(f=e,m):f},m.size=function(e){return arguments.length?(c=[+e[0],+e[1]],m):c},m.font=function(t){return arguments.length?(e=FL(t),m):e},m.fontStyle=function(e){return arguments.length?(n=FL(e),m):n},m.fontWeight=function(e){return arguments.length?(r=FL(e),m):r},m.rotate=function(e){return arguments.length?(o=FL(e),m):o},m.text=function(e){return arguments.length?(text=FL(e),m):text},m.spiral=function(e){return arguments.length?(d=PL[e]||e,m):d},m.fontSize=function(e){return arguments.length?(t=FL(e),m):t},m.padding=function(e){return arguments.length?(l=FL(e),m):l},m.random=function(e){return arguments.length?(h=e,m):h},m}function TL(e,t,data,n){if(!t.sprite){var r=e.context,o=e.ratio;r.clearRect(0,0,2048/o,2048/o);var l,c,d,i,f,h=0,m=0,_=0,y=data.length;for(--n;++n<y;){if(t=data[n],r.save(),r.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,l=r.measureText(t.text+"m").width*o,d=t.size<<1,t.rotate){var v=Math.sin(t.rotate*SL),x=Math.cos(t.rotate*SL),M=l*x,w=l*v,k=d*x,L=d*v;l=Math.max(Math.abs(M+L),Math.abs(M-L))+31>>5<<5,d=~~Math.max(Math.abs(w+k),Math.abs(w-k))}else l=l+31>>5<<5;if(d>_&&(_=d),h+l>=2048&&(h=0,m+=_,_=0),m+d>=2048)break;r.translate((h+(l>>1))/o,(m+(d>>1))/o),t.rotate&&r.rotate(t.rotate*SL),r.fillText(t.text,0,0),t.padding&&(r.lineWidth=2*t.padding,r.strokeText(t.text,0,0)),r.restore(),t.width=l,t.height=d,t.xoff=h,t.yoff=m,t.x1=l>>1,t.y1=d>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,h+=l}for(var D=r.getImageData(0,0,2048/o,2048/o).data,O=[];--n>=0;)if((t=data[n]).hasText){for(c=(l=t.width)>>5,d=t.y1-t.y0,i=0;i<d*c;i++)O[i]=0;if(null==(h=t.xoff))return;m=t.yoff;var j=0,S=-1;for(f=0;f<d;f++){for(i=0;i<l;i++){var Y=c*f+(i>>5),T=D[2048*(m+f)+(h+i)<<2]?1<<31-i%32:0;O[Y]|=T,j|=T}j?S=f:(t.y0++,d--,f--,m++)}t.y1=t.y0+S,t.sprite=O.slice(0,(t.y1-t.y0)*c)}}}function AL(e,t,n){n>>=5;for(var r,o=e.sprite,l=e.width>>5,c=e.x-(l<<4),d=127&c,f=32-d,h=e.y1-e.y0,m=(e.y+e.y0)*n+(c>>5),_=0;_<h;_++){r=0;for(var i=0;i<=l;i++)if((r<<f|(i<l?(r=o[_*l+i])>>>d:0))&t[m+i])return!0;m+=n}return!1}function EL(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function CL(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function FL(e){return"function"==typeof e?e:function(){return e}}var PL={archimedean:CL,rectangular:function(e){var t=4*e[0]/e[1],n=0,r=0;return function(e){var o=e<0?-1:1;switch(Math.sqrt(1+4*o*e)-o&3){case 0:n+=t;break;case 1:r+=4;break;case 2:n-=t;break;default:r-=4}return[n,r]}}};const NL=["x","y","font","fontSize","fontStyle","fontWeight","angle"],zL=["text","font","rotate","fontSize","fontStyle","fontWeight"];function HL(e){qa.call(this,YL(),e)}HL.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:NL}]},Object(le.z)(HL,qa,{transform(e,t){!e.size||e.size[0]&&e.size[1]||Object(le.o)("Wordcloud size dimensions must be non-zero.");const n=e.modified();if(!(n||t.changed(t.ADD_REM)||zL.some((function(param){const p=e[param];return Object(le.E)(p)&&t.modified(p.fields)}))))return;const data=t.materialize(t.SOURCE).source,r=this.value,o=e.as||NL;let l,c=e.fontSize||14;if(Object(le.E)(c)?l=e.fontSizeRange:c=Object(le.m)(c),l){const e=c,t=Ff("sqrt")().domain(Object(le.q)(data,e)).range(l);c=n=>t(e(n))}data.forEach(e=>{e[o[0]]=NaN,e[o[1]]=NaN,e[o[3]]=0});const d=r.words(data).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(c).random(lo).layout(),f=r.size(),h=f[0]>>1,m=f[1]>>1,_=d.length;for(let e,t,i=0;i<_;++i)e=d[i],t=e.datum,t[o[0]]=e.x+h,t[o[1]]=e.y+m,t[o[2]]=e.font,t[o[3]]=e.size,t[o[4]]=e.style,t[o[5]]=e.weight,t[o[6]]=e.rotate;return t.reflow(n).modifies(o)}});const RL=e=>new Uint8Array(e),IL=e=>new Uint16Array(e),BL=e=>new Uint32Array(e);function $L(e,t,n){const r=(t<257?RL:t<65537?IL:BL)(e);return n&&r.set(n),r}function WL(e,i,t){const n=1<<i;return{one:n,zero:~n,range:t.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(e,t){const r=this.bisect(this.range,e.value),o=e.index,l=r[0],c=r[1],d=o.length;let i;for(i=0;i<l;++i)t[o[i]]|=n;for(i=c;i<d;++i)t[o[i]]|=n;return this}}}function UL(){let e=BL(0),t=[],n=0;return{insert:function(r,data,base){if(!data.length)return[];const o=n,l=data.length,c=BL(l);let d,f,i,h=Array(l);for(i=0;i<l;++i)h[i]=r(data[i]),c[i]=i;if(h=function(e,t){return e.sort.call(t,(a,b)=>{const t=e[a],n=e[b];return t<n?-1:t>n?1:0}),function(source,e){return Array.from(e,e=>source[e])}(e,t)}(h,c),o)d=t,f=e,t=Array(o+l),e=BL(o+l),function(base,e,t,n,r,o,l,c,d){let i,f=0,h=0;for(i=0;f<n&&h<l;++i)e[f]<r[h]?(c[i]=e[f],d[i]=t[f++]):(c[i]=r[h],d[i]=o[h++]+base);for(;f<n;++f,++i)c[i]=e[f],d[i]=t[f];for(;h<l;++h,++i)c[i]=r[h],d[i]=o[h]+base}(base,d,f,o,h,c,l,t,e);else{if(base>0)for(i=0;i<l;++i)c[i]+=base;t=h,e=c}return n=o+l,{index:c,value:h}},remove:function(r,map){const o=n;let l,i,c;for(i=0;!map[e[i]]&&i<o;++i);for(c=i;i<o;++i)map[l=e[i]]||(e[c]=l,t[c]=t[i],++c);n=o-r},bisect:function(e,r){let o;return r?o=r.length:(r=t,o=n),[$u(r,e[0],0,o),Bu(r,e[1],0,o)]},reindex:function(map){for(let i=0,t=n;i<t;++i)e[i]=map[e[i]]},index:()=>e,size:()=>n}}function qL(e){qa.call(this,function(){let e=8,data=[],t=BL(0),n=$L(0,e),r=$L(0,e);return{data:()=>data,seen:()=>{return e=t,n=data.length,t=e.length>=n?e:((r=r||new e.constructor(n)).set(e),r);var e,n,r},add(e){for(let t,i=0,n=data.length,r=e.length;i<r;++i)t=e[i],t._index=n++,data.push(t)},remove(e,map){const t=data.length,o=Array(t-e),l=data;let c,i,d;for(i=0;!map[i]&&i<t;++i)o[i]=data[i],l[i]=i;for(d=i;i<t;++i)c=data[i],map[i]?l[i]=-1:(l[i]=d,n[d]=n[i],r[d]=r[i],o[d]=c,c._index=d++),n[i]=0;return data=o,l},size:()=>data.length,curr:()=>n,prev:()=>r,reset:e=>r[e]=n[e],all:()=>e<257?255:e<65537?65535:4294967295,set(e,t){n[e]|=t},clear(e,t){n[e]&=~t},resize(t,o){(t>n.length||o>e)&&(e=Math.max(o,e),n=$L(t,e,n),r=$L(t,e))}}}(),e),this._indices=null,this._dims=null}function VL(e){qa.call(this,null,e)}qL.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},Object(le.z)(qL,qa,{transform(e,t){return this._dims?e.modified("fields")||e.fields.some(e=>t.modified(e.fields))?this.reinit(e,t):this.eval(e,t):this.init(e,t)},init(e,t){const n=e.fields,r=e.query,o=this._indices={},l=this._dims=[],c=r.length;let d,f,i=0;for(;i<c;++i)d=n[i].fname,f=o[d]||(o[d]=UL()),l.push(WL(f,i,r[i]));return this.eval(e,t)},reinit(e,t){const output=t.materialize().fork(),n=e.fields,r=e.query,o=this._indices,l=this._dims,c=this.value,d=c.curr(),f=c.prev(),h=c.all(),m=output.rem=output.add,_=output.mod,y=r.length,v={};let x,M,w,k,L,D,i,O,j;if(f.set(d),t.rem.length&&(L=this.remove(e,t,output)),t.add.length&&c.add(t.add),t.mod.length)for(D={},k=t.mod,i=0,O=k.length;i<O;++i)D[k[i]._index]=1;for(i=0;i<y;++i)j=n[i],(!l[i]||e.modified("fields",i)||t.modified(j.fields))&&(w=j.fname,(x=v[w])||(o[w]=M=UL(),v[w]=x=M.insert(j,t.source,0)),l[i]=WL(M,i,r[i]).onAdd(x,d));for(i=0,O=c.data().length;i<O;++i)L[i]||(f[i]!==d[i]?m.push(i):D[i]&&d[i]!==h&&_.push(i));return c.mask=(1<<y)-1,output},eval(e,t){const output=t.materialize().fork(),n=this._dims.length;let mask=0;return t.rem.length&&(this.remove(e,t,output),mask|=(1<<n)-1),e.modified("query")&&!e.modified("fields")&&(mask|=this.update(e,t,output)),t.add.length&&(this.insert(e,t,output),mask|=(1<<n)-1),t.mod.length&&(this.modify(t,output),mask|=(1<<n)-1),this.value.mask=mask,output},insert(e,t,output){const n=t.add,r=this.value,o=this._dims,l=this._indices,c=e.fields,d={},f=output.add,h=r.size()+n.length,m=o.length;let _,y,v,x=r.size();r.resize(h,m),r.add(n);const M=r.curr(),w=r.prev(),k=r.all();for(_=0;_<m;++_)y=c[_].fname,v=d[y]||(d[y]=l[y].insert(c[_],n,x)),o[_].onAdd(v,M);for(;x<h;++x)w[x]=k,M[x]!==k&&f.push(x)},modify(e,output){const t=output.mod,n=this.value,r=n.curr(),o=n.all(),l=e.mod;let i,c,d;for(i=0,c=l.length;i<c;++i)d=l[i]._index,r[d]!==o&&t.push(d)},remove(e,t,output){const n=this._indices,r=this.value,o=r.curr(),l=r.prev(),c=r.all(),map={},d=output.rem,f=t.rem;let i,h,m,_;for(i=0,h=f.length;i<h;++i)m=f[i]._index,map[m]=1,l[m]=_=o[m],o[m]=c,_!==c&&d.push(m);for(m in n)n[m].remove(h,map);return this.reindex(t,h,map),map},reindex(e,t,map){const n=this._indices,r=this.value;e.runAfter(()=>{const e=r.remove(t,map);for(const t in n)n[t].reindex(e)})},update(e,t,output){const n=this._dims,r=e.query,o=t.stamp,l=n.length;let i,q,mask=0;for(output.filters=0,q=0;q<l;++q)e.modified("query",q)&&(i=q,++mask);if(1===mask)mask=n[i].one,this.incrementOne(n[i],r[i],output.add,output.rem);else for(q=0,mask=0;q<l;++q)e.modified("query",q)&&(mask|=n[q].one,this.incrementAll(n[q],r[q],o,output.add),output.rem=output.add);return mask},incrementAll(e,t,n,r){const o=this.value,l=o.seen(),c=o.curr(),d=o.prev(),f=e.index(),h=e.bisect(e.range),m=e.bisect(t),_=m[0],y=m[1],v=h[0],x=h[1],M=e.one;let i,w,k;if(_<v)for(i=_,w=Math.min(v,y);i<w;++i)k=f[i],l[k]!==n&&(d[k]=c[k],l[k]=n,r.push(k)),c[k]^=M;else if(_>v)for(i=v,w=Math.min(_,x);i<w;++i)k=f[i],l[k]!==n&&(d[k]=c[k],l[k]=n,r.push(k)),c[k]^=M;if(y>x)for(i=Math.max(_,x),w=y;i<w;++i)k=f[i],l[k]!==n&&(d[k]=c[k],l[k]=n,r.push(k)),c[k]^=M;else if(y<x)for(i=Math.max(v,y),w=x;i<w;++i)k=f[i],l[k]!==n&&(d[k]=c[k],l[k]=n,r.push(k)),c[k]^=M;e.range=t.slice()},incrementOne(e,t,n,r){const o=this.value.curr(),l=e.index(),c=e.bisect(e.range),d=e.bisect(t),f=d[0],h=d[1],m=c[0],_=c[1],y=e.one;let i,v,x;if(f<m)for(i=f,v=Math.min(m,h);i<v;++i)x=l[i],o[x]^=y,n.push(x);else if(f>m)for(i=m,v=Math.min(f,_);i<v;++i)x=l[i],o[x]^=y,r.push(x);if(h>_)for(i=Math.max(f,_),v=h;i<v;++i)x=l[i],o[x]^=y,n.push(x);else if(h<_)for(i=Math.max(m,h),v=_;i<v;++i)x=l[i],o[x]^=y,r.push(x);e.range=t.slice()}}),VL.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},Object(le.z)(VL,qa,{transform(e,t){const n=~(e.ignore||0),r=e.filter,mask=r.mask;if(0==(mask&n))return t.StopPropagation;const output=t.fork(t.ALL),data=r.data(),o=r.curr(),l=r.prev(),c=e=>o[e]&n?null:data[e];return output.filter(output.MOD,c),mask&mask-1?(output.filter(output.ADD,e=>{const t=o[e]&n;return!t&&t^l[e]&n?data[e]:null}),output.filter(output.REM,e=>{const t=o[e]&n;return t&&!(t^t^l[e]&n)?data[e]:null})):(output.filter(output.ADD,c),output.filter(output.REM,e=>(o[e]&n)===mask?data[e]:null)),output.filter(output.SOURCE,e=>c(e._index))}});function JL(e){this.type=e}var GL,XL,ZL,KL,QL;JL.prototype.visit=function(e){let t,i,n;if(e(this))return 1;for(t=function(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case"CallExpression":return[e.callee].concat(e.arguments);case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];case"Identifier":case"Literal":case"RawCode":default:return[]}}(this),i=0,n=t.length;i<n;++i)if(t[i].visit(e))return 1};(GL={})[1]="Boolean",GL[2]="<end>",GL[3]="Identifier",GL[4]="Keyword",GL[5]="Null",GL[6]="Numeric",GL[7]="Punctuator",GL[8]="String",GL[9]="RegularExpression";var eD="ILLEGAL",tD=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),nD=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function rD(e,t){if(!e)throw new Error("ASSERT: "+t)}function iD(e){return e>=48&&e<=57}function aD(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function oD(e){return"01234567".indexOf(e)>=0}function sD(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function lD(e){return 10===e||13===e||8232===e||8233===e}function uD(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&tD.test(String.fromCharCode(e))}function cD(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&nD.test(String.fromCharCode(e))}const dD={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function fD(){for(;ZL<KL;){const e=XL.charCodeAt(ZL);if(!sD(e)&&!lD(e))break;++ZL}}function hD(e){var i,t,n,code=0;for(t="u"===e?4:2,i=0;i<t;++i)ZL<KL&&aD(XL[ZL])?(n=XL[ZL++],code=16*code+"0123456789abcdef".indexOf(n.toLowerCase())):SD({},"Unexpected token %0",eD);return String.fromCharCode(code)}function mD(){var e,code,t,n;for(code=0,"}"===(e=XL[ZL])&&SD({},"Unexpected token %0",eD);ZL<KL&&aD(e=XL[ZL++]);)code=16*code+"0123456789abcdef".indexOf(e.toLowerCase());return(code>1114111||"}"!==e)&&SD({},"Unexpected token %0",eD),code<=65535?String.fromCharCode(code):(t=55296+(code-65536>>10),n=56320+(code-65536&1023),String.fromCharCode(t,n))}function pD(){var e,t;for(e=XL.charCodeAt(ZL++),t=String.fromCharCode(e),92===e&&(117!==XL.charCodeAt(ZL)&&SD({},"Unexpected token %0",eD),++ZL,(e=hD("u"))&&"\\"!==e&&uD(e.charCodeAt(0))||SD({},"Unexpected token %0",eD),t=e);ZL<KL&&cD(e=XL.charCodeAt(ZL));)++ZL,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==XL.charCodeAt(ZL)&&SD({},"Unexpected token %0",eD),++ZL,(e=hD("u"))&&"\\"!==e&&cD(e.charCodeAt(0))||SD({},"Unexpected token %0",eD),t+=e);return t}function gD(){var e,t;return e=ZL,{type:1===(t=92===XL.charCodeAt(ZL)?pD():function(){var e,t;for(e=ZL++;ZL<KL;){if(92===(t=XL.charCodeAt(ZL)))return ZL=e,pD();if(!cD(t))break;++ZL}return XL.slice(e,ZL)}()).length?3:dD.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:e,end:ZL}}function _D(){var e,t,n,r,o=ZL,code=XL.charCodeAt(ZL),l=XL[ZL];switch(code){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++ZL,{type:7,value:String.fromCharCode(code),start:o,end:ZL};default:if(61===(e=XL.charCodeAt(ZL+1)))switch(code){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return ZL+=2,{type:7,value:String.fromCharCode(code)+String.fromCharCode(e),start:o,end:ZL};case 33:case 61:return ZL+=2,61===XL.charCodeAt(ZL)&&++ZL,{type:7,value:XL.slice(o,ZL),start:o,end:ZL}}}return">>>="===(r=XL.substr(ZL,4))?{type:7,value:r,start:o,end:ZL+=4}:">>>"===(n=r.substr(0,3))||"<<="===n||">>="===n?{type:7,value:n,start:o,end:ZL+=3}:l===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(l)>=0||"=>"===t?{type:7,value:t,start:o,end:ZL+=2}:("//"===t&&SD({},"Unexpected token %0",eD),"<>=!+-*%&|^/".indexOf(l)>=0?{type:7,value:l,start:o,end:++ZL}:void SD({},"Unexpected token %0",eD))}function yD(){var e,t,n;if(rD(iD((n=XL[ZL]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=ZL,e="","."!==n){if(e=XL[ZL++],n=XL[ZL],"0"===e){if("x"===n||"X"===n)return++ZL,function(e){let t="";for(;ZL<KL&&aD(XL[ZL]);)t+=XL[ZL++];return 0===t.length&&SD({},"Unexpected token %0",eD),uD(XL.charCodeAt(ZL))&&SD({},"Unexpected token %0",eD),{type:6,value:parseInt("0x"+t,16),start:e,end:ZL}}(t);if(oD(n))return function(e){let t="0"+XL[ZL++];for(;ZL<KL&&oD(XL[ZL]);)t+=XL[ZL++];return(uD(XL.charCodeAt(ZL))||iD(XL.charCodeAt(ZL)))&&SD({},"Unexpected token %0",eD),{type:6,value:parseInt(t,8),octal:!0,start:e,end:ZL}}(t);n&&iD(n.charCodeAt(0))&&SD({},"Unexpected token %0",eD)}for(;iD(XL.charCodeAt(ZL));)e+=XL[ZL++];n=XL[ZL]}if("."===n){for(e+=XL[ZL++];iD(XL.charCodeAt(ZL));)e+=XL[ZL++];n=XL[ZL]}if("e"===n||"E"===n)if(e+=XL[ZL++],"+"!==(n=XL[ZL])&&"-"!==n||(e+=XL[ZL++]),iD(XL.charCodeAt(ZL)))for(;iD(XL.charCodeAt(ZL));)e+=XL[ZL++];else SD({},"Unexpected token %0",eD);return uD(XL.charCodeAt(ZL))&&SD({},"Unexpected token %0",eD),{type:6,value:parseFloat(e),start:t,end:ZL}}function bD(){var e,body,t,n;return QL=null,fD(),e=ZL,body=function(){var e,t,n,r;for(rD("/"===(e=XL[ZL]),"Regular expression literal must start with a slash"),t=XL[ZL++],n=!1,r=!1;ZL<KL;)if(t+=e=XL[ZL++],"\\"===e)lD((e=XL[ZL++]).charCodeAt(0))&&SD({},"Invalid regular expression: missing /"),t+=e;else if(lD(e.charCodeAt(0)))SD({},"Invalid regular expression: missing /");else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||SD({},"Invalid regular expression: missing /"),{value:t.substr(1,t.length-2),literal:t}}(),t=function(){var e,t,n;for(t="",n="";ZL<KL&&cD((e=XL[ZL]).charCodeAt(0));)++ZL,"\\"===e&&ZL<KL?SD({},"Unexpected token %0",eD):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&SD({},"Invalid regular expression",n),{value:n,literal:t}}(),n=function(pattern,e){let t=pattern;e.indexOf("u")>=0&&(t=t.replace(/\\u\{([0-9a-fA-F]+)\}/g,(e,t)=>{if(parseInt(t,16)<=1114111)return"x";SD({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(t)}catch(e){SD({},"Invalid regular expression")}try{return new RegExp(pattern,e)}catch(e){return null}}(body.value,t.value),{literal:body.literal+t.literal,value:n,regex:{pattern:body.value,flags:t.value},start:e,end:ZL}}function vD(){if(fD(),ZL>=KL)return{type:2,start:ZL,end:ZL};const e=XL.charCodeAt(ZL);return uD(e)?gD():40===e||41===e||59===e?_D():39===e||34===e?function(){var e,t,n,code,r="",o=!1;for(rD("'"===(e=XL[ZL])||'"'===e,"String literal must starts with a quote"),t=ZL,++ZL;ZL<KL;){if((n=XL[ZL++])===e){e="";break}if("\\"===n)if((n=XL[ZL++])&&lD(n.charCodeAt(0)))"\r"===n&&"\n"===XL[ZL]&&++ZL;else switch(n){case"u":case"x":"{"===XL[ZL]?(++ZL,r+=mD()):r+=hD(n);break;case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"b":r+="\b";break;case"f":r+="\f";break;case"v":r+="\v";break;default:oD(n)?(0!==(code="01234567".indexOf(n))&&(o=!0),ZL<KL&&oD(XL[ZL])&&(o=!0,code=8*code+"01234567".indexOf(XL[ZL++]),"0123".indexOf(n)>=0&&ZL<KL&&oD(XL[ZL])&&(code=8*code+"01234567".indexOf(XL[ZL++]))),r+=String.fromCharCode(code)):r+=n}else{if(lD(n.charCodeAt(0)))break;r+=n}}return""!==e&&SD({},"Unexpected token %0",eD),{type:8,value:r,octal:o,start:t,end:ZL}}():46===e?iD(XL.charCodeAt(ZL+1))?yD():_D():iD(e)?yD():_D()}function xD(){const e=QL;return ZL=e.end,QL=vD(),ZL=e.end,e}function MD(){const e=ZL;QL=vD(),ZL=e}function wD(e,t,n){const r=new JL("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return r.operator=e,r.left=t,r.right=n,r}function kD(e,t){const n=new JL("CallExpression");return n.callee=e,n.arguments=t,n}function LD(e){const t=new JL("Identifier");return t.name=e,t}function DD(e){const t=new JL("Literal");return t.value=e.value,t.raw=XL.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function OD(e,object,t){const n=new JL("MemberExpression");return n.computed="["===e,n.object=object,n.property=t,n.computed||(t.member=!0),n}function jD(e,t,n){const r=new JL("Property");return r.key=t,r.value=n,r.kind=e,r}function SD(e,t){var n,r=Array.prototype.slice.call(arguments,2),o=t.replace(/%(\d)/g,(e,t)=>(rD(t<r.length,"Message reference must be in range"),r[t]));throw(n=new Error(o)).index=ZL,n.description=o,n}function YD(e){2===e.type&&SD(e,"Unexpected end of input"),6===e.type&&SD(e,"Unexpected number"),8===e.type&&SD(e,"Unexpected string"),3===e.type&&SD(e,"Unexpected identifier"),4===e.type&&SD(e,"Unexpected reserved word"),SD(e,"Unexpected token %0",e.value)}function TD(e){const t=xD();7===t.type&&t.value===e||YD(t)}function AD(e){return 7===QL.type&&QL.value===e}function ED(e){return 4===QL.type&&QL.value===e}function CD(){const e=[];for(ZL=QL.start,TD("[");!AD("]");)AD(",")?(xD(),e.push(null)):(e.push(qD()),AD("]")||TD(","));return xD(),function(e){const t=new JL("ArrayExpression");return t.elements=e,t}(e)}function FD(){ZL=QL.start;const e=xD();return 8===e.type||6===e.type?(e.octal&&SD(e,"Octal literals are not allowed in strict mode."),DD(e)):LD(e.value)}function PD(){var e,t,n;return ZL=QL.start,3===(e=QL).type?(n=FD(),TD(":"),jD("init",n,qD())):2!==e.type&&7!==e.type?(t=FD(),TD(":"),jD("init",t,qD())):void YD(e)}function ND(){var e,t,n=[],map={},r=String;for(ZL=QL.start,TD("{");!AD("}");)t="$"+("Identifier"===(e=PD()).key.type?e.key.name:r(e.key.value)),Object.prototype.hasOwnProperty.call(map,t)?SD({},"Duplicate data property in object literal not allowed in strict mode"):map[t]=!0,n.push(e),AD("}")||TD(",");return TD("}"),function(e){const t=new JL("ObjectExpression");return t.properties=e,t}(n)}const zD={if:1};function HD(){var e,t,n;if(AD("("))return function(){TD("(");const e=VD();return TD(")"),e}();if(AD("["))return CD();if(AD("{"))return ND();if(e=QL.type,ZL=QL.start,3===e||zD[QL.value])n=LD(xD().value);else if(8===e||6===e)QL.octal&&SD(QL,"Octal literals are not allowed in strict mode."),n=DD(xD());else{if(4===e)throw new Error("Disabled.");1===e?((t=xD()).value="true"===t.value,n=DD(t)):5===e?((t=xD()).value=null,n=DD(t)):AD("/")||AD("/=")?(n=DD(bD()),MD()):YD(xD())}return n}function RD(){const e=[];if(TD("("),!AD(")"))for(;ZL<KL&&(e.push(qD()),!AD(")"));)TD(",");return TD(")"),e}function ID(){return TD("."),function(){ZL=QL.start;const e=xD();return function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e)||YD(e),LD(e.value)}()}function BD(){TD("[");const e=VD();return TD("]"),e}function $D(){const e=function(){var e;for(e=HD();;)if(AD("."))e=OD(".",e,ID());else if(AD("("))e=kD(e,RD());else{if(!AD("["))break;e=OD("[",e,BD())}return e}();if(7===QL.type&&(AD("++")||AD("--")))throw new Error("Disabled.");return e}function WD(){var e,t;if(7!==QL.type&&4!==QL.type)t=$D();else{if(AD("++")||AD("--"))throw new Error("Disabled.");if(AD("+")||AD("-")||AD("~")||AD("!"))e=xD(),t=WD(),t=function(e,t){const n=new JL("UnaryExpression");return n.operator=e,n.argument=t,n.prefix=!0,n}(e.value,t);else{if(ED("delete")||ED("void")||ED("typeof"))throw new Error("Disabled.");t=$D()}}return t}function UD(e){let t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function qD(){var e,t;return e=function(){var marker,e,t,n,r,o,l,c,d,i;if(marker=QL,d=WD(),0===(r=UD(n=QL)))return d;for(n.prec=r,xD(),e=[marker,QL],o=[d,n,l=WD()];(r=UD(QL))>0;){for(;o.length>2&&r<=o[o.length-2].prec;)l=o.pop(),c=o.pop().value,d=o.pop(),e.pop(),t=wD(c,d,l),o.push(t);(n=xD()).prec=r,o.push(n),e.push(QL),t=WD(),o.push(t)}for(t=o[i=o.length-1],e.pop();i>1;)e.pop(),t=wD(o[i-1].value,o[i-2],t),i-=2;return t}(),AD("?")&&(xD(),t=qD(),TD(":"),e=function(e,t,n){const r=new JL("ConditionalExpression");return r.test=e,r.consequent=t,r.alternate=n,r}(e,t,qD())),e}function VD(){const e=qD();if(AD(","))throw new Error("Disabled.");return e}function JD(code){ZL=0,KL=(XL=code).length,QL=null,MD();const e=VD();if(2!==QL.type)throw new Error("Unexpect token after expression.");return e}var GD={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function XD(e){function t(t,n,r){return o=>function(t,n,r,o){let l=e(n[0]);return r&&(l=r+"("+l+")",0===r.lastIndexOf("new ",0)&&(l="("+l+")")),l+"."+t+(o<0?"":0===o?"()":"("+n.slice(1).map(e).join(",")+")")}(t,o,n,r)}const n="new Date";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&Object(le.o)("Missing arguments to clamp function."),t.length>3&&Object(le.o)("Too many arguments to clamp function.");const a=t.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:t("getDate",n,0),day:t("getDay",n,0),year:t("getFullYear",n,0),month:t("getMonth",n,0),hours:t("getHours",n,0),minutes:t("getMinutes",n,0),seconds:t("getSeconds",n,0),milliseconds:t("getMilliseconds",n,0),time:t("getTime",n,0),timezoneoffset:t("getTimezoneOffset",n,0),utcdate:t("getUTCDate",n,0),utcday:t("getUTCDay",n,0),utcyear:t("getUTCFullYear",n,0),utcmonth:t("getUTCMonth",n,0),utchours:t("getUTCHours",n,0),utcminutes:t("getUTCMinutes",n,0),utcseconds:t("getUTCSeconds",n,0),utcmilliseconds:t("getUTCMilliseconds",n,0),length:t("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:t("toUpperCase","String",0),lower:t("toLowerCase","String",0),substring:t("substring","String"),split:t("split","String"),trim:t("trim","String",0),regexp:"RegExp",test:t("test","RegExp"),if:function(t){t.length<3&&Object(le.o)("Missing arguments to if function."),t.length>3&&Object(le.o)("Too many arguments to if function.");const a=t.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}var ZD,KD,QD,eO,tO,nO=new eb,rO=new eb,iO={point:Mb,lineStart:Mb,lineEnd:Mb,polygonStart:function(){nO=new eb,iO.lineStart=aO,iO.lineEnd=oO},polygonEnd:function(){var e=+nO;rO.add(e<0?ib+e:e),this.lineStart=this.lineEnd=this.point=Mb},sphere:function(){rO.add(ib)}};function aO(){iO.point=sO}function oO(){lO(ZD,KD)}function sO(e,t){iO.point=lO,ZD=e,KD=t,QD=e*=ob,eO=cb(t=(t*=ob)/2+rb),tO=gb(t)}function lO(e,t){var n=(e*=ob)-QD,r=n>=0?1:-1,o=r*n,l=cb(t=(t*=ob)/2+rb),c=gb(t),d=tO*c,u=eO*l+d*cb(o),f=d*r*gb(o);nO.add(ub(f,u)),QD=e,eO=l,tO=c}var uO,cO,dO,fO,hO,mO,pO,gO,_O,yO,bO,vO={point:xO,lineStart:wO,lineEnd:kO,polygonStart:function(){vO.point=LO,vO.lineStart=DO,vO.lineEnd=OO,_O=new eb,iO.polygonStart()},polygonEnd:function(){iO.polygonEnd(),vO.point=xO,vO.lineStart=wO,vO.lineEnd=kO,nO<0?(uO=-(dO=180),cO=-(fO=90)):_O>1e-6?fO=90:_O<-1e-6&&(cO=-90),bO[0]=uO,bO[1]=dO},sphere:function(){uO=-(dO=180),cO=-(fO=90)}};function xO(e,t){yO.push(bO=[uO=e,dO=e]),t<cO&&(cO=t),t>fO&&(fO=t)}function MO(e,t){var p=Yv([e*ob,t*ob]);if(gO){var n=Av(gO,p),r=Av([n[1],-n[0],0],n);Fv(r),r=Sv(r);var o,l=e-hO,c=l>0?1:-1,d=r[0]*ab*c,f=sb(l)>180;f^(c*hO<d&&d<c*e)?(o=r[1]*ab)>fO&&(fO=o):f^(c*hO<(d=(d+360)%360-180)&&d<c*e)?(o=-r[1]*ab)<cO&&(cO=o):(t<cO&&(cO=t),t>fO&&(fO=t)),f?e<hO?jO(uO,e)>jO(uO,dO)&&(dO=e):jO(e,dO)>jO(uO,dO)&&(uO=e):dO>=uO?(e<uO&&(uO=e),e>dO&&(dO=e)):e>hO?jO(uO,e)>jO(uO,dO)&&(dO=e):jO(e,dO)>jO(uO,dO)&&(uO=e)}else yO.push(bO=[uO=e,dO=e]);t<cO&&(cO=t),t>fO&&(fO=t),gO=p,hO=e}function wO(){vO.point=MO}function kO(){bO[0]=uO,bO[1]=dO,vO.point=xO,gO=null}function LO(e,t){if(gO){var n=e-hO;_O.add(sb(n)>180?n+(n>0?360:-360):n)}else mO=e,pO=t;iO.point(e,t),MO(e,t)}function DO(){iO.lineStart()}function OO(){LO(mO,pO),iO.lineEnd(),sb(_O)>1e-6&&(uO=-(dO=180)),bO[0]=uO,bO[1]=dO,gO=null}function jO(e,t){return(t-=e)<0?t+360:t}function SO(a,b){return a[0]-b[0]}function YO(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var TO,AO,EO,CO,FO,PO,NO,zO,HO,RO,IO,BO,$O,WO,UO,qO,VO={sphere:Mb,point:JO,lineStart:XO,lineEnd:QO,polygonStart:function(){VO.lineStart=ej,VO.lineEnd=tj},polygonEnd:function(){VO.lineStart=XO,VO.lineEnd=QO}};function JO(e,t){e*=ob;var n=cb(t*=ob);GO(n*cb(e),n*gb(e),gb(t))}function GO(e,t,n){++TO,EO+=(e-EO)/TO,CO+=(t-CO)/TO,FO+=(n-FO)/TO}function XO(){VO.point=ZO}function ZO(e,t){e*=ob;var n=cb(t*=ob);WO=n*cb(e),UO=n*gb(e),qO=gb(t),VO.point=KO,GO(WO,UO,qO)}function KO(e,t){e*=ob;var n=cb(t*=ob),r=n*cb(e),o=n*gb(e),l=gb(t),c=ub(yb((c=UO*l-qO*o)*c+(c=qO*r-WO*l)*c+(c=WO*o-UO*r)*c),WO*r+UO*o+qO*l);AO+=c,PO+=c*(WO+(WO=r)),NO+=c*(UO+(UO=o)),zO+=c*(qO+(qO=l)),GO(WO,UO,qO)}function QO(){VO.point=JO}function ej(){VO.point=nj}function tj(){rj(BO,$O),VO.point=JO}function nj(e,t){BO=e,$O=t,e*=ob,t*=ob,VO.point=rj;var n=cb(t);WO=n*cb(e),UO=n*gb(e),qO=gb(t),GO(WO,UO,qO)}function rj(e,t){e*=ob;var n=cb(t*=ob),r=n*cb(e),o=n*gb(e),l=gb(t),c=UO*l-qO*o,d=qO*r-WO*l,f=WO*o-UO*r,h=hb(c,d,f),m=xb(h),_=h&&-m/h;HO.add(_*c),RO.add(_*d),IO.add(_*f),AO+=m,PO+=m*(WO+(WO=r)),NO+=m*(UO+(UO=o)),zO+=m*(qO+(qO=l)),GO(WO,UO,qO)}function ij(e,t){for(var n,r,o=t.fields,l=t.values,c=o.length,i=0;i<c;++i)if((r=o[i]).getter=le.u.getter||Object(le.u)(r.field),n=r.getter(e),Object(le.D)(n)&&(n=Object(le.eb)(n)),Object(le.D)(l[i])&&(l[i]=Object(le.eb)(l[i])),Object(le.D)(l[i][0])&&(l[i]=l[i].map(le.eb)),"E"===r.type){if(Object(le.B)(l[i])?l[i].indexOf(n)<0:n!==l[i])return!1}else if("R"===r.type){if(!Object(le.A)(n,l[i]))return!1}else if("R-RE"===r.type){if(!Object(le.A)(n,l[i],!0,!1))return!1}else if("R-E"===r.type){if(!Object(le.A)(n,l[i],!1,!1))return!1}else if("R-LE"===r.type&&!Object(le.A)(n,l[i],!1,!0))return!1;return!0}const aj=Object(le.u)("_vgsid_"),oj=function(e){let t=e,n=e;function r(a,e,t,r){for(null==t&&(t=0),null==r&&(r=a.length);t<r;){const o=t+r>>>1;n(a[o],e)<0?t=o+1:r=o}return t}return 1===e.length&&(t=(t,n)=>e(t)-n,n=function(e){return(t,n)=>{return(a=e(t))<(b=n)?-1:a>b?1:a>=b?0:NaN;var a,b}}(e)),{left:r,center:function(a,e,n,o){null==n&&(n=0),null==o&&(o=a.length);const i=r(a,e,n,o-1);return i>n&&t(a[i-1],e)>-t(a[i],e)?i-1:i},right:function(a,e,t,r){for(null==t&&(t=0),null==r&&(r=a.length);t<r;){const o=t+r>>>1;n(a[o],e)>0?r=o:t=o+1}return t}}}(aj),sj=oj.left,lj=oj.right;var uj={E_union:function(base,e){if(!base.length)return e;for(var i=0,t=e.length;i<t;++i)base.indexOf(e[i])<0&&base.push(e[i]);return base},E_intersect:function(base,e){return base.length?base.filter(t=>e.indexOf(t)>=0):e},R_union:function(base,e){var t=Object(le.eb)(e[0]),n=Object(le.eb)(e[1]);return t>n&&(t=e[1],n=e[0]),base.length?(base[0]>t&&(base[0]=t),base[1]<n&&(base[1]=n),base):[t,n]},R_intersect:function(base,e){var t=Object(le.eb)(e[0]),n=Object(le.eb)(e[1]);return t>n&&(t=e[1],n=e[0]),base.length?n<base[0]||base[1]<t?[]:(base[0]<t&&(base[0]=t),base[1]>n&&(base[1]=n),base):[t,n]}};function cj(e,t,n,r){"Literal"!==t[0].type&&Object(le.o)("First argument to selection functions must be a string literal.");const data=t[0].value,o=":"+data;"intersect"!==(t.length>=2&&Object(le.W)(t).value)||Object(le.w)(r,"@unit")||(r["@unit"]=n.getData(data).indataRef(n,"unit")),Object(le.w)(r,o)||(r[o]=n.getData(data).tuplesRef())}function dj(e){const data=this.context.data[e];return data?data.values.value:[]}const fj=e=>function(t,n){return this.context.dataflow.locale()[e](n)(t)},hj=fj("format"),mj=fj("timeFormat"),pj=fj("utcFormat"),gj=fj("timeParse"),_j=fj("utcParse"),yj=new Date(2e3,0,1);function bj(e,t,n){return Number.isInteger(e)&&Number.isInteger(t)?(yj.setYear(2e3),yj.setMonth(e),yj.setDate(t),mj.call(this,yj,n)):""}function vj(e,t,n,r){"Literal"!==t[0].type&&Object(le.o)("First argument to data functions must be a string literal.");const data=t[0].value,o=":"+data;if(!Object(le.w)(o,r))try{r[o]=n.getData(data).tuplesRef()}catch(e){}}function xj(e,t,n,r){if("Literal"===t[0].type)Mj(n,r,t[0].value);else for(e in n.scales)Mj(n,r,e)}function Mj(e,t,n){const r="%"+n;if(!Object(le.w)(t,r))try{t[r]=e.scaleRef(n)}catch(e){}}function wj(e,t){let s;return Object(le.E)(e)?e:Object(le.J)(e)?(s=t.scales[e])&&s.value:void 0}function kj(e,t,n){t.__bandwidth=s=>s&&s.bandwidth?s.bandwidth():0,n._bandwidth=xj,n._range=xj,n._scale=xj;const r=t=>"_["+("Literal"===t.type?Object(le.bb)("%"+t.value):Object(le.bb)("%")+"+"+e(t))+"]";return{_bandwidth:e=>"this.__bandwidth(".concat(r(e[0]),")"),_range:e=>"".concat(r(e[0]),".range()"),_scale:t=>"".concat(r(t[0]),"(").concat(e(t[1]),")")}}function Lj(e,t){return function(n,r,o){if(n){const p=wj(n,(o||this).context);return p&&p.path[e](r)}return t(r)}}const Dj=Lj("area",(function(object){return rO=new eb,Qy(object,iO),2*rO})),Oj=Lj("bounds",(function(e){var i,t,a,b,n,r,o;if(fO=dO=-(uO=cO=1/0),yO=[],Qy(e,vO),t=yO.length){for(yO.sort(SO),i=1,n=[a=yO[0]];i<t;++i)YO(a,(b=yO[i])[0])||YO(a,b[1])?(jO(a[0],b[1])>jO(a[0],a[1])&&(a[1]=b[1]),jO(b[0],a[1])>jO(a[0],a[1])&&(a[0]=b[0])):n.push(a=b);for(r=-1/0,i=0,a=n[t=n.length-1];i<=t;a=b,++i)b=n[i],(o=jO(a[1],b[0]))>r&&(r=o,uO=b[0],dO=a[1])}return yO=bO=null,uO===1/0||cO===1/0?[[NaN,NaN],[NaN,NaN]]:[[uO,cO],[dO,fO]]})),jj=Lj("centroid",(function(object){TO=AO=EO=CO=FO=PO=NO=zO=0,HO=new eb,RO=new eb,IO=new eb,Qy(object,VO);var e=+HO,t=+RO,n=+IO,r=hb(e,t,n);return r<1e-12&&(e=PO,t=NO,n=zO,AO<1e-6&&(e=EO,t=CO,n=FO),(r=hb(e,t,n))<1e-12)?[NaN,NaN]:[ub(t,e)*ab,xb(n/r)*ab]}));function Sj(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(t){e.warn(t)}return n[n.length-1]}function Yj(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Tj(e){const t=gc(e);return.2126*Yj(t.r)+.7152*Yj(t.g)+.0722*Yj(t.b)}function Aj(a,b){return a===b||a!=a&&b!=b||(Object(le.B)(a)?!(!Object(le.B)(b)||a.length!==b.length)&&function(a,b){for(let i=0,e=a.length;i<e;++i)if(!Aj(a[i],b[i]))return!1;return!0}(a,b):!(!Object(le.H)(a)||!Object(le.H)(b))&&Ej(a,b))}function Ej(a,b){for(const e in a)if(!Aj(a[e],b[e]))return!1;return!0}function Cj(e){return t=>Ej(e,t)}const Fj={};function Pj(e){return Object(le.B)(e)||ArrayBuffer.isView(e)?e:null}function Nj(e){return Pj(e)||(Object(le.J)(e)?e:null)}const zj=e=>e.data;function Hj(e,t){const n=dj.call(t,e);return n.root&&n.root.lookup||{}}const Rj=()=>"undefined"!=typeof window&&window||null;const Ij={random:()=>lo(),cumulativeNormal:vo,cumulativeLogNormal:Do,cumulativeUniform:Ao,densityNormal:bo,densityLogNormal:Lo,densityUniform:To,quantileNormal:xo,quantileLogNormal:Oo,quantileUniform:Eo,sampleNormal:yo,sampleLogNormal:ko,sampleUniform:Yo,isArray:le.B,isBoolean:le.C,isDate:le.D,isDefined:e=>void 0!==e,isNumber:le.G,isObject:le.H,isRegExp:le.I,isString:le.J,isTuple:ha,isValid:e=>null!=e&&e==e,toBoolean:le.cb,toDate:le.db,toNumber:le.eb,toString:le.gb,indexof:function(e,...t){return Nj(e).indexOf(...t)},join:function(e,...t){return Pj(e).join(...t)},lastindexof:function(e,...t){return Nj(e).lastIndexOf(...t)},replace:function(e,pattern,t){return Object(le.E)(t)&&Object(le.o)("Function argument passed to replace."),String(e).replace(pattern,t)},reverse:function(e){return Pj(e).slice().reverse()},slice:function(e,...t){return Nj(e).slice(...t)},flush:le.v,lerp:le.L,merge:function(){const e=[].slice.call(arguments);return e.unshift({}),Object(le.p)(...e)},pad:le.R,peek:le.W,pluck:function(data,e){const t=Fj[e]||(Fj[e]=Object(le.u)(e));return Object(le.B)(data)?data.map(t):t(data)},span:le.Z,inrange:le.A,truncate:le.hb,rgb:gc,lab:Zd,hcl:af,hsl:wc,luminance:Tj,contrast:function(e,t){const n=Tj(e),r=Tj(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},sequence:Ko,format:hj,utcFormat:pj,utcParse:_j,utcOffset:rr,utcSequence:or,timeFormat:mj,timeParse:gj,timeOffset:nr,timeSequence:ar,timeUnitSpecifier:On,monthFormat:function(e){return bj.call(this,e,1,"%B")},monthAbbrevFormat:function(e){return bj.call(this,e,1,"%b")},dayFormat:function(e){return bj.call(this,0,2+e,"%A")},dayAbbrevFormat:function(e){return bj.call(this,0,2+e,"%a")},quarter:le.X,utcquarter:le.jb,week:Tn,utcweek:Nn,dayofyear:Yn,utcdayofyear:Pn,warn:function(){return Sj(this.context.dataflow,"warn",arguments)},info:function(){return Sj(this.context.dataflow,"info",arguments)},debug:function(){return Sj(this.context.dataflow,"debug",arguments)},extent:le.q,inScope:function(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n},intersect:function(b,e,t){if(!b)return[];const[u,n]=b,r=(new _m).set(u[0],u[1],n[0],n[1]);return D_(t||this.context.dataflow.scenegraph().root,r,function(e){let p=null;if(e){const t=Object(le.i)(e.marktype),n=Object(le.i)(e.markname);p=e=>(!t.length||t.some(t=>e.marktype===t))&&(!n.length||n.some(s=>e.name===s))}return p}(e))},clampRange:le.k,pinchDistance:function(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+r*r)},pinchAngle:function(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)},screen:function(){const e=Rj();return e?e.screen:{}},containerSize:function(){const view=this.context.dataflow,e=view.container&&view.container();return e?[e.clientWidth,e.clientHeight]:[void 0,void 0]},windowSize:function(){const e=Rj();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]},bandspace:function(e,t,n){return kf(e||0,t||0,n||0)},setdata:function(e,t){const n=this.context.dataflow,input=this.context.data[e].input;return n.pulse(input,n.changeset().remove(le.ib).insert(t)),1},pathShape:function(path){let p=null;return function(e){return e?Rh(e,p=p||Sh(path)):path}},panLinear:le.S,panLog:le.T,panPow:le.U,panSymlog:le.V,zoomLinear:le.nb,zoomLog:le.ob,zoomPow:le.pb,zoomSymlog:le.qb,encode:function(e,t,n){if(e){const n=this.context.dataflow,r=e.mark.source;n.pulse(r,n.changeset().encode(e,t))}return void 0!==n?n:e},modify:function(e,t,n,r,o,l){const c=this.context.dataflow,data=this.context.data[e],input=data.input,d=c.stamp();let f,h,m=data.changes;if(!1===c._trigger||!(input.value.length||t||r))return 0;if((!m||m.stamp<d)&&(data.changes=m=c.changeset(),m.stamp=d,c.runAfter(()=>{data.modified=!0,c.pulse(input,m).run()},!0,1)),n&&(f=!0===n?le.ib:Object(le.B)(n)||ha(n)?n:Cj(n),m.remove(f)),t&&m.insert(t),r&&(f=Cj(r),input.value.some(f)?m.remove(f):m.insert(r)),o)for(h in l)m.modify(o,h,l[h]);return 1}},Bj=["view","item","group","xy","x","y"],$j={},Wj={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>"_[".concat(Object(le.bb)("$"+e),"]"),functions:function(e){const t=XD(e);Bj.forEach(e=>t[e]="event.vega."+e);for(const e in Ij)t[e]="this."+e;return Object(le.p)(t,kj(e,Ij,$j)),t},constants:GD,visitors:$j},Uj=function(e){const t=(e=e||{}).allowed?Object(le.fb)(e.allowed):{},n=e.forbidden?Object(le.fb)(e.forbidden):{},r=e.constants||GD,o=(e.functions||XD)(_),l=e.globalvar,c=e.fieldvar,d=Object(le.E)(l)?l:e=>"".concat(l,'["').concat(e,'"]');let f={},h={},m=0;function _(e){if(Object(le.J)(e))return e;const t=y[e.type];return null==t&&Object(le.o)("Unsupported type: "+e.type),t(e)}const y={Literal:e=>e.raw,Identifier:e=>{const o=e.name;return m>0?o:Object(le.w)(n,o)?Object(le.o)("Illegal identifier: "+o):Object(le.w)(r,o)?r[o]:Object(le.w)(t,o)?o:(f[o]=1,d(o))},MemberExpression:e=>{const t=!e.computed,n=_(e.object);t&&(m+=1);const p=_(e.property);return n===c&&(h[function(s){const e=s&&s.length-1;return e&&('"'===s[0]&&'"'===s[e]||"'"===s[0]&&"'"===s[e])?s.slice(1,-1):s}(p)]=1),t&&(m-=1),n+(t?"."+p:"["+p+"]")},CallExpression:e=>{"Identifier"!==e.callee.type&&Object(le.o)("Illegal callee type: "+e.callee.type);const t=e.callee.name,n=e.arguments,r=Object(le.w)(o,t)&&o[t];return r||Object(le.o)("Unrecognized function: "+t),Object(le.E)(r)?r(n):r+"("+n.map(_).join(",")+")"},ArrayExpression:e=>"["+e.elements.map(_).join(",")+"]",BinaryExpression:e=>"("+_(e.left)+" "+e.operator+" "+_(e.right)+")",UnaryExpression:e=>"("+e.operator+_(e.argument)+")",ConditionalExpression:e=>"("+_(e.test)+"?"+_(e.consequent)+":"+_(e.alternate)+")",LogicalExpression:e=>"("+_(e.left)+e.operator+_(e.right)+")",ObjectExpression:e=>"{"+e.properties.map(_).join(",")+"}",Property:e=>{m+=1;const t=_(e.key);return m-=1,t+":"+_(e.value)}};function v(e){const t={code:_(e),globals:Object.keys(f),fields:Object.keys(h)};return f={},h={},t}return v.functions=o,v.constants=r,v}(Wj);function qj(e,t,n){return 1===arguments.length?Ij[e]:(Ij[e]=t,n&&($j[e]=n),Uj&&(Uj.functions[e]="this."+e),this)}function Vj(e,t){const n={};let r;try{r=JD(e=Object(le.J)(e)?e:Object(le.bb)(e)+"")}catch(t){Object(le.o)("Expression parse error: "+e)}r.visit(e=>{if("CallExpression"!==e.type)return;const r=e.callee.name,o=Wj.visitors[r];o&&o(r,e.arguments,t,n)});const o=Uj(r);return o.globals.forEach(e=>{const r="$"+e;!Object(le.w)(n,r)&&t.getSignal(e)&&(n[r]=t.signalRef(e))}),{$expr:Object(le.p)({code:o.code},t.options.ast?{ast:r}:null),$fields:o.fields,$params:n}}qj("bandwidth",(function(e,t){const s=wj(e,(t||this).context);return s&&s.bandwidth?s.bandwidth():0}),xj),qj("copy",(function(e,t){const s=wj(e,(t||this).context);return s?s.copy():void 0}),xj),qj("domain",(function(e,t){const s=wj(e,(t||this).context);return s?s.domain():[]}),xj),qj("range",(function(e,t){const s=wj(e,(t||this).context);return s&&s.range?s.range():[]}),xj),qj("invert",(function(e,t,n){const s=wj(e,(n||this).context);return s?Object(le.B)(t)?(s.invertRange||s.invert)(t):(s.invert||s.invertExtent)(t):void 0}),xj),qj("scale",(function(e,t,n){const s=wj(e,(n||this).context);return s?s(t):void 0}),xj),qj("gradient",(function(e,t,n,r,o){e=wj(e,(o||this).context);const l=kh(t,n);let c=e.domain(),d=c[0],f=Object(le.W)(c),h=le.y;return f-d?h=Jf(e,d,f):e=(e.interpolator?Ff("sequential")().interpolator(e.interpolator()):Ff("linear")().interpolate(e.interpolate()).range(e.range())).domain([d=0,f=1]),e.ticks&&(c=e.ticks(+r||15),d!==c[0]&&c.unshift(d),f!==Object(le.W)(c)&&c.push(f)),c.forEach(t=>l.stop(h(t),e(t))),l}),xj),qj("geoArea",Dj,xj),qj("geoBounds",Oj,xj),qj("geoCentroid",jj,xj),qj("geoShape",(function(e,t,n){const p=wj(e,(n||this).context);return function(e){return p?p.path.context(e)(t):""}}),xj),qj("indata",(function(e,t,n){const r=this.context.data[e]["index:"+t],o=r?r.value.get(n):void 0;return o?o.count:o}),(function(e,t,n,r){"Literal"!==t[0].type&&Object(le.o)("First argument to indata must be a string literal."),"Literal"!==t[1].type&&Object(le.o)("Second argument to indata must be a string literal.");const data=t[0].value,o=t[1].value,l="@"+o;Object(le.w)(l,r)||(r[l]=n.getData(data).indataRef(n,o))})),qj("data",dj,vj),qj("treePath",(function(e,source,t){const n=Hj(e,this),s=n[source],r=n[t];return s&&r?s.path(r).map(zj):void 0}),vj),qj("treeAncestors",(function(e,t){const n=Hj(e,this)[t];return n?n.ancestors().map(zj):void 0}),vj),qj("vlSelectionTest",(function(e,t,n){for(var r,o,l,c,b,data=this.context.data[e],d=data?data.values.value:[],f=data?data["index:unit"]&&data["index:unit"].value:void 0,h="intersect"===n,m=d.length,i=0;i<m;++i)if(r=d[i],f&&h){if(-1===(l=(o=o||{})[c=r.unit]||0))continue;if(b=ij(t,r),o[c]=b?-1:++l,b&&1===f.size)return!0;if(!b&&l===f.get(c).count)return!1}else if(h^(b=ij(t,r)))return b;return m&&h}),cj),qj("vlSelectionIdTest",(function(e,t,n){const data=this.context.data[e],r=data?data.values.value:[],o=data?data["index:unit"]&&data["index:unit"].value:void 0,l="intersect"===n,c=aj(t),d=sj(r,c);if(d===r.length)return!1;if(aj(r[d])!==c)return!1;if(o&&l){if(1===o.size)return!0;if(lj(r,c)-d<o.size)return!1}return!0}),cj),qj("vlSelectionResolve",(function(e,t,n,r){for(var o,l,c,d,f,h,m,_,y,v,x,data=this.context.data[e],M=data?data.values.value:[],w={},k={},L={},D=M.length,i=0;i<D;++i){for(d=(o=M[i]).unit,l=o.fields,c=o.values,v=0,x=l.length;v<x;++v)f=l[v],m=(h=w[f.field]||(w[f.field]={}))[d]||(h[d]=[]),L[f.field]=_=f.type.charAt(0),y=uj[_+"_union"],h[d]=y(m,Object(le.i)(c[v]));n&&(m=k[d]||(k[d]=[])).push(Object(le.i)(c).reduce((e,t,n)=>(e[l[n].field]=t,e),{}))}if(t=t||"union",Object.keys(w).forEach(e=>{w[e]=Object.keys(w[e]).map(t=>w[e][t]).reduce((n,r)=>void 0===n?r:uj[L[e]+"_"+t](n,r))}),M=Object.keys(k),n&&M.length){w[r?"vlPoint":"vlMulti"]="union"===t?{or:M.reduce((e,t)=>(e.push(...k[t]),e),[])}:{and:M.map(e=>({or:k[e]}))}}return w}),cj),qj("vlSelectionTuples",(function(e,base){return e.map(e=>Object(le.p)({values:base.fields.map(t=>(t.getter||(t.getter=Object(le.u)(t.field)))(e.datum))},base))}));const Jj=Object(le.fb)(["rule"]),Gj=Object(le.fb)(["group","image","rect"]);function Xj(e){return(e+"").toLowerCase()}function Zj(e,t,code){";"!==code[code.length-1]&&(code="return("+code+");");const n=Function(...t.concat(code));return e&&e.functions?n.bind(e.functions):n}var Kj={operator:(e,t)=>Zj(e,["_"],t.code),parameter:(e,t)=>Zj(e,["datum","_"],t.code),event:(e,t)=>Zj(e,["event"],t.code),handler:(e,t)=>Zj(e,["_","event"],"var datum=event.item&&event.item.datum;return ".concat(t.code,";")),encode:(e,t)=>{const{marktype:n,channels:r}=t;let code="var o=item,datum=o.datum,m=0,$;";for(const e in r){const t="o["+Object(le.bb)(e)+"]";code+="$=".concat(r[e].code,";if(").concat(t,"!==$)").concat(t,"=$,m=1;")}return code+=function(e,t){let code="";return Jj[t]||(e.x2&&(e.x?(Gj[t]&&(code+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),code+="o.width=o.x2-o.x;"):code+="o.x=o.x2-(o.width||0);"),e.xc&&(code+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(Gj[t]&&(code+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),code+="o.height=o.y2-o.y;"):code+="o.y=o.y2-(o.height||0);"),e.yc&&(code+="o.y=o.yc-(o.height||0)/2;")),code}(r,n),code+="return m;",Zj(e,["item","_"],code)},codegen:{get(path){const e="[".concat(path.map(le.bb).join("]["),"]"),t=Function("_","return _".concat(e,";"));return t.path=e,t},comparator(e,t){let n;const r=Function("a","b","var u, v; return "+e.map((e,i)=>{const r=t[i];let u,o;return e.path?(u="a".concat(e.path),o="b".concat(e.path)):((n=n||{})["f"+i]=e,u="this.f".concat(i,"(a)"),o="this.f".concat(i,"(b)")),function(u,e,t,n){return"((u = ".concat(u,") < (v = ").concat(e,") || u == null) && v != null ? ").concat(t,"\n  : (u > v || v == null) && u != null ? ").concat(n,"\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ").concat(t,"\n  : v !== v && u === u ? ").concat(n," : ")}(u,o,-r,r)}).join("")+"0;");return n?r.bind(n):r}}};function Qj(e,t,n){if(!e||!Object(le.H)(e))return e;for(let p,i=0,r=eS.length;i<r;++i)if(p=eS[i],Object(le.w)(e,p.key))return p.parse(e,t,n);return e}var eS=[{key:"$ref",parse:function(e,t){return t.get(e.$ref)||Object(le.o)("Operator not defined: "+e.$ref)}},{key:"$key",parse:function(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=Object(le.K)(e.$key,e.$flat,t.expr.codegen))}},{key:"$expr",parse:function(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code+"_"+e.$name;return t.fn[r]||(t.fn[r]=Object(le.f)(t.parameterExpression(e.$expr),e.$fields,e.$name))}},{key:"$field",parse:function(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Object(le.u)(e.$field,e.$name,t.expr.codegen))}},{key:"$encode",parse:function(e,t){const n=e.$encode,r={};for(const e in n){const o=n[e];r[e]=Object(le.f)(t.encodeExpression(o.$expr),o.$fields),r[e].output=o.$output}return r}},{key:"$compare",parse:function(e,t){const n="c:"+e.$compare+"_"+e.$order,r=Object(le.i)(e.$compare).map(e=>e&&e.$tupleid?ma:e);return t.fn[n]||(t.fn[n]=Object(le.l)(r,e.$order,t.expr.codegen))}},{key:"$context",parse:function(e,t){return t}},{key:"$subflow",parse:function(e,t){const n=e.$subflow;return function(e,r,o){const l=t.fork().parse(n),c=l.get(n.operators[0].id),p=l.signals.parent;return p&&p.set(o),c.detachSubflow=()=>t.detach(l),c}}},{key:"$tupleid",parse:function(){return ma}}];const tS={skip:!0};function nS(e,t,n,r){return new rS(e,t,n,r)}function rS(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||Kj,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function iS(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}rS.prototype=iS.prototype={fork(){const e=new iS(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(t=>t!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,data=e.value;if(n.set(e.id,t),"collect"===Xj(e.type)&&data&&(data.$ingest?r.ingest(t,data.$ingest,data.$format):data.$request?r.preload(t,data.$request,data.$format):r.pulse(t,r.changeset().insert(data))),e.root&&(n.root=t),e.parent){let p=n.get(e.parent.$ref);p?(r.connect(p,[t]),t.targets().add(p)):(n.unresolved=n.unresolved||[]).push(()=>{p=n.get(e.parent.$ref),r.connect(p,[t]),t.targets().add(p)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const r in e.data){const data=n.data[r]||(n.data[r]={});e.data[r].forEach(e=>data[e]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[Xj(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,o){this.dataflow.on(t,n,r,o,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:function(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(e=>t.parseOperator(e)),n.forEach(e=>t.parseOperatorParameters(e)),(e.streams||[]).forEach(e=>t.parseStream(e)),(e.updates||[]).forEach(e=>t.parseUpdate(e)),t.resolve()},parseOperator:function(e){const t=this;"operator"!==Xj(e.type)&&e.type?t.transform(e,e.type):t.operator(e,e.update?t.operatorExpression(e.update):null)},parseOperatorParameters:function(e){const t=this;if(e.params){const n=t.get(e.id);n||Object(le.o)("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}},parseParameters:function(e,t){t=t||{};const n=this;for(const r in e){const o=e[r];t[r]=Object(le.B)(o)?o.map(e=>Qj(e,n,t)):Qj(o,n,t)}return t},parseStream:function(e){var t,n=this,filter=null!=e.filter?n.eventExpression(e.filter):void 0,r=null!=e.stream?n.get(e.stream):void 0;e.source?r=n.events(e.source,e.type,filter):e.merge&&(r=(t=e.merge.map(e=>n.get(e)))[0].merge.apply(t[0],t.slice(1))),e.between&&(t=e.between.map(e=>n.get(e)),r=r.between(t[0],t[1])),e.filter&&(r=r.filter(filter)),null!=e.throttle&&(r=r.throttle(+e.throttle)),null!=e.debounce&&(r=r.debounce(+e.debounce)),null==r&&Object(le.o)("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),n.stream(e,r)},parseUpdate:function(e){var t,n=Object(le.H)(n=e.source)?n.$ref:n,source=this.get(n),r=e.update,o=void 0;source||Object(le.o)("Source not defined: "+e.source),t=e.target&&e.target.$expr?this.eventExpression(e.target.$expr):this.get(e.target),r&&r.$expr&&(r.$params&&(o=this.parseParameters(r.$params)),r=this.handlerExpression(r.$expr)),this.update(e,source,t,r,o)},getState:function(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(n=>{const o=t.signals[n];e.signals(n,o)&&(r[n]=o.value)})}if(e.data){var data=n.data={};Object.keys(t.data).forEach(n=>{const r=t.data[n];e.data(n,r)&&(data[n]=r.input.value)})}return t.subcontext&&!1!==e.recurse&&(n.subcontext=t.subcontext.map(t=>t.getState(e))),n},setState:function(e){var t=this,n=t.dataflow,data=e.data,r=e.signals;Object.keys(r||{}).forEach(e=>{n.update(t.signals[e],r[e],tS)}),Object.keys(data||{}).forEach(e=>{n.pulse(t.data[e].input,n.changeset().remove(le.ib).insert(data[e]))}),(e.subcontext||[]).forEach((e,i)=>{const n=t.subcontext[i];n&&n.setState(e)})}};function aS(e,desc){e&&(null==desc?e.removeAttribute("aria-label"):e.setAttribute("aria-label",desc))}function oS(view,cursor){const e=view.globalCursor()?"undefined"!=typeof document&&document.body:view.container();if(e)return null==cursor?e.style.removeProperty("cursor"):e.style.cursor=cursor}function sS(view,e){var data=view._runtime.data;return Object(le.w)(data,e)||Object(le.o)("Unrecognized data set: "+e),data[e]}function lS(e,t){xa(t)||Object(le.o)("Second argument to changes must be a changeset.");const n=sS(this,e);return n.modified=!0,this.pulse(n.input,t)}function uS(view){var e=view.padding();return Math.max(0,view._viewWidth+e.left+e.right)}function cS(view){var e=view.padding();return Math.max(0,view._viewHeight+e.top+e.bottom)}function dS(view){var e=view.padding(),t=view._origin;return[e.left+t[0],e.top+t[1]]}function fS(view,e,t){var p,n,r=view._renderer,o=r&&r.canvas();return o&&(n=dS(view),(p=Lg(e.changedTouches?e.changedTouches[0]:e,o))[0]-=n[0],p[1]-=n[1]),e.dataflow=view,e.item=t,e.vega=function(view,e,t){const n=e?"group"===e.mark.marktype?e:e.mark.group:null;function r(t){var i,g=n;if(t)for(i=e;i;i=i.mark.group)if(i.mark.name===t){g=i;break}return g&&g.mark&&g.mark.interactive?g:{}}function o(e){if(!e)return t;Object(le.J)(e)&&(e=r(e));const p=t.slice();for(;e;)p[0]-=e.x||0,p[1]-=e.y||0,e=e.mark&&e.mark.group;return p}return{view:Object(le.m)(view),item:Object(le.m)(e||{}),group:r,xy:o,x:e=>o(e)[0],y:e=>o(e)[1]}}(view,t,p),e}const hS={trap:!1};function mS(view,e,t){const n=view._eventConfig&&view._eventConfig[e];return!(!1===n||Object(le.H)(n)&&!n[t])||(view.warn("Blocked ".concat(e," ").concat(t," event listener.")),!1)}function pS(e){return e.item}function gS(e){return e.item.mark.source}function _S(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function yS(e,t,text){const n=document.createElement(e);for(const e in t)n.setAttribute(e,t[e]);return null!=text&&(n.textContent=text),n}function bS(view,e,t){if(!e)return;const param=t.param;let n=t.state;return n||(n=t.state={elements:null,active:!1,set:null,update:e=>{e!==view.signal(param.signal)&&view.runAsync(null,()=>{n.source=!0,view.signal(param.signal,e)})}},param.debounce&&(n.update=Object(le.n)(param.debounce,n.update))),function(e,t,param,n){const div=yS("div",{class:"vega-bind"}),r="radio"===param.input?div:div.appendChild(yS("label"));r.appendChild(yS("span",{class:"vega-bind-name"},param.name||param.signal)),t.appendChild(div);let input=vS;switch(param.input){case"checkbox":input=xS;break;case"select":input=MS;break;case"radio":input=wS;break;case"range":input=kS}input(e,r,param,n)}(n,e,param,view.signal(param.signal)),n.active||(view.on(view._signals[param.signal],null,()=>{n.source?n.source=!1:n.set(view.signal(param.signal))}),n.active=!0),n}function vS(e,t,param,n){const r=yS("input");for(const e in param)"signal"!==e&&"element"!==e&&r.setAttribute("input"===e?"type":e,param[e]);r.setAttribute("name",param.signal),r.value=n,t.appendChild(r),r.addEventListener("input",()=>e.update(r.value)),e.elements=[r],e.set=e=>r.value=e}function xS(e,t,param,n){const r={type:"checkbox",name:param.signal};n&&(r.checked=!0);const o=yS("input",r);t.appendChild(o),o.addEventListener("change",()=>e.update(o.checked)),e.elements=[o],e.set=e=>o.checked=!!e||null}function MS(e,t,param,n){const r=yS("select",{name:param.signal}),o=param.labels||[];param.options.forEach((option,i)=>{const e={value:option};LS(option,n)&&(e.selected=!0),r.appendChild(yS("option",e,(o[i]||option)+""))}),t.appendChild(r),r.addEventListener("change",()=>{e.update(param.options[r.selectedIndex])}),e.elements=[r],e.set=e=>{for(let i=0,t=param.options.length;i<t;++i)if(LS(param.options[i],e))return void(r.selectedIndex=i)}}function wS(e,t,param,n){const r=yS("span",{class:"vega-bind-radio"}),o=param.labels||[];t.appendChild(r),e.elements=param.options.map((option,i)=>{const t={type:"radio",name:param.signal,value:option};LS(option,n)&&(t.checked=!0);const input=yS("input",t);input.addEventListener("change",()=>e.update(option));const label=yS("label",{},(o[i]||option)+"");return label.prepend(input),r.appendChild(label),input}),e.set=t=>{const n=e.elements,r=n.length;for(let i=0;i<r;++i)LS(n[i].value,t)&&(n[i].checked=!0)}}function kS(e,t,param,n){n=void 0!==n?n:(+param.max+ +param.min)/2;const r=null!=param.max?param.max:Math.max(100,+n)||100,o=param.min||Math.min(0,r,+n)||0,l=param.step||Qe(o,r,100),c=yS("input",{type:"range",name:param.signal,min:o,max:r,step:l});c.value=n;const span=yS("span",{},+n);t.appendChild(c),t.appendChild(span);const d=()=>{span.textContent=c.value,e.update(+c.value)};c.addEventListener("input",d),c.addEventListener("change",d),e.elements=[c],e.set=e=>{c.value=e,span.textContent=e}}function LS(a,b){return a===b||a+""==b+""}function DS(view,e,t,n,r,o){return(e=e||new n(view.loader())).initialize(t,uS(view),cS(view),dS(view),r,o).background(view.background())}function OS(view,e){return e?function(){try{e.apply(this,arguments)}catch(e){view.error(e)}}:null}function jS(view,e){if("string"==typeof e){if("undefined"==typeof document)return view.error("DOM document instance not found."),null;if(!(e=document.querySelector(e)))return view.error("Signal bind element not found: "+e),null}if(e)try{e.innerHTML=""}catch(t){e=null,view.error(t)}return e}const SS=e=>+e||0;function YS(e){return Object(le.H)(e)?{top:SS(e.top),bottom:SS(e.bottom),left:SS(e.left),right:SS(e.right)}:(e=>({top:e,bottom:e,left:e,right:e}))(SS(e))}async function TS(view,e,t,n){const r=L_(e),o=r&&r.headless;return o||Object(le.o)("Unrecognized renderer type: "+e),await view.runAsync(),DS(view,null,null,o,t,n).renderAsync(view._scenegraph.root)}var AS={skip:!0};function ES(view,e){var a=view.autosize(),p=view.padding();return e-(a&&"padding"===a.contains?p.left+p.right:0)}function CS(view,e){var a=view.autosize(),p=view.padding();return e-(a&&"padding"===a.contains?p.top+p.bottom:0)}function FS(e,data){return data.modified&&Object(le.B)(data.input.value)&&e.indexOf("_:vega:_")}function PS(e,t){return!("parent"===e||t instanceof Va.proxy)}function NS(e,t,n,r){const o=e.element();o&&o.setAttribute("title",function(e){return null==e?"":Object(le.B)(e)?zS(e):Object(le.H)(e)&&!Object(le.D)(e)?(t=e,Object.keys(t).map(e=>{const n=t[e];return e+": "+(Object(le.B)(n)?zS(n):HS(n))}).join("\n")):e+"";var t}(r))}function zS(e){return"["+e.map(HS).join(", ")+"]"}function HS(e){return Object(le.B)(e)?"[]":Object(le.H)(e)&&!Object(le.D)(e)?"{}":e}function RS(e,t){const view=this;if(t=t||{},Wa.call(view),t.loader&&view.loader(t.loader),t.logger&&view.logger(t.logger),null!=t.logLevel&&view.logLevel(t.logLevel),t.locale||e.locale){const n=Object(le.p)({},e.locale,t.locale);view.locale(ia(n.number,n.time))}view._el=null,view._elBind=null,view._renderType=t.renderer||w_.Canvas,view._scenegraph=new yg;const n=view._scenegraph.root;view._renderer=null,view._tooltip=t.tooltip||NS,view._redraw=!0,view._handler=(new zg).scene(n),view._globalCursor=!1,view._preventDefault=!1,view._timers=[],view._eventListeners=[],view._resizeListeners=[],view._eventConfig=function(e){const t=Object(le.p)({defaults:{}},e),n=(e,t)=>{t.forEach(t=>{Object(le.B)(e[t])&&(e[t]=Object(le.fb)(e[t]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}(e.eventConfig),view.globalCursor(view._eventConfig.globalCursor);const r=function(view,e,t){return nS(view,Va,Ij,t).parse(e)}(view,e,t.expr);view._runtime=r,view._signals=r.signals,view._bind=(e.bindings||[]).map(e=>({state:null,param:Object(le.p)({},e)})),r.root&&r.root.set(n),n.source=r.data.root.input,view.pulse(r.data.root.input,view.changeset().insert(n.items)),view._width=view.width(),view._height=view.height(),view._viewWidth=ES(view,view._width),view._viewHeight=CS(view,view._height),view._origin=[0,0],view._resize=0,view._autosize=1,function(view){var s=view._signals,e=s.width,t=s.height,p=s.padding;function n(){view._autosize=view._resize=1}view._resizeWidth=view.add(null,e=>{view._width=e.size,view._viewWidth=ES(view,e.size),n()},{size:e}),view._resizeHeight=view.add(null,e=>{view._height=e.size,view._viewHeight=CS(view,e.size),n()},{size:t});const r=view.add(null,n,{pad:p});view._resizeWidth.rank=e.rank+1,view._resizeHeight.rank=t.rank+1,r.rank=p.rank+1}(view),function(view){view.add(null,e=>(view._background=e.bg,view._resize=1,e.bg),{bg:view._signals.background})}(view),function(view){const cursor=view._signals.cursor||(view._signals.cursor=view.add({user:"default",item:null}));view.on(view.events("view","mousemove"),cursor,(e,t)=>{const n=cursor.value,r=n?Object(le.J)(n)?n:n.user:"default",o=t.item&&t.item.cursor||null;return n&&r===n.user&&o==n.item?n:{user:r,item:o}}),view.add(null,(function(e){let t=e.cursor,n=this.value;return Object(le.J)(t)||(n=t.item,t=t.user),oS(view,t&&"default"!==t?t:n||t),n}),{cursor:cursor})}(view),view.description(e.description),t.hover&&view.hover(),t.container&&view.initialize(t.container,t.bind)}function IS(view,e){return Object(le.w)(view._signals,e)?view._signals[e]:Object(le.o)("Unrecognized signal name: "+Object(le.bb)(e))}function BS(e,t){const n=(e._targets||[]).filter(e=>e._update&&e._update.handler===t);return n.length?n[0]:null}function $S(view,e,t,n){let r=BS(t,n);return r||(r=OS(view,()=>n(e,t.value)),r.handler=n,view.on(t,null,r)),view}function WS(view,e,t){const n=BS(e,t);return n&&e._targets.remove(n),view}Object(le.z)(RS,Wa,{async evaluate(e,t,n){if(await Wa.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,r=dS(view=this),o=uS(view),l=cS(view),view._renderer.background(view.background()),view._renderer.resize(o,l,r),view._handler.origin(r),view._resizeListeners.forEach(e=>{try{e(o,l)}catch(e){view.error(e)}})),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(e){this.error(e)}var view,r,o,l;return n&&ca(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(text){if(arguments.length){const desc=null!=text?text+"":null;return desc!==this._desc&&aS(this._el,this._desc=desc),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=IS(this,e);return 1===arguments.length?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",YS(e)):YS(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(L_(e)||Object(le.o)("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(Wa.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(IS(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(e,t,n,r,o,l){this.runAfter(view=>{let c=0;view._autosize=0,view.width()!==n&&(c=1,view.signal("width",n,AS),view._resizeWidth.skip(!0)),view.height()!==r&&(c=1,view.signal("height",r,AS),view._resizeHeight.skip(!0)),view._viewWidth!==e&&(view._resize=1,view._viewWidth=e),view._viewHeight!==t&&(view._resize=1,view._viewHeight=t),view._origin[0]===o[0]&&view._origin[1]===o[1]||(view._resize=1,view._origin=o),c&&view.run("enter"),l&&view.runAfter(e=>e.resize())},!1,1)},addEventListener(e,t,n){let r=t;return n&&!1===n.trap||(r=OS(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n,r,o=this._handler.handlers(e),i=o.length;--i>=0;)if(r=o[i].type,n=o[i].handler,e===r&&(t===n||t===n.raw)){this._handler.off(r,n);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,i=t.indexOf(e);return i>=0&&t.splice(i,1),this},addSignalListener(e,t){return $S(this,e,IS(this,e),t)},removeSignalListener(e,t){return WS(this,IS(this,e),t)},addDataListener(e,t){return $S(this,e,sS(this,e).values,t)},removeDataListener(e,t){return WS(this,sS(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=oS(this,null);this._globalCursor=!!e,t&&oS(this,t)}return this}return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:function(e,t){this._timers.push(function(e,t,time){var n=new aw,r=t;return null==t?(n.restart(e,t,time),n):(n._restart=n.restart,n.restart=function(e,t,time){t=+t,time=null==time?rw():+time,n._restart((function o(l){l+=r,n._restart(o,r+=t,time),e(l)}),t,time)},n.restart(e,t,time),n)}((function(t){e({timestamp:Date.now(),elapsed:t})}),t))},events:function(source,e,filter){var t,view=this,s=new Sa(filter),n=function(t,n){view.runAsync(null,()=>{"view"===source&&function(view,e){var t=view._eventConfig.defaults,n=t.prevent,r=t.allow;return!1!==n&&!0!==r&&(!0===n||!1===r||(n?n[e]:r?!r[e]:view.preventDefault()))}(view,e)&&t.preventDefault(),s.receive(fS(view,t,n))})};if("timer"===source)mS(view,"timer",e)&&view.timer(n,e);else if("view"===source)mS(view,"view",e)&&view.addEventListener(e,n,hS);else if("window"===source?mS(view,"window",e)&&"undefined"!=typeof window&&(t=[window]):"undefined"!=typeof document&&mS(view,"selector",e)&&(t=document.querySelectorAll(source)),t){for(var i=0,r=t.length;i<r;++i)t[i].addEventListener(e,n);view._eventListeners.push({type:e,sources:t,handler:n})}else view.warn("Can not resolve event source: "+source);return s},finalize:function(){var e,t,n,r=this._tooltip,o=this._timers,l=this._eventListeners;for(e=o.length;--e>=0;)o[e].stop();for(e=l.length;--e>=0;)for(t=(n=l[e]).sources.length;--t>=0;)n.sources[t].removeEventListener(n.type,n.handler);return r&&r.call(this,this._handler,null,null,null),this},hover:function(e,t){return t=[t||"update",(e=[e||"hover"])[0]],this.on(this.events("view","mouseover",pS),gS,_S(e)),this.on(this.events("view","mouseout",pS),gS,_S(t)),this},data:function(e,t){return arguments.length<2?sS(this,e).values.value:lS.call(this,e,Ma().remove(le.ib).insert(t))},change:lS,insert:function(e,t){return lS.call(this,e,Ma().insert(t))},remove:function(e,t){return lS.call(this,e,Ma().remove(t))},scale:function(e){var t=this._runtime.scales;return Object(le.w)(t,e)||Object(le.o)("Unrecognized scale or projection: "+e),t[e].value},initialize:function(e,t){const view=this,n=view._renderType,r=view._eventConfig.bind,o=L_(n);e=view._el=e?jS(view,e):null,function(view){const e=view.container();e&&(e.setAttribute("role","graphics-document"),e.setAttribute("aria-roleDescription","visualization"),aS(e,view.description()))}(view),o||view.error("Unrecognized renderer type: "+n);const l=o.handler||zg,c=e?o.renderer:o.headless;return view._renderer=c?DS(view,view._renderer,e,c):null,view._handler=function(view,e,t,n){const r=new n(view.loader(),OS(view,view.tooltip())).scene(view.scenegraph().root).initialize(t,dS(view),view);return e&&e.handlers().forEach(e=>{r.on(e.type,e.handler)}),r}(view,view._handler,e,l),view._redraw=!0,e&&"none"!==r&&(t=t?view._elBind=jS(view,t):e.appendChild(yS("form",{class:"vega-bindings"})),view._bind.forEach(e=>{e.param.element&&"container"!==r&&(e.element=jS(view,e.param.element))}),view._bind.forEach(e=>{bS(view,e.element||t,e)})),view},toImageURL:async function(e,t){e!==w_.Canvas&&e!==w_.SVG&&e!==w_.PNG&&Object(le.o)("Unrecognized image type: "+e);const n=await TS(this,e,t);return e===w_.SVG?function(data,e){const t=new Blob([data],{type:e});return window.URL.createObjectURL(t)}(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")},toCanvas:async function(e,t){return(await TS(this,w_.Canvas,e,t)).canvas()},toSVG:async function(e){return(await TS(this,w_.SVG,e)).svg()},getState:function(e){return this._runtime.getState(e||{data:FS,signals:PS,recurse:!0})},setState:function(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},e=>{e._trigger=!0}),this}});const US=/[[\]{}]/,qS={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let VS,JS;function GS(e,source,t){return VS=source||"view",JS=t||qS,ZS(e.trim()).map(KS)}function XS(s,i,e,t,n){const r=s.length;let o,l=0;for(;i<r;++i){if(o=s[i],!l&&o===e)return i;n&&n.indexOf(o)>=0?--l:t&&t.indexOf(o)>=0&&++l}return i}function ZS(s){const output=[],e=s.length;let t=0,i=0;for(;i<e;)i=XS(s,i,",","[{","]}"),output.push(s.substring(t,i).trim()),t=++i;if(0===output.length)throw"Empty event selector: "+s;return output}function KS(s){return"["===s[0]?function(s){const e=s.length;let b,i=1;if(i=XS(s,i,"]","[","]"),i===e)throw"Empty between selector: "+s;if(b=ZS(s.substring(1,i)),2!==b.length)throw"Between selector must have two elements: "+s;if(">"!==(s=s.slice(i+1).trim())[0])throw"Expected '>' after between selector: "+s;b=b.map(KS);const t=KS(s.slice(1).trim());if(t.between)return{between:b,stream:t};t.between=b;return t}(s):function(s){const e={source:VS},source=[];let t,filter,n=[0,0],r=0,o=0,l=s.length,i=0;if("}"===s[l-1]){if(i=s.lastIndexOf("{"),!(i>=0))throw"Unmatched right brace: "+s;try{n=function(s){const a=s.split(",");if(!s.length||a.length>2)throw s;return a.map(e=>{const t=+e;if(t!=t)throw s;return t})}(s.substring(i+1,l-1))}catch(e){throw"Invalid throttle specification: "+s}s=s.slice(0,i).trim(),l=s.length,i=0}if(!l)throw s;"@"===s[0]&&(r=++i);t=XS(s,i,":"),t<l&&(source.push(s.substring(o,t).trim()),o=i=++t);if(i=XS(s,i,"["),i===l)source.push(s.substring(o,l).trim());else if(source.push(s.substring(o,i).trim()),filter=[],o=++i,o===l)throw"Unmatched left bracket: "+s;for(;i<l;){if(i=XS(s,i,"]"),i===l)throw"Unmatched left bracket: "+s;if(filter.push(s.substring(o,i).trim()),i<l-1&&"["!==s[++i])throw"Expected left bracket: "+s;o=++i}if(!(l=source.length)||US.test(source[l-1]))throw"Invalid event selector: "+s;l>1?(e.type=source[1],r?e.markname=source[0].slice(1):(c=source[0],JS[c]?e.marktype=source[0]:e.source=source[0])):e.type=source[0];var c;"!"===e.type.slice(-1)&&(e.consume=!0,e.type=e.type.slice(0,-1));null!=filter&&(e.filter=filter);n[0]&&(e.throttle=n[0]);n[1]&&(e.debounce=n[1]);return e}(s)}function QS(e){return Object(le.H)(e)?e:{type:e||"pad"}}const eY=e=>+e||0;function tY(e){return Object(le.H)(e)?e.signal?e:{top:eY(e.top),bottom:eY(e.bottom),left:eY(e.left),right:eY(e.right)}:{top:t=eY(e),bottom:t,left:t,right:t};var t}const nY=e=>Object(le.H)(e)&&!Object(le.B)(e)?Object(le.p)({},e):{value:e};function rY(object,e,t,n){if(null!=t){return Object(le.H)(t)&&!Object(le.B)(t)||Object(le.B)(t)&&t.length&&Object(le.H)(t[0])?object.update[e]=t:object[n||"enter"][e]={value:t},1}return 0}function iY(object,e,t){for(const t in e)rY(object,t,e[t]);for(const e in t)rY(object,e,t[e],"update")}function aY(e,t,n){for(const r in t)n&&Object(le.w)(n,r)||(e[r]=Object(le.p)(e[r]||{},t[r]));return e}function oY(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}function sY(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const lY=e=>Object(le.J)(e)?Object(le.bb)(e):e.signal?"(".concat(e.signal,")"):fY(e);function uY(e){if(null!=e.gradient)return function(e){const t=[e.start,e.stop,e.count].map(e=>null==e?null:Object(le.bb)(e));for(;t.length&&null==Object(le.W)(t);)t.pop();return t.unshift(lY(e.gradient)),"gradient(".concat(t.join(","),")")}(e);let t=e.signal?"(".concat(e.signal,")"):e.color?function(e){return e.c?cY("hcl",e.h,e.c,e.l):e.h||e.s?cY("hsl",e.h,e.s,e.l):e.l||e.a?cY("lab",e.l,e.a,e.b):e.r||e.g||e.b?cY("rgb",e.r,e.g,e.b):null}(e.color):null!=e.field?fY(e.field):void 0!==e.value?Object(le.bb)(e.value):void 0;return null!=e.scale&&(t=function(e,t){const n=lY(e.scale);null!=e.range?t="lerp(_range(".concat(n,"), ").concat(+e.range,")"):(void 0!==t&&(t="_scale(".concat(n,", ").concat(t,")")),e.band&&(t=(t?t+"+":"")+"_bandwidth(".concat(n,")")+(1==+e.band?"":"*"+dY(e.band)),e.extra&&(t="(datum.extra ? _scale(".concat(n,", datum.extra.value) : ").concat(t,")"))),null==t&&(t="0"));return t}(e,t)),void 0===t&&(t=null),null!=e.exponent&&(t="pow(".concat(t,",").concat(dY(e.exponent),")")),null!=e.mult&&(t+="*".concat(dY(e.mult))),null!=e.offset&&(t+="+".concat(dY(e.offset))),e.round&&(t="round(".concat(t,")")),t}const cY=(e,t,n,r)=>"(".concat(e,"(").concat([t,n,r].map(uY).join(","),")+'')");function dY(e){return Object(le.H)(e)?"("+uY(e)+")":e}function fY(e){return function e(t){let object,n,r;if(t.signal)object="datum",r=t.signal;else if(t.group||t.parent){for(n=Math.max(1,t.level||1),object="item";n-- >0;)object+=".mark.group";t.parent?(r=t.parent,object+=".datum"):r=t.group}else t.datum?(object="datum",r=t.datum):Object(le.o)("Invalid field reference: "+Object(le.bb)(t));t.signal||(r=Object(le.J)(r)?Object(le.ab)(r).map(le.bb).join("]["):e(r));return object+"["+r+"]"}(Object(le.H)(e)?e:{datum:e})}function hY(e,t,n,style,r,o){const l={};(o=o||{}).encoders={$encode:l},e=function(e,t,n,style,r){const o={},l={};let c,d,f,h;for(d in d="lineBreak","text"!==t||null==r[d]||oY(d,e)||sY(o,d,r[d]),("legend"==n||String(n).startsWith("axis"))&&(n=null),h="frame"===n?r.group:"mark"===n?Object(le.p)({},r.mark,r[t]):null,h)f=oY(d,e)||("fill"===d||"stroke"===d)&&(oY("fill",e)||oY("stroke",e)),f||sY(o,d,h[d]);for(d in Object(le.i)(style).forEach(t=>{const n=r.style&&r.style[t];for(const t in n)oY(t,e)||sY(o,t,n[t])}),e=Object(le.p)({},e),o)h=o[d],h.signal?(c=c||{})[d]=h:l[d]=h;return e.enter=Object(le.p)(l,e.enter),c&&(e.update=Object(le.p)(c,e.update)),e}(e,t,n,style,r.config);for(const n in e)l[n]=mY(e[n],t,o,r);return o}function mY(e,t,n,r){const o={},l={};for(const t in e)null!=e[t]&&(o[t]=pY((c=e[t],Object(le.B)(c)?function(e){let code="";return e.forEach(e=>{const t=uY(e);code+=e.test?"(".concat(e.test,")?").concat(t,":"):t}),":"===Object(le.W)(code)&&(code+="null"),code}(c):uY(c)),r,n,l));var c;return{$expr:{marktype:t,channels:o},$fields:Object.keys(l),$output:Object.keys(e)}}function pY(code,e,t,n){const r=Vj(code,e);return r.$fields.forEach(e=>n[e]=1),Object(le.p)(t,r.$params),r.$expr}const gY=["value","update","init","react","bind"];function _Y(e,t){Object(le.o)(e+' for "outer" push: '+Object(le.bb)(t))}function yY(e,t){const n=e.name;if("outer"===e.push)t.signals[n]||_Y("No prior signal definition",n),gY.forEach(t=>{void 0!==e[t]&&_Y("Invalid property ",t)});else{const r=t.addSignal(n,e.value);!1===e.react&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function bY(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function vY(e,t,n,r){return new bY(e,t,n,r)}function xY(e,t){return vY("operator",e,t)}function MY(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function wY(e,t){return t?{$field:e,$name:t}:{$field:e}}const kY=wY("key");function LY(e,t){return{$compare:e,$order:t}}function DY(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}function OY(e){return e&&e.signal}function jY(e){if(OY(e))return!0;if(Object(le.H)(e))for(const t in e)if(jY(e[t]))return!0;return!1}function SY(e,t){return null!=e?e:t}function YY(e){return e&&e.signal||e}function TY(e,t){return(e.merge?AY:e.stream?EY:e.type?CY:Object(le.o)("Invalid stream specification: "+Object(le.bb)(e)))(e,t)}function AY(e,t){const n=FY({merge:e.merge.map(s=>TY(s,t))},e,t);return t.addStream(n).id}function EY(e,t){const n=FY({stream:TY(e.stream,t)},e,t);return t.addStream(n).id}function CY(e,t){let n;var source;"timer"===e.type?(n=t.event("timer",e.throttle),e={between:e.between,filter:e.filter}):n=t.event("scope"===(source=e.source)?"view":source||"view",e.type);const r=FY({stream:n},e,t);return 1===Object.keys(r).length?n:t.addStream(r).id}function FY(e,t,n){let param=t.between;return param&&(2!==param.length&&Object(le.o)('Stream "between" parameter must have 2 entries: '+Object(le.bb)(t)),e.between=[TY(param[0],n),TY(param[1],n)]),param=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&param.push(function(e,t,n){const r="event.item";return r+(e&&"*"!==e?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}(t.marktype,t.markname,t.markrole)),"scope"===t.source&&param.push("inScope(event.item)"),param.length&&(e.filter=Vj("("+param.join(")&&(")+")",n).$expr),null!=(param=t.throttle)&&(e.throttle=+param),null!=(param=t.debounce)&&(e.debounce=+param),t.consume&&(e.consume=!0),e}const PY={code:"_.$value",ast:{type:"Identifier",value:"value"}};function NY(e,t,n){const r=e.encode,o={target:n};let l=e.events,c=e.update,d=[];l||Object(le.o)("Signal update missing events specification."),Object(le.J)(l)&&(l=GS(l,t.isSubscope()?"scope":"view")),l=Object(le.i)(l).filter(s=>s.signal||s.scale?(d.push(s),0):1),d.length>1&&(d=[zY(d)]),l.length&&d.push(l.length>1?{merge:l}:l[0]),null!=r&&(c&&Object(le.o)("Signal encode and update are mutually exclusive."),c="encode(item(),"+Object(le.bb)(r)+")"),o.update=Object(le.J)(c)?Vj(c,t):null!=c.expr?Vj(c.expr,t):null!=c.value?c.value:null!=c.signal?{$expr:PY,$params:{$value:t.signalRef(c.signal)}}:Object(le.o)("Invalid signal update specification."),e.force&&(o.options={force:!0}),d.forEach(source=>t.addUpdate(Object(le.p)(function(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):TY(e,t)}}(source,t),o)))}function zY(e){return{signal:"["+e.map(s=>s.scale?'scale("'+s.scale+'")':s.signal)+"]"}}const HY=e=>(t,n,r)=>vY(e,n,t||void 0,r),RY=HY("aggregate"),IY=HY("axisticks"),BY=HY("bound"),$Y=HY("collect"),WY=HY("compare"),UY=HY("datajoin"),qY=HY("encode"),VY=HY("expression"),JY=HY("facet"),GY=HY("field"),XY=HY("key"),ZY=HY("legendentries"),KY=HY("load"),QY=HY("mark"),eT=HY("multiextent"),tT=HY("multivalues"),nT=HY("overlap"),rT=HY("params"),iT=HY("prefacet"),aT=HY("projection"),oT=HY("proxy"),sT=HY("relay"),lT=HY("render"),uT=HY("scale"),cT=HY("sieve"),dT=HY("sortitems"),fT=HY("viewlayout"),hT=HY("values");let mT=0;const pT={min:"min",max:"max",count:"sum"};function gT(e,t){const n=t.getScale(e.name).params;let r;var o;for(r in n.domain=vT(e.domain,e,t),null!=e.range&&(n.range=function e(t,n,r){const o=n.config.range;let l=t.range;if(l.signal)return n.signalRef(l.signal);if(Object(le.J)(l)){if(o&&Object(le.w)(o,l))return t=Object(le.p)({},t,{range:o[l]}),e(t,n,r);"width"===l?l=[0,{signal:"width"}]:"height"===l?l=Hf(t.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Object(le.o)("Unrecognized scale range value: "+Object(le.bb)(l))}else{if(l.scheme)return r.scheme=Object(le.B)(l.scheme)?yT(l.scheme,n):_T(l.scheme,n),l.extent&&(r.schemeExtent=yT(l.extent,n)),void(l.count&&(r.schemeCount=_T(l.count,n)));if(l.step)return void(r.rangeStep=_T(l.step,n));if(Hf(t.type)&&!Object(le.B)(l))return vT(l,t,n);Object(le.B)(l)||Object(le.o)("Unsupported range type: "+Object(le.bb)(l))}return l.map(e=>(Object(le.B)(e)?yT:_T)(e,n))}(e,t,n)),null!=e.interpolate&&function(e,t){t.interpolate=_T(e.type||e),null!=e.gamma&&(t.interpolateGamma=_T(e.gamma))}(e.interpolate,n),null!=e.nice&&(n.nice=(o=e.nice,Object(le.H)(o)?{interval:_T(o.interval),step:_T(o.step)}:_T(o))),null!=e.bins&&(n.bins=function(e,t){return e.signal||Object(le.B)(e)?yT(e,t):t.objectProperty(e)}(e.bins,t)),e)Object(le.w)(n,r)||"name"===r||(n[r]=_T(e[r],t))}function _T(e,t){return Object(le.H)(e)?e.signal?t.signalRef(e.signal):Object(le.o)("Unsupported object: "+Object(le.bb)(e)):e}function yT(e,t){return e.signal?t.signalRef(e.signal):e.map(e=>_T(e,t))}function bT(e){Object(le.o)("Can not find data set: "+Object(le.bb)(e))}function vT(e,t,n){if(e)return e.signal?n.signalRef(e.signal):(Object(le.B)(e)?xT:e.fields?wT:MT)(e,t,n);null==t.domainMin&&null==t.domainMax||Object(le.o)("No scale domain defined for domainMin/domainMax to override.")}function xT(e,t,n){return e.map(e=>_T(e,n))}function MT(e,t,n){const data=n.getData(e.data);return data||bT(e.data),Hf(t.type)?data.valuesRef(n,e.field,LT(e.sort,!1)):$f(t.type)?data.domainRef(n,e.field):data.extentRef(n,e.field)}function wT(e,t,n){const data=e.data,r=e.fields.reduce((e,t)=>(t=Object(le.J)(t)?{data:data,field:t}:Object(le.B)(t)||t.signal?function(data,e){const t="_:vega:_"+mT++,n=$Y({});if(Object(le.B)(data))n.value={$ingest:data};else if(data.signal){const code="setdata("+Object(le.bb)(t)+","+data.signal+")";n.params.input=e.signalRef(code)}return e.addDataPipeline(t,[n,cT({})]),{data:t,field:"data"}}(t,n):t,e.push(t),e),[]);return(Hf(t.type)?kT:$f(t.type)?DT:OT)(e,n,r)}function kT(e,t,n){const r=LT(e.sort,!0);let a,o;const l=n.map(e=>{const data=t.getData(e.data);return data||bT(e.data),data.countsRef(t,e.field,r)}),p={groupby:kY,pulse:l};r&&(a=r.op||"count",o=r.field?DY(a,r.field):"count",p.ops=[pT[a]],p.fields=[t.fieldRef(o)],p.as=[o]),a=t.add(RY(p));const c=t.add($Y({pulse:MY(a)}));return o=t.add(hT({field:kY,sort:t.sortRef(r),pulse:MY(c)})),MY(o)}function LT(e,t){return e&&(e.field||e.op?e.field||"count"===e.op?t&&e.field&&e.op&&!pT[e.op]&&Object(le.o)("Multiple domain scales can not be sorted using "+e.op):Object(le.o)("No field provided for sort aggregate op: "+e.op):Object(le.H)(e)?e.field="key":e={field:"key"}),e}function DT(e,t,n){const r=n.map(e=>{const data=t.getData(e.data);return data||bT(e.data),data.domainRef(t,e.field)});return MY(t.add(tT({values:r})))}function OT(e,t,n){const r=n.map(e=>{const data=t.getData(e.data);return data||bT(e.data),data.extentRef(t,e.field)});return MY(t.add(eT({extents:r})))}function jT(e,t,n){return Object(le.B)(e)?e.map(e=>jT(e,t,n)):Object(le.H)(e)?e.signal?n.signalRef(e.signal):"fit"===t?e:Object(le.o)("Unsupported parameter object: "+Object(le.bb)(e)):e}const ST="value",YT=["size","shape","fill","stroke","strokeWidth","strokeDash","opacity"],TT={name:1,style:1,interactive:1},AT={value:0},ET={value:1};function CT(mark){return mark.type="group",mark.interactive=mark.interactive||!1,mark}function FT(e,t){const n=(n,r)=>SY(e[n],SY(t[n],r));return n.isVertical=s=>"vertical"===SY(e.direction,t.direction||(s?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>SY(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>SY(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>SY(e.columns,SY(t.columns,+n.isVertical(!0))),n}function PT(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function NT(s,e,t){return"item.anchor === '".concat("start","' ? ").concat(s," : item.anchor === '").concat("end","' ? ").concat(e," : ").concat(t)}const zT=NT(Object(le.bb)("left"),Object(le.bb)("right"),Object(le.bb)("center"));function HT(e,t){return t?e?Object(le.H)(e)?Object.assign({},e,{offset:HT(e.offset,t)}):{value:e,offset:t}:t:e}function RT(mark,e){return e?(mark.name=e.name,mark.style=e.style||mark.style,mark.interactive=!!e.interactive,mark.encode=aY(mark.encode,e,TT)):mark.interactive=!1,mark}function IT(e,t,n,r){const o=FT(e,n),l=o.isVertical(),c=o.gradientThickness(),d=o.gradientLength();let f,h,m,_,y;l?(h=[0,1],m=[0,0],_=c,y=d):(h=[0,0],m=[1,0],_=d,y=c);const v={enter:f={opacity:AT,x:AT,y:AT,width:nY(_),height:nY(y)},update:Object(le.p)({},f,{opacity:ET,fill:{gradient:t,start:h,stop:m}}),exit:{opacity:AT}};return iY(v,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),RT({type:"rect",role:"legend-gradient",encode:v},r)}function BT(e,t,n,r,o){const l=FT(e,n),c=l.isVertical(),d=l.gradientThickness(),f=l.gradientLength();let u,h,m,_,y="";c?(u="y",m="y2",h="x",_="width",y="1-"):(u="x",m="x2",h="y",_="height");const v={opacity:AT,fill:{scale:t,field:ST}};v[u]={signal:y+"datum.perc",mult:f},v[h]=AT,v[m]={signal:y+"datum.perc2",mult:f},v[_]=nY(d);const x={enter:v,update:Object(le.p)({},v,{opacity:ET}),exit:{opacity:AT}};return iY(x,{stroke:l("gradientStrokeColor"),strokeWidth:l("gradientStrokeWidth")},{opacity:l("gradientOpacity")}),RT({type:"rect",role:"legend-band",key:ST,from:o,encode:x},r)}const $T="datum.".concat("perc",'<=0?"').concat("left",'":datum.').concat("perc",'>=1?"').concat("right",'":"').concat("center",'"'),WT="datum.".concat("perc",'<=0?"').concat("bottom",'":datum.').concat("perc",'>=1?"').concat("top",'":"').concat("middle",'"');function UT(e,t,n,r){const o=FT(e,t),l=o.isVertical(),c=nY(o.gradientThickness()),d=o.gradientLength();let f,h,u,m,_=o("labelOverlap"),y="";const v={enter:f={opacity:AT},update:h={opacity:ET,text:{field:"label"}},exit:{opacity:AT}};return iY(v,{fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:SY(e.labelLimit,t.gradientLabelLimit)}),l?(f.align={value:"left"},f.baseline=h.baseline={signal:WT},u="y",m="x",y="1-"):(f.align=h.align={signal:$T},f.baseline={value:"top"},u="x",m="y"),f[u]=h[u]={signal:y+"datum.perc",mult:d},f[m]=h[m]=c,c.offset=SY(e.labelOffset,t.gradientLabelOffset)||0,_=_?{separation:o("labelSeparation"),method:_,order:"datum.index"}:void 0,RT({type:"text",role:"legend-label",style:"guide-label",key:ST,from:r,encode:v,overlap:_},n)}function qT(e,t,n,r,o){const l=FT(e,t),c=n.entries,d=!(!c||!c.interactive),f=c?c.name:void 0,h=l("clipHeight"),m=l("symbolOffset"),_={data:"value"},y="(".concat(o,") ? datum.").concat("offset"," : datum.").concat("size"),v=h?nY(h):{field:"size"},x="datum.".concat("index"),M="max(1, ".concat(o,")");let w,k,L,D,O;v.mult=.5,w={enter:k={opacity:AT,x:{signal:y,mult:.5,offset:m},y:v},update:L={opacity:ET,x:k.x,y:k.y},exit:{opacity:AT}};let j=null,S=null;e.fill||(j=t.symbolBaseFillColor,S=t.symbolBaseStrokeColor),iY(w,{fill:l("symbolFillColor",j),shape:l("symbolType"),size:l("symbolSize"),stroke:l("symbolStrokeColor",S),strokeDash:l("symbolDash"),strokeDashOffset:l("symbolDashOffset"),strokeWidth:l("symbolStrokeWidth")},{opacity:l("symbolOpacity")}),YT.forEach(t=>{e[t]&&(L[t]=k[t]={scale:e[t],field:ST})});const Y=RT({type:"symbol",role:"legend-symbol",key:ST,from:_,clip:!!h||void 0,encode:w},n.symbols),T=nY(m);T.offset=l("labelOffset"),w={enter:k={opacity:AT,x:{signal:y,offset:T},y:v},update:L={opacity:ET,text:{field:"label"},x:k.x,y:k.y},exit:{opacity:AT}},iY(w,{align:l("labelAlign"),baseline:l("labelBaseline"),fill:l("labelColor"),fillOpacity:l("labelOpacity"),font:l("labelFont"),fontSize:l("labelFontSize"),fontStyle:l("labelFontStyle"),fontWeight:l("labelFontWeight"),limit:l("labelLimit")});const A=RT({type:"text",role:"legend-label",style:"guide-label",key:ST,from:_,encode:w},n.labels);return w={enter:{noBound:{value:!h},width:AT,height:h?nY(h):AT,opacity:AT},exit:{opacity:AT},update:L={opacity:ET,row:{signal:null},column:{signal:null}}},l.isVertical(!0)?(D="ceil(item.mark.items.length / ".concat(M,")"),L.row.signal="".concat(x,"%").concat(D),L.column.signal="floor(".concat(x," / ").concat(D,")"),O={field:["row",x]}):(L.row.signal="floor(".concat(x," / ").concat(M,")"),L.column.signal="".concat(x," % ").concat(M),O={field:x}),L.column.signal="(".concat(o,")?").concat(L.column.signal,":").concat(x),CT({role:"scope",from:r={facet:{data:r,name:"value",groupby:"index"}},encode:aY(w,c,TT),marks:[Y,A],name:f,interactive:d,sort:O})}const VT='item.orient === "left"',JT='item.orient === "right"',GT="(".concat(VT," || ").concat(JT,")"),XT="datum.vgrad && ".concat(GT),ZT=NT('"top"','"bottom"','"middle"'),KT=NT('"right"','"left"','"center"'),QT="datum.vgrad && ".concat(JT," ? (").concat(KT,") : (").concat(GT," && !(datum.vgrad && ").concat(VT,')) ? "left" : ').concat(zT),eA="item._anchor || (".concat(GT,' ? "middle" : "start")'),tA="".concat(XT," ? (").concat(VT," ? -90 : 90) : 0"),nA="".concat(GT," ? (datum.vgrad ? (").concat(JT,' ? "bottom" : "top") : ').concat(ZT,') : "top"');function rA(e,t){let n;return Object(le.H)(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+iA(e.path)+")":e.sphere&&(n="geoShape("+iA(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function iA(e){return Object(le.H)(e)&&e.signal?e.signal:Object(le.bb)(e)}function aA(e){const t=e.role||"";return t.indexOf("axis")&&t.indexOf("legend")&&t.indexOf("title")?"group"===e.type?"scope":t||"mark":t}function oA(e){return{marktype:e.type,name:e.name||void 0,role:e.role||aA(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function sA(e,t){return e&&e.signal?t.signalRef(e.signal):!1!==e}function lA(e,t){const n=Ja(e.type);n||Object(le.o)("Unrecognized transform type: "+Object(le.bb)(e.type));const r=vY(n.type.toLowerCase(),null,uA(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function uA(e,t,n){const r={},o=e.params.length;for(let i=0;i<o;++i){const o=e.params[i];r[o.name]=cA(o,t,n)}return r}function cA(e,t,n){const r=e.type,o=t[e.name];return"index"===r?function(e,t,n){Object(le.J)(t.from)||Object(le.o)('Lookup "from" parameter must be a string literal.');return n.getData(t.from).lookupRef(n,t.key)}(0,t,n):void 0!==o?"param"===r?function(e,t,n){const r=t[e.name];return e.array?(Object(le.B)(r)||Object(le.o)("Expected an array of sub-parameters. Instead: "+Object(le.bb)(r)),r.map(t=>fA(e,t,n))):fA(e,r,n)}(e,t,n):"projection"===r?n.projectionRef(t[e.name]):e.array&&!OY(o)?o.map(t=>dA(e,t,n)):dA(e,o,n):void(e.required&&Object(le.o)("Missing required "+Object(le.bb)(t.type)+" parameter: "+Object(le.bb)(e.name)))}function dA(e,t,n){const r=e.type;if(OY(t))return gA(r)?Object(le.o)("Expression references can not be signals."):_A(r)?n.fieldRef(t):yA(r)?n.compareRef(t):n.signalRef(t.signal);{const o=e.expr||_A(r);return o&&hA(t)?n.exprRef(t.expr,t.as):o&&mA(t)?wY(t.field,t.as):gA(r)?Vj(t,n):pA(r)?MY(n.getData(t).values):_A(r)?wY(t):yA(r)?n.compareRef(t):t}}function fA(e,t,n){const r=e.params.length;let o;for(let i=0;i<r;++i){o=e.params[i];for(const e in o.key)if(o.key[e]!==t[e]){o=null;break}if(o)break}o||Object(le.o)("Unsupported parameter: "+Object(le.bb)(t));const l=Object(le.p)(uA(o,t,n),o.key);return MY(n.add(rT(l)))}const hA=e=>e&&e.expr,mA=e=>e&&e.field,pA=e=>"data"===e,gA=e=>"expr"===e,_A=e=>"field"===e,yA=e=>"compare"===e;function bA(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:MY(t.getData(e.data).output)}function vA(e,input,output,t,n){this.scope=e,this.input=input,this.output=output,this.values=t,this.aggregate=n,this.index={}}function xA(e){return Object(le.J)(e)?e:null}function MA(e,p,t){const n=DY(t.op,t.field);let s;if(p.ops){for(let i=0,e=p.as.length;i<e;++i)if(p.as[i]===n)return}else p.ops=["count"],p.fields=[null],p.as=["count"];t.op&&(p.ops.push((s=t.op.signal)?e.signalRef(s):t.op),p.fields.push(e.fieldRef(t.field)),p.as.push(n))}function wA(e,t,n,r,o,l,c){const d=t[n]||(t[n]={}),f=function(e){return Object(le.H)(e)?("descending"===e.order?"-":"+")+DY(e.op,e.field):""}(l);let h,m,_=xA(o);if(null!=_&&(e=t.scope,_+=f?"|"+f:"",h=d[_]),!h){const n=l?{field:kY,pulse:t.countsRef(e,o,l)}:{field:e.fieldRef(o),pulse:MY(t.output)};f&&(n.sort=e.sortRef(l)),m=e.add(vY(r,void 0,n)),c&&(t.index[o]=m),h=MY(m),null!=_&&(d[_]=h)}return h}function kA(e,t,n){const r=e.remove,o=e.insert,l=e.toggle,c=e.modify,d=e.values,f=t.add(xY()),h=Vj("if("+e.trigger+',modify("'+n+'",'+[o,r,l,c,d].map(e=>null==e?"null":e).join(",")+"),0)",t);f.update=h.$expr,f.params=h.$params}function LA(e,t){const n=aA(e),r="group"===e.type,o=e.from&&e.from.facet,l=e.overlap;let c,d,f,h,m,_,y,v=e.layout||"scope"===n||"frame"===n;const x="mark"===n||v||o,input=function(e,t,n){let r,o,l,c,d;return e?(r=e.facet)&&(t||Object(le.o)("Only group marks can be faceted."),null!=r.field?c=d=bA(r,n):(e.data?d=MY(n.getData(e.data).aggregate):(l=lA(Object(le.p)({type:"aggregate",groupby:Object(le.i)(r.groupby)},r.aggregate),n),l.params.key=n.keyRef(r.groupby),l.params.pulse=bA(r,n),c=d=MY(n.add(l))),o=n.keyRef(r.groupby,!0))):c=MY(n.add($Y(null,[{}]))),c||(c=bA(e,n)),{key:o,pulse:c,parent:d}}(e.from,r,t);d=t.add(UY({key:input.key||(e.key?wY(e.key):void 0),pulse:input.pulse,clean:!r}));const M=MY(d);d=f=t.add($Y({pulse:M})),d=t.add(QY({markdef:oA(e),interactive:sA(e.interactive,t),clip:rA(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:MY(d)}));const w=MY(d);d=h=t.add(qY(hY(e.encode,e.type,n,e.style,t,{mod:!1,pulse:w}))),d.params.parent=t.encode(),e.transform&&e.transform.forEach(e=>{const n=lA(e,t),r=n.metadata;(r.generates||r.changes)&&Object(le.o)("Mark transforms should not generate new data."),r.nomod||(h.params.mod=!0),n.params.pulse=MY(d),t.add(d=n)}),e.sort&&(d=t.add(dT({sort:t.compareRef(e.sort),pulse:MY(d)})));const k=MY(d);(o||v)&&(v=t.add(fT({layout:t.objectProperty(e.layout),legends:t.legends,mark:w,pulse:k})),_=MY(v));const L=t.add(BY({mark:w,pulse:_||k}));y=MY(L),r&&(x&&(c=t.operators,c.pop(),v&&c.pop()),t.pushState(k,_||y,M),o?function(e,t,n){const r=e.from.facet,o=r.name,data=bA(r,t);let l;r.name||Object(le.o)("Facet must have a name: "+Object(le.bb)(r)),r.data||Object(le.o)("Facet must reference a data set: "+Object(le.bb)(r)),r.field?l=t.add(iT({field:t.fieldRef(r.field),pulse:data})):r.groupby?l=t.add(JY({key:t.keyRef(r.groupby),group:MY(t.proxy(n.parent)),pulse:data})):Object(le.o)("Facet must specify groupby or field: "+Object(le.bb)(r));const c=t.fork(),source=c.add($Y()),d=c.add(cT({pulse:MY(source)}));c.addData(o,new vA(c,source,source,d)),c.addSignal("parent",null),l.params.subflow={$subflow:c.parse(e).toRuntime()}}(e,t,input):x?function(e,t,input){const n=t.add(iT({pulse:input.pulse})),r=t.fork();r.add(cT()),r.addSignal("parent",null),n.params.subflow={$subflow:r.parse(e).toRuntime()}}(e,t,input):t.parse(e),t.popState(),x&&(v&&c.push(v),c.push(L))),l&&(y=function(e,source,t){const n=e.method,r=e.bound,o=e.separation,l={separation:OY(o)?t.signalRef(o.signal):o,method:OY(n)?t.signalRef(n.signal):n,pulse:source};e.order&&(l.sort=t.compareRef({field:e.order}));if(r){const e=r.tolerance;l.boundTolerance=OY(e)?t.signalRef(e.signal):+e,l.boundScale=t.scaleRef(r.scale),l.boundOrient=r.orient}return MY(t.add(nT(l)))}(l,y,t));const D=t.add(lT({pulse:y})),O=t.add(cT({pulse:MY(D)},void 0,t.parent()));null!=e.name&&(m=e.name,t.addData(m,new vA(t,f,D,O)),e.on&&e.on.forEach(e=>{(e.insert||e.remove||e.toggle)&&Object(le.o)("Marks only support modify triggers."),kA(e,t,m)}))}function DA(e,t){const n=t.config.legend,r=e.encode||{},o=FT(e,n),l=r.legend||{},c=l.name||void 0,d=l.interactive,style=l.style,f={};let h,m,_,y=0;YT.forEach(s=>e[s]?(f[s]=e[s],y=y||e[s]):0),y||Object(le.o)("Missing valid scale for legend.");const v=function(e,t){let n=e.type||"symbol";e.type||1!==function(e){return YT.reduce((t,n)=>t+(e[n]?1:0),0)}(e)||!e.fill&&!e.stroke||(n=zf(t)?"gradient":Rf(t)?"discrete":"symbol");return"gradient"!==n?n:Rf(t)?"discrete":"gradient"}(e,t.scaleType(y)),x={title:null!=e.title,scales:f,type:v,vgrad:"symbol"!==v&&o.isVertical()},M=MY(t.add($Y(null,[x]))),w=MY(t.add(ZY(m={type:v,scale:t.scaleRef(y),count:t.objectProperty(o("tickCount")),limit:t.property(o("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return"gradient"===v?(_=[IT(e,y,n,r.gradient),UT(e,n,r.labels,w)],m.count=m.count||t.signalRef("max(2,2*floor((".concat(YY(o.gradientLength()),")/100))"))):"discrete"===v?_=[BT(e,y,n,r.gradient,w),UT(e,n,r.labels,w)]:(h=function(e,t){const n=FT(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}(e,n),_=[qT(e,n,r,w,YY(h.columns))],m.size=function(e,t,n){const r=YY(jA("size",e,n)),o=YY(jA("strokeWidth",e,n)),l=YY(function(e,t,style){return PT("fontSize",e)||function(e,t,style){const s=t.config.style[style];return s&&s[e]}("fontSize",t,style)}(n[1].encode,t,"guide-label"));return Vj("max(ceil(sqrt(".concat(r,")+").concat(o,"),").concat(l,")"),t)}(e,t,_[0].marks)),_=[CT({role:"legend-entry",from:M,encode:{enter:{x:{value:0},y:{value:0}}},marks:_,layout:h,interactive:d})],x.title&&_.push(function(e,t,n,r){const o=FT(e,t),l={enter:{opacity:AT},update:{opacity:ET,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:AT}};return iY(l,{orient:o("titleOrient"),_anchor:o("titleAnchor"),anchor:{signal:eA},angle:{signal:tA},align:{signal:QT},baseline:{signal:nA},text:e.title,fill:o("titleColor"),fillOpacity:o("titleOpacity"),font:o("titleFont"),fontSize:o("titleFontSize"),fontStyle:o("titleFontStyle"),fontWeight:o("titleFontWeight"),limit:o("titleLimit"),lineHeight:o("titleLineHeight")},{align:o("titleAlign"),baseline:o("titleBaseline")}),RT({type:"text",role:"legend-title",style:"guide-title",from:r,encode:l},n)}(e,n,r.title,M)),LA(CT({role:"legend",from:M,encode:aY(OA(o,e,n),l,TT),marks:_,aria:o("aria"),description:o("description"),zindex:o("zindex"),name:c,interactive:d,style:style}),t)}function OA(e,t,n){const r={enter:{},update:{}};return iY(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function jA(e,t,n){return t[e]?'scale("'.concat(t[e],'",datum)'):PT(e,n[0].encode)}vA.fromEntries=function(e,t){const n=t.length,r=t[n-1],output=t[n-2];let input=t[0],o=null,i=1;for(input&&"load"===input.type&&(input=t[1]),e.add(t[0]);i<n;++i)t[i].params.pulse=MY(t[i-1]),e.add(t[i]),"aggregate"===t[i].type&&(o=t[i]);return new vA(e,input,output,r,o)},vA.prototype={countsRef(e,t,n){const r=this,o=r.counts||(r.counts={}),l=xA(t);let c,a,p;return null!=l&&(e=r.scope,c=o[l]),c?n&&n.field&&MA(e,c.agg.params,n):(p={groupby:e.fieldRef(t,"key"),pulse:MY(r.output)},n&&n.field&&MA(e,p,n),a=e.add(RY(p)),c=e.add($Y({pulse:MY(a)})),c={agg:a,ref:MY(c)},null!=l&&(o[l]=c)),c.ref},tuplesRef(){return MY(this.values)},extentRef(e,t){return wA(e,this,"extent","extent",t,!1)},domainRef(e,t){return wA(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return wA(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return wA(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return wA(e,this,"indata","tupleindex",t,!0,!0)}};const SA='item.orient==="'.concat("left",'"?-90:item.orient==="').concat("right",'"?90:0');function YA(e,t){const n=FT(e=Object(le.J)(e)?{text:e}:e,t.config.title),r=e.encode||{},o=r.group||{},l=o.name||void 0,c=o.interactive,style=o.style,d=[],f=MY(t.add($Y(null,[{}])));return d.push(function(e,t,n,r){const o={value:0},text=e.text,l={enter:{opacity:o},update:{opacity:{value:1}},exit:{opacity:o}};return iY(l,{text:text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),RT({type:"text",role:"title-text",style:"group-title",from:r,encode:l},n)}(e,n,function(e){const t=e.encode;return t&&t.title||Object(le.p)({name:e.name,interactive:e.interactive,style:e.style},t)}(e),f)),e.subtitle&&d.push(function(e,t,n,r){const o={value:0},text=e.subtitle,l={enter:{opacity:o},update:{opacity:{value:1}},exit:{opacity:o}};return iY(l,{text:text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),RT({type:"text",role:"title-subtitle",style:"group-subtitle",from:r,encode:l},n)}(e,n,r.subtitle,f)),LA(CT({role:"title",from:f,encode:TA(n,o),marks:d,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:l,interactive:c,style:style}),t)}function TA(e,t){const n={enter:{},update:{}};return iY(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:zT},angle:{signal:SA},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),aY(n,t,TT)}function AA(data,e){const t=[];data.transform&&data.transform.forEach(n=>{t.push(lA(n,e))}),data.on&&data.on.forEach(t=>{kA(t,e,data.name)}),e.addDataPipeline(data.name,function(data,e,t){const output=[];let n,i,r,o,l,source=null,c=!1,d=!1;data.values?OY(data.values)||jY(data.format)?(output.push(CA(e,data)),output.push(source=EA())):output.push(source=EA({$ingest:data.values,$format:data.format})):data.url?jY(data.url)||jY(data.format)?(output.push(CA(e,data)),output.push(source=EA())):output.push(source=EA({$request:data.url,$format:data.format})):data.source&&(source=n=Object(le.i)(data.source).map(t=>MY(e.getData(t).output)),output.push(null));for(i=0,r=t.length;i<r;++i)o=t[i],l=o.metadata,source||l.source||output.push(source=EA()),output.push(o),l.generates&&(d=!0),l.modifies&&!d&&(c=!0),l.source?source=o:l.changes&&(source=null);n&&(r=n.length-1,output[0]=sT({derive:c,pulse:r?n:n[0]}),(c||r)&&output.splice(1,0,EA()));source||output.push(EA());return output.push(cT({})),output}(data,e,t))}function EA(e){const s=$Y({},e);return s.metadata={source:!0},s}function CA(e,data){return KY({url:data.url?e.property(data.url):void 0,async:data.async?e.property(data.async):void 0,values:data.values?e.property(data.values):void 0,format:e.objectProperty(data.format)})}const FA=e=>"bottom"===e||"top"===e,PA=(e,a,b)=>OY(e)?BA(e.signal,a,b):"left"===e||"top"===e?a:b,NA=(e,a,b)=>OY(e)?RA(e.signal,a,b):FA(e)?a:b,zA=(e,a,b)=>OY(e)?IA(e.signal,a,b):FA(e)?b:a,HA=(e,a,b)=>OY(e)?$A(e.signal,a,b):"top"===e?{value:a}:{value:b},RA=(e,a,b)=>UA("".concat(e," === '").concat("top","' || ").concat(e," === '").concat("bottom","'"),a,b),IA=(e,a,b)=>UA("".concat(e," !== '").concat("top","' && ").concat(e," !== '").concat("bottom","'"),a,b),BA=(e,a,b)=>VA("".concat(e," === '").concat("left","' || ").concat(e," === '").concat("top","'"),a,b),$A=(e,a,b)=>VA("".concat(e," === '").concat("top","'"),a,b),WA=(e,a,b)=>VA("".concat(e," === '").concat("right","'"),a,b),UA=(e,a,b)=>(a=null!=a?nY(a):a,b=null!=b?nY(b):b,qA(a)&&qA(b)?(a=a?a.signal||Object(le.bb)(a.value):null,b=b?b.signal||Object(le.bb)(b.value):null,{signal:"".concat(e," ? (").concat(a,") : (").concat(b,")")}):[Object(le.p)({test:e},a)].concat(b||[])),qA=e=>null==e||1===Object.keys(e).length,VA=(e,a,b)=>({signal:"".concat(e," ? (").concat(JA(a),") : (").concat(JA(b),")")}),JA=e=>OY(e)?e.signal:null==e?null:Object(le.bb)(e),GA=(e,base)=>{const s=e.signal;return s&&s.endsWith("(null)")?{signal:s.slice(0,-6)+base.signal}:e};function XA(e,t,n,style){let r;if(t&&Object(le.w)(t,e))return t[e];if(Object(le.w)(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":r="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":r=e[5].toLowerCase()+e.slice(6)}return style["guide-title"][r]}if(e.startsWith("label")){switch(e){case"labelColor":r="fill";break;case"labelFont":case"labelFontSize":r=e[5].toLowerCase()+e.slice(6)}return style["guide-label"][r]}return null}function ZA(e){const map={};for(const t of e)if(t)for(const e in t)map[e]=1;return Object.keys(map)}function KA(e,t){return{scale:e.scale,range:t}}function QA(e,t,n,r,o){const l=FT(e,t),c=e.orient,d=e.gridScale,f=PA(c,1,-1),h=function(e,t){if(1===t);else if(Object(le.H)(e)){let n=e=Object(le.p)({},e);for(;null!=n.mult;){if(!Object(le.H)(n.mult))return n.mult=OY(t)?{signal:"(".concat(n.mult,") * (").concat(t.signal,")")}:n.mult*t,e;n=n.mult=Object(le.p)({},n.mult)}n.mult=t}else e=OY(t)?{signal:"(".concat(t.signal,") * (").concat(e||0,")")}:t*(e||0);return e}(e.offset,f);let m,_,y;const v={enter:m={opacity:AT},update:y={opacity:ET},exit:_={opacity:AT}};iY(v,{stroke:l("gridColor"),strokeCap:l("gridCap"),strokeDash:l("gridDash"),strokeDashOffset:l("gridDashOffset"),strokeOpacity:l("gridOpacity"),strokeWidth:l("gridWidth")});const x={scale:e.scale,field:ST,band:o.band,extra:o.extra,offset:o.offset,round:l("tickRound")},M=NA(c,{signal:"height"},{signal:"width"}),w=d?{scale:d,range:0,mult:f,offset:h}:{value:0,offset:h},k=d?{scale:d,range:1,mult:f,offset:h}:Object(le.p)(M,{mult:f,offset:h});return m.x=y.x=NA(c,x,w),m.y=y.y=zA(c,x,w),m.x2=y.x2=zA(c,k),m.y2=y.y2=NA(c,k),_.x=NA(c,x),_.y=zA(c,x),RT({type:"rule",role:"axis-grid",key:ST,from:r,encode:v},n)}function eE(e,t,a,b,n){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+a+","+b+","+n+")"}}function tE(e,t,n,r,o,l){const c=FT(e,t),d=e.orient,f=e.scale,h=PA(d,-1,1),m=YY(c("labelFlush")),_=YY(c("labelFlushOffset")),y=c("labelAlign"),v=c("labelBaseline");let x,M=0===m||!!m;const w=nY(o);w.mult=h,w.offset=nY(c("labelPadding")||0),w.offset.mult=h;const k={scale:f,field:ST,band:.5,offset:HT(l.offset,c("labelOffset"))},L=NA(d,M?eE(f,m,'"left"','"right"','"center"'):{value:"center"},((e,a,b)=>OY(e)?WA(e.signal,a,b):"right"===e?{value:a}:{value:b})(d,"left","right")),D=NA(d,HA(d,"bottom","top"),M?eE(f,m,'"top"','"bottom"','"middle"'):{value:"middle"}),O=eE(f,m,"-(".concat(_,")"),_,0);M=M&&_;const j={opacity:AT,x:NA(d,k,w),y:zA(d,k,w)},S={enter:j,update:x={opacity:ET,text:{field:"label"},x:j.x,y:j.y,align:L,baseline:D},exit:{opacity:AT,x:j.x,y:j.y}};iY(S,{dx:!y&&M?NA(d,O):null,dy:!v&&M?zA(d,O):null}),iY(S,{angle:c("labelAngle"),fill:c("labelColor"),fillOpacity:c("labelOpacity"),font:c("labelFont"),fontSize:c("labelFontSize"),fontWeight:c("labelFontWeight"),fontStyle:c("labelFontStyle"),limit:c("labelLimit"),lineHeight:c("labelLineHeight")},{align:y,baseline:v});const Y=c("labelBound");let T=c("labelOverlap");return T=T||Y?{separation:c("labelSeparation"),method:T,order:"datum.index",bound:Y?{scale:f,orient:d,tolerance:Y}:null}:void 0,x.align!==L&&(x.align=GA(x.align,L)),x.baseline!==D&&(x.baseline=GA(x.baseline,D)),RT({type:"text",role:"axis-label",style:"guide-label",key:ST,from:r,encode:S,overlap:T},n)}function nE(e,t,n,r){const o=FT(e,t),l=e.orient,c=PA(l,-1,1);let d,f;const h={enter:d={opacity:AT,anchor:nY(o("titleAnchor",null)),align:{signal:zT}},update:f=Object(le.p)({},d,{opacity:ET,text:nY(e.title)}),exit:{opacity:AT}},m={signal:'lerp(range("'.concat(e.scale,'"), ').concat(NT(0,1,.5),")")};return f.x=NA(l,m),f.y=zA(l,m),d.angle=NA(l,AT,((e,t)=>0===t?0:OY(e)?{signal:"(".concat(e.signal,") * ").concat(t)}:{value:e*t})(c,90)),d.baseline=NA(l,HA(l,"bottom","top"),{value:"bottom"}),f.angle=d.angle,f.baseline=d.baseline,iY(h,{fill:o("titleColor"),fillOpacity:o("titleOpacity"),font:o("titleFont"),fontSize:o("titleFontSize"),fontStyle:o("titleFontStyle"),fontWeight:o("titleFontWeight"),limit:o("titleLimit"),lineHeight:o("titleLineHeight")},{align:o("titleAlign"),angle:o("titleAngle"),baseline:o("titleBaseline")}),function(e,t,n,r){const o=(e,t)=>null!=e?(n.update[t]=GA(nY(e),n.update[t]),!1):!oY(t,r),l=o(e("titleX"),"x"),c=o(e("titleY"),"y");n.enter.auto=c===l?nY(c):NA(t,nY(c),nY(l))}(o,l,h,n),h.update.align=GA(h.update.align,d.align),h.update.angle=GA(h.update.angle,d.angle),h.update.baseline=GA(h.update.baseline,d.baseline),RT({type:"text",role:"axis-title",style:"guide-title",from:r,encode:h},n)}function rE(e,t){const n=function(e,t){var n,r,o,l,c,b,d,f,h=t.config,style=h.style,m=h.axis,_="band"===t.scaleType(e.scale)&&h.axisBand,y=e.orient;if(OY(y)){const e=ZA([h.axisX,h.axisY]),t=ZA([h.axisTop,h.axisBottom,h.axisLeft,h.axisRight]);for(o of(n={},e))n[o]=NA(y,XA(o,h.axisX,m,style),XA(o,h.axisY,m,style));for(o of(r={},t))r[o]=(l=y.signal,c=XA(o,h.axisTop,m,style),b=XA(o,h.axisBottom,m,style),d=XA(o,h.axisLeft,m,style),f=XA(o,h.axisRight,m,style),{signal:(null!=d?"".concat(l," === '").concat("left","' ? (").concat(JA(d),") : "):"")+(null!=b?"".concat(l," === '").concat("bottom","' ? (").concat(JA(b),") : "):"")+(null!=f?"".concat(l," === '").concat("right","' ? (").concat(JA(f),") : "):"")+(null!=c?"".concat(l," === '").concat("top","' ? (").concat(JA(c),") : "):"")+"(null)"})}else n="top"===y||"bottom"===y?h.axisX:h.axisY,r=h["axis"+y[0].toUpperCase()+y.slice(1)];return n||r||_?Object(le.p)({},m,n,r,_):m}(e,t),r=e.encode||{},o=r.axis||{},l=o.name||void 0,c=o.interactive,style=o.style,d=FT(e,n),f=function(e){const t=e("tickBand");let n,r,o=e("tickOffset");return t?t.signal?(n={signal:"(".concat(t.signal,") === 'extent' ? 1 : 0.5")},r={signal:"(".concat(t.signal,") === 'extent'")},Object(le.H)(o)||(o={signal:"(".concat(t.signal,") === 'extent' ? 0 : ").concat(o)})):"extent"===t?(n=1,r=!0,o=0):(n=.5,r=!1):(n=e("bandPosition"),r=e("tickExtra")),{extra:r,band:n,offset:o}}(d),h={scale:e.scale,ticks:!!d("ticks"),labels:!!d("labels"),grid:!!d("grid"),domain:!!d("domain"),title:null!=e.title},m=MY(t.add($Y({},[h]))),_=MY(t.add(IY({scale:t.scaleRef(e.scale),extra:t.property(f.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),y=[];let v;return h.grid&&y.push(QA(e,n,r.grid,_,f)),h.ticks&&(v=d("tickSize"),y.push(function(e,t,n,r,o,l){const c=FT(e,t),d=e.orient,f=PA(d,-1,1);let h,m,_;const y={enter:h={opacity:AT},update:_={opacity:ET},exit:m={opacity:AT}};iY(y,{stroke:c("tickColor"),strokeCap:c("tickCap"),strokeDash:c("tickDash"),strokeDashOffset:c("tickDashOffset"),strokeOpacity:c("tickOpacity"),strokeWidth:c("tickWidth")});const v=nY(o);v.mult=f;const x={scale:e.scale,field:ST,band:l.band,extra:l.extra,offset:l.offset,round:c("tickRound")};return _.y=h.y=NA(d,AT,x),_.y2=h.y2=NA(d,v),m.x=NA(d,x),_.x=h.x=zA(d,AT,x),_.x2=h.x2=zA(d,v),m.y=zA(d,x),RT({type:"rule",role:"axis-tick",key:ST,from:r,encode:y},n)}(e,n,r.ticks,_,v,f))),h.labels&&(v=h.ticks?v:0,y.push(tE(e,n,r.labels,_,v,f))),h.domain&&y.push(function(e,t,n,r){const o=FT(e,t),l=e.orient;let c,d;const f={enter:c={opacity:AT},update:d={opacity:ET},exit:{opacity:AT}};iY(f,{stroke:o("domainColor"),strokeCap:o("domainCap"),strokeDash:o("domainDash"),strokeDashOffset:o("domainDashOffset"),strokeWidth:o("domainWidth"),strokeOpacity:o("domainOpacity")});const h=KA(e,0),m=KA(e,1);return c.x=d.x=NA(l,h,AT),c.x2=d.x2=NA(l,m),c.y=d.y=zA(l,h,AT),c.y2=d.y2=zA(l,m),RT({type:"rule",role:"axis-domain",from:r,encode:f},n)}(e,n,r.domain,m)),h.title&&y.push(nE(e,n,r.title,m)),LA(CT({role:"axis",from:m,encode:aY(iE(d,e),o,TT),marks:y,aria:d("aria"),description:d("description"),zindex:d("zindex"),name:l,interactive:c,style:style}),t)}function iE(e,t){const n={enter:{},update:{}};return iY(n,{orient:e("orient"),offset:e("offset")||0,position:SY(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:'abs(span(range("'.concat(t.scale,'")))')},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function aE(e,t,n){const r=Object(le.i)(e.signals),o=Object(le.i)(e.scales);return n||r.forEach(e=>yY(e,t)),Object(le.i)(e.projections).forEach(e=>function(e,t){const n=t.config.projection||{},r={};for(const n in e)"name"!==n&&(r[n]=jT(e[n],n,t));for(const e in n)null==r[e]&&(r[e]=jT(n[e],e,t));t.addProjection(e.name,r)}(e,t)),o.forEach(e=>function(e,t){const n=e.type||"linear";Pf(n)||Object(le.o)("Unrecognized scale type: "+Object(le.bb)(n)),t.addScale(e.name,{type:n,domain:void 0})}(e,t)),Object(le.i)(e.data).forEach(e=>AA(e,t)),o.forEach(e=>gT(e,t)),(n||r).forEach(e=>function(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?Object(le.o)("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=Vj(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(e=>NY(e,t,n.id))}(e,t)),Object(le.i)(e.axes).forEach(e=>rE(e,t)),Object(le.i)(e.marks).forEach(e=>LA(e,t)),Object(le.i)(e.legends).forEach(e=>DA(e,t)),e.title&&YA(e.title,t),t.parseLambdas(),t}function oE(e,t){const n=t.config,r=MY(t.root=t.add(xY())),o=function(e,t){const n=n=>SY(e[n],t[n]),r=[sE("background",n("background")),sE("autosize",QS(n("autosize"))),sE("padding",tY(n("padding"))),sE("width",n("width")||0),sE("height",n("height")||0)],pre=r.reduce((p,s)=>(p[s.name]=s,p),{}),map={};return Object(le.i)(e.signals).forEach(s=>{Object(le.w)(pre,s.name)?s=Object(le.p)(pre[s.name],s):r.push(s),map[s.name]=s}),Object(le.i)(t.signals).forEach(s=>{Object(le.w)(map,s.name)||Object(le.w)(pre,s.name)||r.push(s)}),r}(e,n);o.forEach(e=>yY(e,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const input=t.add($Y()),l=t.add(qY(hY((e=>aY({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e))(e.encode),"group","frame",e.style,t,{pulse:MY(input)}))),c=t.add(fT({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:MY(l)}));t.operators.pop(),t.pushState(MY(l),MY(c),null),aE(e,t,o),t.operators.push(c);let d=t.add(BY({mark:r,pulse:MY(c)}));return d=t.add(lT({pulse:MY(d)})),d=t.add(cT({pulse:MY(d)})),t.addData("root",new vA(t,input,input,d)),t}function sE(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function lE(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function uE(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}function cE(e){return(Object(le.B)(e)?dE:fE)(e)}function dE(e){const t=e.length;let code="[";for(let i=0;i<t;++i){const t=e[i];code+=(i>0?",":"")+(Object(le.H)(t)?t.signal||cE(t):Object(le.bb)(t))}return code+"]"}function fE(e){let t,n,code="{",i=0;for(t in e)n=e[t],code+=(++i>1?",":"")+Object(le.bb)(t)+":"+(Object(le.H)(n)?n.signal||cE(n):Object(le.bb)(n));return code+"}"}function hE(e,t,n){return Object(le.H)(e)||Object(le.o)("Input Vega specification must be an object."),oE(e,new lE(t=Object(le.P)({description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}},t,e.config),n)).toRuntime()}lE.prototype=uE.prototype={parse(e){return aE(e,this)},fork(){return new uE(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof bY?MY(e):e;return this.add(oT({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(e,t,n){let data,r;e&&(data=e.data||(e.data={}),r=data[t]||(data[t]=[]),r.push(n))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(MY(this.add(cT({pulse:e})))),this._parent.push(t),this._lookup.push(n?MY(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return Object(le.W)(this._parent)},encode(){return Object(le.W)(this._encode)},lookup(){return Object(le.W)(this._lookup)},markpath(){const p=this._markpath;return++p[p.length-1]},fieldRef(e,t){if(Object(le.J)(e))return wY(e,t);e.signal||Object(le.o)("Unsupported field reference: "+Object(le.bb)(e));const s=e.signal;let n=this.field[s];if(!n){const e={name:this.signalRef(s)};t&&(e.as=t),this.field[s]=n=MY(this.add(GY(e)))}return n},compareRef(e){let t=!1;const n=e=>OY(e)?(t=!0,this.signalRef(e.signal)):function(e){return e&&e.expr}(e)?(t=!0,this.exprRef(e.expr)):e,r=Object(le.i)(e.field).map(n),o=Object(le.i)(e.order).map(n);return t?MY(this.add(WY({fields:r,orders:o}))):LY(r,o)},keyRef(e,t){let n=!1;const r=this.signals;return e=Object(le.i)(e).map(e=>OY(e)?(n=!0,MY(r[e.signal])):e),n?MY(this.add(XY({fields:e,flat:t}))):function(e,t){const n={$key:e};return t&&(n.$flat=!0),n}(e,t)},sortRef(e){if(!e)return e;const a=DY(e.op,e.field),t=e.order||"ascending";return t.signal?MY(this.add(WY({fields:a,orders:this.signalRef(t.signal)}))):LY(a,t)},event(source,e){const t=source+":"+e;if(!this.events[t]){const n=this.id();this.streams.push({id:n,source:source,type:e}),this.events[t]=n}return this.events[t]},hasOwnSignal(e){return Object(le.w)(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&Object(le.o)("Duplicate signal name: "+Object(le.bb)(e));const n=t instanceof bY?t:this.add(xY(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||Object(le.o)("Unrecognized signal name: "+Object(le.bb)(e)),this.signals[e]},signalRef(s){return this.signals[s]?MY(this.signals[s]):(Object(le.w)(this.lambdas,s)||(this.lambdas[s]=this.add(xY(null))),MY(this.lambdas[s]))},parseLambdas(){const code=Object.keys(this.lambdas);for(let i=0,e=code.length;i<e;++i){const s=code[i],e=Vj(s,this),t=this.lambdas[s];t.params=e.$params,t.update=e.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return e&&Object(le.H)(e)?this.signalRef(e.signal||cE(e)):e},exprRef(code,e){const t={expr:Vj(code,this)};return e&&(t.expr.$name=e),MY(this.add(VY(t)))},addBinding(e,t){this.bindings||Object(le.o)("Nested signals do not support binding: "+Object(le.bb)(e)),this.bindings.push(Object(le.p)({signal:e},t))},addScaleProj(e,t){Object(le.w)(this.scales,e)&&Object(le.o)("Duplicate scale or projection name: "+Object(le.bb)(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,uT(t))},addProjection(e,t){this.addScaleProj(e,aT(t))},getScale(e){return this.scales[e]||Object(le.o)("Unrecognized scale name: "+Object(le.bb)(e)),this.scales[e]},scaleRef(e){return MY(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Object(le.w)(this.data,e)&&Object(le.o)("Duplicate data set name: "+Object(le.bb)(e)),this.data[e]=t},getData(e){return this.data[e]||Object(le.o)("Undefined data set name: "+Object(le.bb)(e)),this.data[e]},addDataPipeline(e,t){return Object(le.w)(this.data,e)&&Object(le.o)("Duplicate data set name: "+Object(le.bb)(e)),this.addData(e,vA.fromEntries(this,t))}};var mE="5.19.1";Object(le.p)(Va,l,d,f,h,m,y,_,v,x,M,w);const pE=mE;var gE=n(517);Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function e(){var t=isNaN(arguments[0])?1:Number(arguments[0]);return t?Array.prototype.reduce.call(this,(function(a,n){return Array.isArray(n)?a.push.apply(a,e.call(n,t-1)):a.push(n),a}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(e){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var _E=n(518),yE=n.n(_E),bE=n(519),vE=n.n(bE),xE=n(520),ME=n.n(xE);function wE(e){return!!e.or}function kE(e){return!!e.and}function LE(e){return!!e.not}function DE(e,t){return LE(e)?{not:DE(e.not,t)}:kE(e)?{and:e.and.map(e=>DE(e,t))}:wE(e)?{or:e.or.map(e=>DE(e,t))}:t(e)}const OE=vE.a,jE=yE.a;function SE(e,t){const n={};for(const r of t)Object(le.w)(e,r)&&(n[r]=e[r]);return n}function YE(e,t){const n=Object.assign({},e);for(const e of t)delete n[e];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>ME()(e)).join(",")})`};const TE=ME.a;function AE(a){if(Object(le.G)(a))return a;const e=Object(le.J)(a)?a:ME()(a);if(e.length<250)return e;let t=0;for(let i=0;i<e.length;i++){t=(t<<5)-t+e.charCodeAt(i),t&=t}return t}function EE(e){return!1===e||null===e}function CE(e,t){return e.includes(t)}function FE(e,t){let i=0;for(const[n,a]of e.entries())if(t(a,n,i++))return!0;return!1}function PE(e,t){let i=0;for(const[n,a]of e.entries())if(!t(a,n,i++))return!1;return!0}function NE(e,...t){for(const s of t)zE(e,null!=s?s:{});return e}function zE(e,t){for(const n of qE(t))Object(le.lb)(e,n,t[n],!0)}function HE(e,t){const n=[],u={};let r;for(const o of e)r=t(o),r in u||(u[r]=1,n.push(o));return n}function RE(e,t){const n=qE(e),r=qE(t);if(n.length!==r.length)return!1;for(const r of n)if(e[r]!==t[r])return!1;return!0}function IE(a,b){if(a.size!==b.size)return!1;for(const e of a)if(!b.has(e))return!1;return!0}function BE(a,b){for(const e of a)if(b.has(e))return!0;return!1}function $E(a){const e=new Set;for(const t of a){const n=Object(le.ab)(t).map((e,i)=>0===i?e:`[${e}]`),r=n.map((e,i)=>n.slice(0,i+1).join(""));for(const t of r)e.add(t)}return e}function WE(a,b){return void 0===a||void 0===b||BE($E(a),$E(b))}function UE(e){return 0===qE(e).length}const qE=Object.keys,VE=Object.values,JE=Object.entries;function GE(b){return!0===b||!1===b}function XE(s){const e=s.replace(/\W/g,"_");return(s.match(/^\d+/)?"_":"")+e}function ZE(e,t){return LE(e)?`!(${ZE(e.not,t)})`:kE(e)?`(${e.and.map(e=>ZE(e,t)).join(") && (")})`:wE(e)?`(${e.or.map(e=>ZE(e,t)).join(") || (")})`:t(e)}function KE(e,t){if(0===t.length)return!0;const n=t.shift();return n in e&&KE(e[n],t)&&delete e[n],UE(e)}function QE(s){return s.charAt(0).toUpperCase()+s.substr(1)}function eC(path,e="datum"){const t=Object(le.ab)(path),n=[];for(let i=1;i<=t.length;i++){const r=`[${t.slice(0,i).map(le.bb).join("][")}]`;n.push(`${e}${r}`)}return n.join(" && ")}function tC(path,e="datum"){return`${e}[${Object(le.bb)(Object(le.ab)(path).join("."))}]`}function nC(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function rC(path){return""+Object(le.ab)(path).map(nC).join("\\.")}function iC(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function aC(path){return""+Object(le.ab)(path).join(".")}function oC(path){return path?Object(le.ab)(path).length:0}function sC(...e){for(const t of e)if(void 0!==t)return t}let lC=42;function uC(e){const t=++lC;return e?String(e)+t:t}function cC(){lC=42}function dC(e){return fC(e)?e:"__"+e}function fC(e){return e.startsWith("__")}function hC(e){if(void 0!==e)return(e%360+360)%360}function mC(e){return!!Object(le.G)(e)||!isNaN(e)&&!isNaN(parseFloat(e))}var pC=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};const gC="row",_C="column",yC="radius",bC="theta",vC="theta2",xC="color",MC="fill",wC="stroke",kC="shape",LC={theta:1,theta2:1,radius:1,radius2:1};function DC(e){return e in LC}const OC={longitude:1,longitude2:1,latitude:1,latitude2:1};const jC=qE(OC),SC=Object.assign(Object.assign(Object.assign(Object.assign({},{x:1,y:1,x2:1,y2:1}),LC),OC),{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1});function YC(e){return e===xC||e===MC||e===wC}const TC={row:1,column:1,facet:1},AC=qE(TC),EC=Object.assign(Object.assign({},SC),TC),CC=qE(EC),{order:FC,detail:PC,tooltip:NC}=EC,zC=pC(EC,["order","detail","tooltip"]),{row:HC,column:RC,facet:IC}=zC,BC=pC(zC,["row","column","facet"]);qE(zC),qE(BC);function $C(e){return!!EC[e]}const WC=["x2","y2","latitude2","longitude2",vC,"radius2"];function UC(e){return qC(e)!==e}function qC(e){switch(e){case"x2":return"x";case"y2":return"y";case"latitude2":return"latitude";case"longitude2":return"longitude";case vC:return bC;case"radius2":return yC}return e}function VC(e){if(DC(e))switch(e){case bC:return"startAngle";case vC:return"endAngle";case yC:return"outerRadius";case"radius2":return"innerRadius"}return e}function JC(e){switch(e){case"x":return"x2";case"y":return"y2";case"latitude":return"latitude2";case"longitude":return"longitude2";case bC:return vC;case yC:return"radius2"}}function GC(e){switch(e){case"x":case"x2":return"width";case"y":case"y2":return"height"}}qE(SC);const{x:XC,y:ZC,x2:KC,y2:QC,latitude:eF,longitude:tF,latitude2:nF,longitude2:rF,theta:iF,theta2:aF,radius:oF,radius2:sF}=SC,lF=pC(SC,["x","y","x2","y2","latitude","longitude","latitude2","longitude2","theta","theta2","radius","radius2"]),uF=qE(lF),cF={x:1,y:1},dF=qE(cF);function fF(e){return e in cF}const hF={theta:1,radius:1},mF=qE(hF);function pF(e){return"width"===e?"x":"y"}const{text:gF,tooltip:_F,href:yF,url:bF,description:vF,detail:xF,key:MF,order:wF}=lF,kF=pC(lF,["text","tooltip","href","url","description","detail","key","order"]),LF=qE(kF);const DF=Object.assign(Object.assign(Object.assign({},cF),hF),kF),OF=qE(DF);function jF(e){return!!DF[e]}function SF(e,mark){return function(e){switch(e){case xC:case MC:case wC:case"description":case"detail":case"key":case"tooltip":case"href":case"order":case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeWidth":case"facet":case gC:case _C:return YF;case"x":case"y":case"latitude":case"longitude":return AF;case"x2":case"y2":case"latitude2":case"longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case"size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case"strokeDash":return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case kC:return{point:"always",geoshape:"always"};case"text":return{text:"always"};case"angle":return{point:"always",square:"always",text:"always"};case"url":return{image:"always"};case bC:case yC:return{text:"always",arc:"always"};case vC:case"radius2":return{arc:"always"}}}(e)[mark]}const YF={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:TF}=YF,AF=pC(YF,["geoshape"]);function EF(e){switch(e){case"x":case"y":case bC:case yC:case"size":case"angle":case"strokeWidth":case"opacity":case"fillOpacity":case"strokeOpacity":case"x2":case"y2":case vC:case"radius2":return;case"facet":case gC:case _C:case kC:case"strokeDash":case"text":case"tooltip":case"href":case"url":case"description":return"discrete";case xC:case MC:case wC:return"flexible";case"latitude":case"longitude":case"latitude2":case"longitude2":case"detail":case"key":case"order":return}}const CF={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},FF={count:1,min:1,max:1};function PF(a){return!!a&&!!a.argmin}function NF(a){return!!a&&!!a.argmax}qE(CF);function zF(a){return Object(le.J)(a)&&!!CF[a]}const HF=["count","valid","missing","distinct"];function RF(e){return Object(le.J)(e)&&CE(HF,e)}const IF=["count","sum","distinct","valid","missing"],BF=Object(le.fb)(["mean","average","median","q1","q3","min","max"]);function $F(e){return Object(le.C)(e)&&(e=eI(e,void 0)),"bin"+qE(e).map(p=>VF(e[p])?XE(`_${p}_${JE(e[p])}`):XE(`_${p}_${e[p]}`)).join("")}function WF(e){return!0===e||qF(e)&&!e.binned}function UF(e){return"binned"===e||qF(e)&&!0===e.binned}function qF(e){return Object(le.H)(e)}function VF(e){return null==e?void 0:e.param}function JF(e){switch(e){case gC:case _C:case"size":case xC:case MC:case wC:case"strokeWidth":case"opacity":case"fillOpacity":case"strokeOpacity":case kC:return 6;case"strokeDash":return 4;default:return 10}}function GF(e){return e&&!!e.expr}function XF(e){const t=qE(e||{}),n={};for(const r of t)n[r]=lP(e[r]);return n}var ZF=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};function KF(e){const{anchor:t,frame:n,offset:r,orient:o,color:l,subtitleColor:c,subtitleFont:d,subtitleFontSize:f,subtitleFontStyle:h,subtitleFontWeight:m,subtitleLineHeight:_,subtitlePadding:y}=e,v=ZF(e,["anchor","frame","offset","orient","color","subtitleColor","subtitleFont","subtitleFontSize","subtitleFontStyle","subtitleFontWeight","subtitleLineHeight","subtitlePadding"]),x=Object.assign(Object.assign({},v),l?{fill:l}:{}),M=Object.assign(Object.assign(Object.assign(Object.assign({},t?{anchor:t}:{}),n?{frame:n}:{}),r?{offset:r}:{}),o?{orient:o}:{}),w=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},c?{subtitleColor:c}:{}),d?{subtitleFont:d}:{}),f?{subtitleFontSize:f}:{}),h?{subtitleFontStyle:h}:{}),m?{subtitleFontWeight:m}:{}),_?{subtitleLineHeight:_}:{}),y?{subtitlePadding:y}:{});return{titleMarkConfig:x,subtitleMarkConfig:SE(x,["align","baseline","dx","dy","limit"]),nonMark:M,subtitle:w}}function QF(e){return Object(le.J)(e)||Object(le.B)(e)&&Object(le.J)(e[0])}function eP(e){return e&&!!e.signal}function tP(e){return!!e.step}function nP(e){return!Object(le.B)(e)&&("field"in e&&"data"in e)}const rP=qE({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),iP={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},aP=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];var oP=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};function sP(e){const t=Object(le.B)(e.condition)?e.condition.map(uP):uP(e.condition);return Object.assign(Object.assign({},lP(e)),{condition:t})}function lP(e){if(GF(e)){const{expr:t}=e,n=oP(e,["expr"]);return Object.assign({signal:t},n)}return e}function uP(e){if(GF(e)){const{expr:t}=e,n=oP(e,["expr"]);return Object.assign({signal:t},n)}return e}function cP(e){if(GF(e)){const{expr:t}=e,n=oP(e,["expr"]);return Object.assign({signal:t},n)}return eP(e)?e:void 0!==e?{value:e}:void 0}function dP(e){return eP(e)?e.signal:Object(le.bb)(e.value)}function fP(e){return eP(e)?e.signal:null==e?null:Object(le.bb)(e)}function hP(mark){var e;return[].concat(mark.type,null!==(e=mark.style)&&void 0!==e?e:[])}function mP(e,mark,t,n={}){const{vgChannel:r,ignoreVgConfig:o}=n;return r&&void 0!==mark[r]?mark[r]:void 0!==mark[e]?mark[e]:!o||r&&r!==e?pP(e,mark,t,n):void 0}function pP(e,mark,t,{vgChannel:n}={}){return sC(n?gP(e,mark,t.style):void 0,gP(e,mark,t.style),n?t[mark.type][n]:void 0,t[mark.type][e],n?t.mark[n]:t.mark[e])}function gP(e,mark,t){return _P(e,hP(mark),t)}function _P(p,e,t){let n;e=Object(le.i)(e);for(const style of e){const e=t[style];e&&void 0!==e[p]&&(n=e[p])}return n}function yP(e,t){return Object(le.i)(e).reduce((s,e)=>{var n;return s.field.push(RR(e,t)),s.order.push(null!==(n=e.sort)&&void 0!==n?n:"ascending"),s},{field:[],order:[]})}function bP(e,t){const n=[...e];return t.forEach(e=>{for(const t of n)if(OE(t,e))return;n.push(e)}),n}function vP(e,t){return OE(e,t)||!t?e:e?[...Object(le.i)(e),...Object(le.i)(t)].join(", "):t}function xP(e,t){const n=e.value,r=t.value;if(null==n||null===r)return{explicit:e.explicit,value:null};if((QF(n)||eP(n))&&(QF(r)||eP(r)))return{explicit:e.explicit,value:vP(n,r)};if(QF(n)||eP(n))return{explicit:e.explicit,value:n};if(QF(r)||eP(r))return{explicit:e.explicit,value:r};if(!(QF(n)||eP(n)||QF(r)||eP(r)))return{explicit:e.explicit,value:bP(n,r)};throw new Error("It should never reach here")}function MP(e){return`Invalid specification ${TE(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const wP='Autosize "fit" only works for single views and layered views.';function kP(e){return("width"==e?"Width":"Height")+' "container" only works for single views and layered views.'}function LP(e){return`${"width"==e?"Width":"Height"} "container" only works well with autosize "fit" or "fit-${"width"==e?"x":"y"}".`}function DP(e){return e?`Dropping "fit-${e}" because spec has discrete ${GC(e)}.`:'Dropping "fit" because spec has discrete size.'}function OP(e){return`Unknown field for ${e}. Cannot calculate view size.`}function jP(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function SP(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function YP(mark){return`The "nearest" transform is not supported for ${mark} marks.`}function TP(mark){return`Selection not supported for ${mark} yet.`}function AP(e){return`Cannot find a selection named "${e}".`}const EP="Scale bindings are currently only supported for scales with unbinned, continuous domains.",CP="Legend bindings are only supported for selections over an individual field or encoding channel.";function FP(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function PP(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const NP="The same selection must be used to override scale domains in a layered view.",zP='Interval selections should be initialized using "x" and/or "y" keys.';function HP(e){return`Unknown repeated value "${e}".`}function RP(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const IP="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function BP(p){return`Unrecognized parse "${p}".`}function $P(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const WP="Attempt to add the same child twice.";function UP(e){return`Ignoring an invalid transform: ${TE(e)}.`}const qP='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function VP(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function JP(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${TE(t)} is overridden by a child projection ${TE(n)}.`}const GP="Arc marks uses theta channel rather than angle, replacing angle with theta.";function XP(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${TE(n)}}.`}function ZP(e){return`Invalid field type "${e}".`}function KP(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function QP(e){return`Invalid aggregation operator "${e}".`}function eN(e,t){return`Missing type for channel "${e}", using "${t}" instead.`}function tN(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function nN(e){return`Position range does not support relative band size for ${e}.`}function rN(e,t){return`Dropping ${TE(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const iN="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function aN(e,t,n){return`${e} dropped as it is incompatible with "${t}"${n?" when "+n:""}.`}function oN(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function sN(e){return e+" encoding should be discrete (ordinal / nominal / binned)."}function lN(e){return e+" encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold)."}function uN(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function cN(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${"ordinal"===t?"order":"magnitude"}.`}function dN(e){return`The ${e} for range marks cannot be an expression`}function fN(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function hN(e,t){return`Specified orient "${e}" overridden with "${t}".`}const mN="Custom domain scale cannot be unioned with default field-based domain.";function pN(e){return`Cannot use the scale property "${e}" with non-color channel.`}function gN(e){return`Cannot use the relative band size with ${e} scale.`}function _N(e){return`Using unaggregated domain with raw field has no effect (${TE(e)}).`}function yN(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function bN(e){return`Unaggregated domain is currently unsupported for log scale (${TE(e)}).`}function vN(mark){return`Cannot apply size to non-oriented mark "${mark}".`}function xN(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function MN(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function wN(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function kN(mark,e){return`Scale type "${e}" does not work with mark "${mark}".`}function LN(e){return`The step for "${e}" is dropped because the ${"width"===e?"x":"y"} is continuous.`}function DN(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${TE(n)} and ${TE(r)}). Using ${TE(n)}.`}function ON(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${TE(n)} and ${TE(r)}). Using the union of the two domains.`}function jN(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function SN(e){return`Dropping sort property ${TE(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const YN="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",TN="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",AN="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",EN="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.",CN="Invalid channel for axis.";function FN(e){return`Cannot stack "${e}" if there is already "${e}2".`}function PN(e){return`Cannot stack non-linear scale (${e}).`}function NN(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function zN(e,t){return`Invalid ${e}: ${TE(t)}.`}function HN(e){return`Dropping day from datetime ${TE(e)} as day cannot be combined with other units.`}function RN(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function IN(e,t,mark){return`${e} is not usually used with ${t} for ${mark}.`}function BN(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function $N(e){return`1D error band does not support ${e}.`}function WN(e){return`Channel ${e} is required for "binned" bin.`}function UN(e){return`Channel ${e} should not be used with "binned" bin.`}function qN(e){return`Domain for ${e} is required for threshold scale.`}const VN=Object(le.M)(le.e);let JN=VN;function GN(){return JN=VN,JN}function XN(...e){JN.warn(...e)}function ZN(e){if(e&&Object(le.H)(e))for(const t of oz)if(t in e)return!0;return!1}new WeakMap;const KN=["january","february","march","april","may","june","july","august","september","october","november","december"],QN=KN.map(e=>e.substr(0,3)),ez=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],tz=ez.map(e=>e.substr(0,3));function nz(e,t){const n=[];if(t&&void 0!==e.day&&qE(e).length>1&&(XN(L.droppedDay(e)),delete(e=jE(e)).day),void 0!==e.year?n.push(e.year):n.push(2012),void 0!==e.month){const r=t?function(e){if(mC(e)&&(e=+e),Object(le.G)(e))return e-1;{const t=e.toLowerCase(),n=KN.indexOf(t);if(-1!==n)return n;const r=t.substr(0,3),o=QN.indexOf(r);if(-1!==o)return o;throw new Error(L.invalidTimeUnit("month",e))}}(e.month):e.month;n.push(r)}else if(void 0!==e.quarter){const r=t?function(q){if(mC(q)&&(q=+q),Object(le.G)(q))return q>4&&XN(L.invalidTimeUnit("quarter",q)),q-1;throw new Error(L.invalidTimeUnit("quarter",q))}(e.quarter):e.quarter;n.push(Object(le.G)(r)?3*r:r+"*3")}else n.push(0);if(void 0!==e.date)n.push(e.date);else if(void 0!==e.day){const r=t?function(e){if(mC(e)&&(e=+e),Object(le.G)(e))return e%7;{const t=e.toLowerCase(),n=ez.indexOf(t);if(-1!==n)return n;const r=t.substr(0,3),o=tz.indexOf(r);if(-1!==o)return o;throw new Error(L.invalidTimeUnit("day",e))}}(e.day):e.day;n.push(Object(le.G)(r)?r+1:r+"+1")}else n.push(1);for(const t of["hours","minutes","seconds","milliseconds"]){const r=e[t];n.push(void 0===r?0:r)}return n}function rz(e){const t=nz(e,!0).join(", ");return e.utc?`utc(${t})`:`datetime(${t})`}var iz=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};const az={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},oz=qE(az);function sz(e){return e.startsWith("utc")}const lz={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function uz(e){return oz.filter(t=>cz(e,t))}function cz(e,t){const n=e.indexOf(t);return!(n<0)&&(!(n>0&&"seconds"===t&&"i"===e.charAt(n-1))&&(!(e.length>n+3&&"day"===t&&"o"===e.charAt(n+3))&&!(n>0&&"year"===t&&"f"===e.charAt(n-1))))}function dz(e,t,{end:n}={end:!1}){const r=eC(t),o=sz(e)?"utc":"";let l;const c={};for(const t of oz)cz(e,t)&&(c[t]="quarter"===(d=t)?`(${o}quarter(${r})-1)`:`${o}${d}(${r})`,l=t);var d;return n&&(c[l]+="+1"),function(e){const t=nz(e,!1).join(", ");return e.utc?`utc(${t})`:`datetime(${t})`}(c)}function fz(e){if(!e)return;const t=uz(e);return`timeUnitSpecifier(${TE(t)}, ${TE(lz)})`}function hz(e){if(!e)return;let t;return Object(le.J)(e)?t={unit:e}:Object(le.H)(e)&&(t=Object.assign(Object.assign({},e),e.unit?{unit:e.unit}:{})),sz(t.unit)&&(t.utc=!0,t.unit=t.unit.substr(3)),t}function mz(e){return e&&!!e.field&&void 0!==e.equal}function pz(e){return e&&!!e.field&&void 0!==e.lt}function gz(e){return e&&!!e.field&&void 0!==e.lte}function _z(e){return e&&!!e.field&&void 0!==e.gt}function yz(e){return e&&!!e.field&&void 0!==e.gte}function bz(e){if(e&&e.field){if(Object(le.B)(e.range)&&2===e.range.length)return!0;if(eP(e.range))return!0}return!1}function vz(e){return e&&!!e.field&&(Object(le.B)(e.oneOf)||Object(le.B)(e.in))}function xz(e){return vz(e)||mz(e)||bz(e)||pz(e)||_z(e)||gz(e)||yz(e)}function Mz(e,t){return rI(e,{timeUnit:t,wrapTime:!0})}function wz(e,t=!0){var n;const{field:r}=e,o=null===(n=hz(e.timeUnit))||void 0===n?void 0:n.unit,l=o?`time(${dz(o,r)})`:RR(e,{expr:"datum"});if(mz(e))return`${l}===${Mz(e.equal,o)}`;if(pz(e)){return`${l}<${Mz(e.lt,o)}`}if(_z(e)){return`${l}>${Mz(e.gt,o)}`}if(gz(e)){return`${l}<=${Mz(e.lte,o)}`}if(yz(e)){return`${l}>=${Mz(e.gte,o)}`}if(vz(e))return`indexof([${function(e,t){return e.map(e=>Mz(e,t))}(e.oneOf,o).join(",")}], ${l}) !== -1`;if(function(e){return e&&!!e.field&&void 0!==e.valid}(e))return kz(l,e.valid);if(bz(e)){const{range:n}=e,r=eP(n)?{signal:n.signal+"[0]"}:n[0],c=eP(n)?{signal:n.signal+"[1]"}:n[1];if(null!==r&&null!==c&&t)return"inrange("+l+", ["+Mz(r,o)+", "+Mz(c,o)+"])";const d=[];return null!==r&&d.push(`${l} >= ${Mz(r,o)}`),null!==c&&d.push(`${l} <= ${Mz(c,o)}`),d.length>0?d.join(" && "):"true"}throw new Error("Invalid field predicate: "+TE(e))}function kz(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function Lz(e){var t;return xz(e)&&e.timeUnit?Object.assign(Object.assign({},e),{timeUnit:null===(t=hz(e.timeUnit))||void 0===t?void 0:t.unit}):e}const Dz={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};const Oz=Dz.quantitative,jz=Dz.ordinal,Sz=Dz.temporal,Yz=Dz.nominal,Tz=Dz.geojson;qE(Dz);var Az=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};const Ez="linear",Cz="log",Fz="pow",Pz="sqrt",Nz="symlog",zz="time",Hz="utc",Rz="quantile",Iz="quantize",Bz="threshold",$z="point",Wz="band",Uz={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};qE(Uz);function qz(e,t){const n=Uz[e],r=Uz[t];return n===r||"ordinal-position"===n&&"time"===r||"ordinal-position"===r&&"time"===n}const Vz={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function Jz(e){return Vz[e]}const Gz=["linear","log","pow","sqrt","symlog","time","utc"],Xz=Object(le.fb)(Gz),Zz=Object(le.fb)(["linear","log","pow","sqrt","symlog"]);const Kz=Object(le.fb)(["quantile","quantize","threshold"]),Qz=Gz.concat(["quantile","quantize","threshold","sequential","identity"]),eH=Object(le.fb)(Qz),tH=Object(le.fb)(["ordinal","bin-ordinal","point","band"]);function nH(e){return e in tH}function rH(e){return e in eH}function iH(e){return e in Xz}function aH(e){return e in Kz}function oH(e){return null==e?void 0:e.param}const sH={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:lH,domain:uH,range:cH,rangeMax:dH,rangeMin:fH,scheme:hH}=(qE(sH),sH),mH=Az(sH,["type","domain","range","rangeMax","rangeMin","scheme"]),pH=qE(mH);function gH(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return iH(e)||"band"===e||"point"===e;case"padding":case"rangeMin":case"rangeMax":return iH(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return"band"===e;case"domainMax":case"domainMid":case"domainMin":case"clamp":return iH(e);case"nice":return iH(e)||"quantize"===e||"threshold"===e;case"exponent":return"pow"===e;case"base":return"log"===e;case"constant":return"symlog"===e;case"zero":return rH(e)&&!CE(["log","time","utc","threshold","quantile"],e)}}function _H(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return YC(e)?void 0:L.cannotUseScalePropertyWithNonColor(e);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}const yH={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},bH=yH.arc,vH=yH.area,xH=yH.bar,MH=yH.image,wH=yH.line,kH=yH.point,LH=yH.rect,DH=yH.rule,OH=yH.text,jH=yH.tick,SH=yH.trail,YH=yH.circle,TH=yH.square,AH=yH.geoshape;function EH(e){return["line","area","trail"].includes(e)}function CH(e){return["rect","bar","image","arc"].includes(e)}const FH=qE(yH);function PH(mark){return mark.type}Object(le.fb)(FH);const NH=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit","fill","fillOpacity"],zH=qE({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),HH=qE({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1});function RH(e){return e&&null!=e.band}const IH={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},BH={binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},$H={binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5};function WH(e){const{channel:t,channelDef:n,markDef:r,scale:o,config:l}=e,c=XH(e);return OR(n)&&!RF(n.aggregate)&&o&&iH(o.get("type"))&&!1===o.get("zero")?UH({fieldDef:n,channel:t,markDef:r,ref:c,config:l}):c}function UH({fieldDef:e,channel:t,markDef:n,ref:r,config:o}){if(EH(n.type))return r;return null===mP("invalid",n,o)?r:[qH(e,t),r]}function qH(e,t){const n=VH(e,!0),r="y"===qC(t)?{field:{group:"height"}}:{value:0};return Object.assign({test:n},r)}function VH(e,t=!0){return kz(Object(le.J)(e)?e:RR(e,{expr:"datum"}),!t)}function JH(e,t,n,r){const o={};if(t&&(o.scale=t),SR(e)){const{datum:t}=e;ZN(t)?o.signal=rz(t):eP(t)?o.signal=t.signal:GF(t)?o.signal=t.expr:o.value=t}else o.field=RR(e,n);if(r){const{offset:e,band:t}=r;e&&(o.offset=e),t&&(o.band=t)}return o}function GH({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:o,bandPosition:l=.5}){const c=0<l&&l<1?"datum":void 0,d=RR(t,{expr:c,suffix:o}),f=void 0!==n?RR(n,{expr:c}):RR(t,{suffix:"end",expr:c}),h={};if(0===l||1===l){h.scale=e;const t=0===l?d:f;h.field=t}else{const t=eP(l)?`${l.signal} * ${d} + (1-${l.signal}) * ${f}`:`${l} * ${d} + ${1-l} * ${f}`;h.signal=`scale("${e}", ${t})`}return r&&(h.offset=r),h}function XH({channel:e,channelDef:t,channel2Def:n,markDef:r,config:o,scaleName:l,scale:c,stack:d,offset:f,defaultRef:h,bandPosition:m}){var _;if(t){if(AR(t)){if(ER(t)){null!=m||(m=xR({fieldDef:t,fieldDef2:n,markDef:r,config:o}));const{bin:c,timeUnit:h,type:_}=t;if(WF(c)||m&&h&&_===Sz)return d&&d.impute?JH(t,l,{binSuffix:"mid"},{offset:f}):m?GH({scaleName:l,fieldOrDatumDef:t,bandPosition:m,offset:f}):JH(t,l,aI(t,e)?{binSuffix:"range"}:{},{offset:f});if(UF(c)){if(OR(n))return GH({scaleName:l,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:m,offset:f});{const t="x"===e?"x2":"y2";XN(L.channelRequiredForBinned(t))}}}const h=null==c?void 0:c.get("type");return JH(t,l,nH(h)?{binSuffix:"range"}:{},{offset:f,band:"band"===h?null!==(_=null!=m?m:t.bandPosition)&&void 0!==_?_:.5:void 0})}if(CR(t)){const n=t.value,r=f?{offset:f}:{};return Object.assign(Object.assign({},ZH(e,n)),r)}}return Object(le.E)(h)&&(h=h()),h?Object.assign(Object.assign({},h),f?{offset:f}:{}):h}function ZH(e,t){return CE(["x","x2"],e)&&"width"===t?{field:{group:"width"}}:CE(["y","y2"],e)&&"height"===t?{field:{group:"height"}}:cP(t)}function KH(e){return e&&"number"!==e&&"time"!==e}function QH(e,t,n){return`${e}(${t}${n?", "+TE(n):""})`}function eR({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:o,config:l}){var c,d;if(KH(n))return nR({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:l});const f=tR(e,r,o);if(nI(e)){const n=function(e,t,n,r,o){return!t||n?(n=Object(le.J)(n)?n:r,`${o?"utc":"time"}Format(${e}, '${n}')`):function(e,t,n){if(!e)return;const r=fz(e);return`${n||sz(e)?"utc":"time"}Format(${t}, ${r})`}(t,e,o)}(f,OR(e)?null===(c=hz(e.timeUnit))||void 0===c?void 0:c.unit:void 0,t,l.timeFormat,FR(e)&&(null===(d=e.scale)||void 0===d?void 0:d.type)===Hz);return n?{signal:n}:void 0}if(t=aR(jR(e),t,l),OR(e)&&WF(e.bin)){return{signal:lR(f,RR(e,{expr:r,binSuffix:"end"}),t,n,l)}}return t||"quantitative"===jR(e)?{signal:""+oR(f,t)}:{signal:`isValid(${f}) ? ${f} : ""+${f}`}}function tR(e,t,n){return OR(e)?n?`${RR(e,{expr:t,suffix:"end"})}-${RR(e,{expr:t,suffix:"start"})}`:RR(e,{expr:t}):function(e){const{datum:t}=e;return ZN(t)?rz(t):""+TE(t)}(e)}function nR({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:o,config:l,field:c}){if(null!=c||(c=tR(e,r,o)),OR(e)&&WF(e.bin)){return{signal:lR(c,RR(e,{expr:r,binSuffix:"end"}),t,n,l)}}return{signal:QH(n,c,t)}}function rR(e,t,n,r,o,l){var c;if(!KH(r)){if(nI(e)){return function(e,t,n,r){if(e)return e;if(t)return{signal:fz(t)};return r?void 0:n.timeFormat}(n,OR(e)?null===(c=hz(e.timeUnit))||void 0===c?void 0:c.unit:void 0,o,l)}return aR(t,n,o)}}function iR(e,t,n){return e&&(eP(e)||"number"===e||"time"===e)?e:nI(t)&&"time"!==n&&"utc"!==n?"time":void 0}function aR(e,t,n){return Object(le.J)(t)?t:e===Oz?n.numberFormat:void 0}function oR(e,t){return`format(${e}, "${t||""}")`}function sR(e,t,n,r){var o;return KH(n)?QH(n,e,t):oR(e,null!==(o=Object(le.J)(t)?t:void 0)&&void 0!==o?o:r.numberFormat)}function lR(e,t,n,r,o){const l=sR(e,n,r,o),c=sR(t,n,r,o);return`${kz(e,!1)} ? "null" : ${l} + "  " + ${c}`}const uR="min",cR={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function dR(e){return e in cR}function fR(e){return!!e&&!!e.encoding}function hR(e){return!(!e||"count"!==e.op&&!e.field)}function mR(e){return!!e&&Object(le.B)(e)}function pR(e){return"row"in e||"column"in e}function gR(e){return!!e&&"header"in e}function _R(e){return"facet"in e}var yR=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};function bR(e){const{field:t,timeUnit:n,bin:r,aggregate:o}=e;return Object.assign(Object.assign(Object.assign(Object.assign({},n?{timeUnit:n}:{}),r?{bin:r}:{}),o?{aggregate:o}:{}),{field:t})}function vR(e){return"sort"in e}function xR({fieldDef:e,fieldDef2:t,markDef:mark,config:n}){if(AR(e)&&void 0!==e.bandPosition)return e.bandPosition;if(OR(e)){const{timeUnit:r,bin:o}=e;if(r&&!t)return CH(mark.type)?0:pP("timeUnitBandPosition",mark,n);if(WF(o))return.5}}function MR({channel:e,fieldDef:t,fieldDef2:n,markDef:mark,config:r,scaleType:o,useVlSizeChannel:l}){var c,d,f;const h=GC(e),m=mP(l?"size":h,mark,r,{vgChannel:h});if(void 0!==m)return m;if(OR(t)){const{timeUnit:e,bin:l}=t;if(e&&!n)return{band:pP("timeUnitBandSize",mark,r)};if(WF(l)&&!nH(o))return{band:1}}return CH(mark.type)?o?nH(o)?(null===(c=r[mark.type])||void 0===c?void 0:c.discreteBandSize)||{band:1}:null===(d=r[mark.type])||void 0===d?void 0:d.continuousBandSize:null===(f=r[mark.type])||void 0===f?void 0:f.discreteBandSize:void 0}function wR(e,t,n,r){return!!(WF(e.bin)||e.timeUnit&&ER(e)&&"temporal"===e.type)&&void 0!==xR({fieldDef:e,fieldDef2:t,markDef:n,config:r})}function kR(e){return!!e&&"condition"in e}function LR(e){const t=e&&e.condition;return!!t&&!Object(le.B)(t)&&OR(t)}function DR(e){const t=e&&e.condition;return!!t&&!Object(le.B)(t)&&AR(t)}function OR(e){return!(!e||!e.field&&"count"!==e.aggregate)}function jR(e){return e&&e.type}function SR(e){return!!e&&"datum"in e}function YR(e){return ER(e)&&!IR(e)||TR(e)}function TR(e){return SR(e)&&Object(le.G)(e.datum)}function AR(e){return OR(e)||SR(e)}function ER(e){return!!e&&("field"in e||"count"===e.aggregate)&&"type"in e}function CR(e){return e&&"value"in e&&"value"in e}function FR(e){return!!e&&("scale"in e||"sort"in e)}function PR(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function NR(e){return!!e&&"legend"in e}function zR(e){return!!e&&("format"in e||"formatType"in e)}function HR(e){return YE(e,["legend","axis","header","scale"])}function RR(e,t={}){var n,r,o;let l=e.field;const c=t.prefix;let d=t.suffix,f="";if(function(e){return"count"===e.aggregate}(e))l=dC("count");else{let c;if(!t.nofn)if(function(e){return"op"in e}(e))c=e.op;else{const{bin:h,aggregate:m,timeUnit:_}=e;WF(h)?(c=$F(h),d=(null!==(n=t.binSuffix)&&void 0!==n?n:"")+(null!==(r=t.suffix)&&void 0!==r?r:"")):m?NF(m)?(f=`["${l}"]`,l="argmax_"+m.argmax):PF(m)?(f=`["${l}"]`,l="argmin_"+m.argmin):c=String(m):_&&(c=function(e){const t=hz(e),{utc:n}=t,r=iz(t,["utc"]);return r.unit?(n?"utc":"")+qE(r).map(p=>XE(`${"unit"===p?"":`_${p}_`}${r[p]}`)).join(""):(n?"utc":"")+"timeunit"+qE(r).map(p=>XE(`_${p}_${r[p]}`)).join("")}(_),d=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(null!==(o=t.suffix)&&void 0!==o?o:""))}c&&(l=l?`${c}_${l}`:c)}return d&&(l=`${l}_${d}`),c&&(l=`${c}_${l}`),t.forAs?aC(l):t.expr?tC(l,t.expr)+f:rC(l)+f}function IR(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return OR(e)&&!!e.bin;case"temporal":return!1}throw new Error(L.invalidFieldType(e.type))}const BR=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return function(e){const{aggregate:t,bin:n,timeUnit:r,field:o}=e;if(NF(t))return`${o} for argmax(${t.argmax})`;if(PF(t))return`${o} for argmin(${t.argmin})`;const l=hz(r),c=t||(null==l?void 0:l.unit)||(null==l?void 0:l.maxbins)&&"timeunit"||WF(n)&&"bin";return c?`${c.toUpperCase()}(${o})`:o}(e);default:return function(e,t){var n;const{field:r,bin:o,timeUnit:l,aggregate:c}=e;if("count"===c)return t.countTitle;if(WF(o))return r+" (binned)";if(l){const e=null===(n=hz(l))||void 0===n?void 0:n.unit;if(e)return`${r} (${uz(e).join("-")})`}else if(c)return NF(c)?`${r} for max ${c.argmax}`:PF(c)?`${r} for min ${c.argmin}`:`${QE(c)} of ${r}`;return r}(e,t)}};let $R=BR;function WR(e){$R=e}function UR(e,t,{allowDisabling:n,includeDefault:r=!0}){var o,l;const c=null===(o=qR(e))||void 0===o?void 0:o.title;if(!OR(e))return c;const d=e,f=r?VR(d,t):void 0;return n?sC(c,d.title,f):null!==(l=null!=c?c:d.title)&&void 0!==l?l:f}function qR(e){return PR(e)&&e.axis?e.axis:NR(e)&&e.legend?e.legend:gR(e)&&e.header?e.header:void 0}function VR(e,t){return $R(e,t)}function JR(e){var t;if(zR(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}{const n=null!==(t=qR(e))&&void 0!==t?t:{},{format:r,formatType:o}=n;return{format:r,formatType:o}}}function GR(e){return OR(e)?e:LR(e)?e.condition:void 0}function XR(e){return AR(e)?e:DR(e)?e.condition:void 0}function ZR(e,t,n,r={}){if(Object(le.J)(e)||Object(le.G)(e)||Object(le.C)(e)){const n=Object(le.J)(e)?"string":Object(le.G)(e)?"number":"boolean";return XN(L.primitiveChannelDef(t,n,e)),{value:e}}return AR(e)?KR(e,t,n,r):DR(e)?Object.assign(Object.assign({},e),{condition:KR(e.condition,t,n,r)}):e}function KR(e,t,n,r){if(zR(e)){const{format:o,formatType:l}=e,c=yR(e,["format","formatType"]);if(KH(l)&&!n.customFormatTypes)return XN(L.customFormatTypeNotAllowed(t)),KR(c,t,n,r)}else{const o=PR(e)?"axis":NR(e)?"legend":gR(e)?"header":null;if(o&&e[o]){const l=e[o],{format:c,formatType:d}=l,f=yR(l,["format","formatType"]);if(KH(d)&&!n.customFormatTypes)return XN(L.customFormatTypeNotAllowed(t)),KR(Object.assign(Object.assign({},e),{[o]:f}),t,n,r)}}return OR(e)?QR(e,t,r):function(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=Object(le.G)(n)?"quantitative":Object(le.J)(n)?"nominal":ZN(n)?"temporal":void 0,Object.assign(Object.assign({},e),{type:t})}(e)}function QR(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:o,bin:l,field:c}=e,d=Object.assign({},e);if(n||!r||zF(r)||NF(r)||PF(r)||(XN(L.invalidAggregate(r)),delete d.aggregate),o&&(d.timeUnit=hz(o)),c&&(d.field=""+c),WF(l)&&(d.bin=eI(l,t)),UF(l)&&!fF(t)&&XN(L.channelShouldNotBeUsedForBinned(t)),ER(d)){const{type:e}=d,t=function(e){if(e)switch(e=e.toLowerCase()){case"q":case Oz:return"quantitative";case"t":case Sz:return"temporal";case"o":case jz:return"ordinal";case"n":case Yz:return"nominal";case Tz:return"geojson"}}(e);e!==t&&(d.type=t),"quantitative"!==e&&RF(r)&&(XN(L.invalidFieldTypeForCountAggregate(e,r)),d.type="quantitative")}else if(!UC(t)){const e=function(e,t){var n;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(vR(e)&&Object(le.B)(e.sort))return"ordinal";const{aggregate:r,bin:o,timeUnit:l}=e;if(l)return"temporal";if(o||r&&!NF(r)&&!PF(r))return"quantitative";if(FR(e)&&(null===(n=e.scale)||void 0===n?void 0:n.type))switch(Uz[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}(d,t);d.type=e}if(ER(d)){const{compatible:e,warning:n}=function(e,t){const n=e.type;if("geojson"===n&&"shape"!==t)return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case gC:case _C:case"facet":return IR(e)?tI:{compatible:!1,warning:L.channelShouldBeDiscrete(t)};case"x":case"y":case xC:case MC:case wC:case"text":case"detail":case"key":case"tooltip":case"href":case"url":case"angle":case bC:case yC:case"description":return tI;case"longitude":case"longitude2":case"latitude":case"latitude2":return n!==Oz?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:tI;case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeWidth":case"size":case vC:case"radius2":case"x2":case"y2":return"nominal"!==n||e.sort?tI:{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`};case kC:case"strokeDash":return IR(e)||FR(r=e)&&aH(null===(o=r.scale)||void 0===o?void 0:o.type)?tI:{compatible:!1,warning:L.channelShouldBeDiscreteOrDiscretizing(t)};case"order":return"nominal"!==e.type||"sort"in e?tI:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}var r,o}(d,t)||{};!1===e&&XN(n)}if(vR(d)&&Object(le.J)(d.sort)){const{sort:e}=d;if(dR(e))return Object.assign(Object.assign({},d),{sort:{encoding:e}});const sub=e.substr(1);if("-"===e.charAt(0)&&dR(sub))return Object.assign(Object.assign({},d),{sort:{encoding:sub,order:"descending"}})}if(gR(d)){const{header:header}=d;if(header){const{orient:e}=header,t=yR(header,["orient"]);if(e)return Object.assign(Object.assign({},d),{header:Object.assign(Object.assign({},t),{labelOrient:header.labelOrient||e,titleOrient:header.titleOrient||e})})}}return d}function eI(e,t){return Object(le.C)(e)?{maxbins:JF(t)}:"binned"===e?{binned:!0}:e.maxbins||e.step?e:Object.assign(Object.assign({},e),{maxbins:JF(t)})}const tI={compatible:!0};function nI(e){const{formatType:t}=JR(e);return"time"===t||!t&&((n=e)&&("temporal"===n.type||OR(n)&&!!n.timeUnit));var n}function rI(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:o}){var l;const c=t&&(null===(l=hz(t))||void 0===l?void 0:l.unit);let d,f=c||"temporal"===n;return GF(e)?d=e.expr:eP(e)?d=e.signal:ZN(e)?(f=!0,d=rz(e)):(Object(le.J)(e)||Object(le.G)(e))&&f&&(d=`datetime(${TE(e)})`,function(e){return!!az[e]}(c)&&(Object(le.G)(e)&&e<1e4||Object(le.J)(e)&&isNaN(Date.parse(e)))&&(d=rz({[c]:e}))),d?r&&f?`time(${d})`:d:o?void 0:TE(e)}function iI(e,t){const{type:n}=e;return t.map(t=>{const r=rI(t,{timeUnit:OR(e)?e.timeUnit:void 0,type:n,undefinedIfExprNotRequired:!0});return void 0!==r?{signal:r}:t})}function aI(e,t){return WF(e.bin)?jF(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const oI={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function sI(e){return e&&e.condition}const lI=["domain","grid","labels","ticks","title"],uI={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},cI={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},dI=Object.assign(Object.assign({},cI),{style:1,labelExpr:1,encoding:1});function fI(e){return!!dI[e]}qE(dI);const hI=qE({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});function mI(e){return"mark"in e}class pI{constructor(e,t){this.name=e,this.run=t}hasMatchingType(e){return!!mI(e)&&(PH(t=e.mark)?t.type:t)===this.name;var t}}var gI=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};function _I(e,t){const n=e&&e[t];return!!n&&(Object(le.B)(n)?FE(n,e=>!!e.field):OR(n)||LR(n))}function yI(e){return FE(CC,t=>{if(_I(e,t)){const n=e[t];if(Object(le.B)(n))return FE(n,e=>!!e.aggregate);{const e=GR(n);return e&&!!e.aggregate}}return!1})}function bI(e,t){const n=[],r=[],o=[],l=[],c={};return MI(e,(d,f)=>{if(OR(d)){const{field:h,aggregate:m,bin:_,timeUnit:y}=d,v=gI(d,["field","aggregate","bin","timeUnit"]);if(m||y||_){const e=qR(d),x=e&&e.title;let M=RR(d,{forAs:!0});const w=Object.assign(Object.assign(Object.assign({},x?[]:{title:UR(d,t,{allowDisabling:!0})}),v),{field:M});if(m){let e;if(NF(m)?(e="argmax",M=RR({op:"argmax",field:m.argmax},{forAs:!0}),w.field=`${M}.${h}`):PF(m)?(e="argmin",M=RR({op:"argmin",field:m.argmin},{forAs:!0}),w.field=`${M}.${h}`):"boxplot"!==m&&"errorbar"!==m&&"errorband"!==m&&(e=m),e){const t={op:e,as:M};h&&(t.field=h),l.push(t)}}else if(n.push(M),ER(d)&&WF(_)){if(r.push({bin:_,field:h,as:M}),n.push(RR(d,{binSuffix:"end"})),aI(d,f)&&n.push(RR(d,{binSuffix:"range"})),fF(f)){const e={field:M+"_end"};c[f+"2"]=e}w.bin="binned",UC(f)||(w.type=Oz)}else if(y){o.push({timeUnit:y,field:h,as:M});const e=ER(d)&&d.type!==Sz&&"time";e&&("text"===f||"tooltip"===f?w.formatType=e:!function(e){return!!lF[e]}(f)?fF(f)&&(w.axis=Object.assign({formatType:e},w.axis)):w.legend=Object.assign({formatType:e},w.legend))}c[f]=w}else n.push(h),c[f]=e[f]}else c[f]=e[f]}),{bins:r,timeUnits:o,aggregate:l,groupby:n,encoding:c}}function vI(e,mark,t,n){return qE(e).reduce((r,o)=>{if(!$C(o))return XN(L.invalidEncodingChannel(o)),r;const l=e[o];if("angle"!==o||"arc"!==mark||e.theta||(XN(L.REPLACE_ANGLE_WITH_THETA),o=bC),!function(e,t,mark){const n=SF(t,mark);if(!n)return!1;if("binned"===n){const n=e["x2"===t?"x":"y"];return!!(OR(n)&&OR(e[t])&&UF(n.bin))}return!0}(e,o,mark))return XN(L.incompatibleChannel(o,mark)),r;if("size"===o&&"line"===mark){const t=GR(e[o]);if(null==t?void 0:t.aggregate)return XN(L.LINE_WITH_VARYING_SIZE),r}if(o===xC&&(t?"fill"in e:"stroke"in e))return XN(L.droppingColor("encoding",{fill:"fill"in e,stroke:"stroke"in e})),r;if("detail"===o||"order"===o&&!Object(le.B)(l)&&!CR(l)||"tooltip"===o&&Object(le.B)(l))l&&(r[o]=Object(le.i)(l).reduce((defs,e)=>(OR(e)?defs.push(QR(e,o)):XN(L.emptyFieldDef(e,o)),defs),[]));else{if("tooltip"===o&&null===l)r[o]=null;else if(!(OR(l)||SR(l)||CR(l)||kR(l)||eP(l)))return XN(L.emptyFieldDef(l,o)),r;r[o]=ZR(l,o,n)}return r},{})}function xI(e,t){const n={};for(const r of qE(e)){const o=ZR(e[r],r,t,{compositeMark:!0});n[r]=o}return n}function MI(e,t,n){if(e)for(const r of qE(e)){const o=e[r];if(Object(le.B)(o))for(const e of o)t.call(n,e,r);else t.call(n,o,r)}}function wI(mark,e){return qE(e).reduce((details,t)=>{switch(t){case"x":case"y":case"href":case"description":case"url":case"x2":case"y2":case bC:case vC:case yC:case"radius2":case"latitude":case"longitude":case"latitude2":case"longitude2":case"text":case kC:case"angle":case"tooltip":return details;case"order":if("line"===mark||"trail"===mark)return details;case"detail":case"key":{const n=e[t];if(Object(le.B)(n)||OR(n))for(const e of Object(le.i)(n))e.aggregate||details.push(RR(e,{}));return details}case"size":if("trail"===mark)return details;case xC:case MC:case wC:case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeDash":case"strokeWidth":{const n=GR(e[t]);return n&&!n.aggregate&&details.push(RR(n,{})),details}}},[])}var kI=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};function LI(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};return{tooltip:[...e.map(({fieldPrefix:e,titlePrefix:n})=>{const o=r?" of "+DI(t):"";return{field:e+t.field,type:t.type,title:eP(n)?{signal:`${n}"${escape(o)}"`}:n+o}}),...HE(function(e){const t=[];for(const n of qE(e))if(_I(e,n)){const r=e[n],o=Object(le.i)(r);for(const e of o)OR(e)?t.push(e):LR(e)&&t.push(e.condition)}return t}(n).map(HR),AE)]}}function DI(e){const{title:title,field:t}=e;return sC(title,t)}function OI(e,t,n,r,o){const{scale:l,axis:c}=n;return({partName:d,mark:mark,positionPrefix:f,endPositionPrefix:h,extraEncoding:m={}})=>{const title=DI(n);return jI(e,d,o,{mark:mark,encoding:Object.assign(Object.assign(Object.assign({[t]:Object.assign(Object.assign(Object.assign({field:`${f}_${n.field}`,type:n.type},void 0!==title?{title:title}:{}),void 0!==l?{scale:l}:{}),void 0!==c?{axis:c}:{})},Object(le.J)(h)?{[t+"2"]:{field:`${h}_${n.field}`}}:{}),r),m)})}}function jI(e,t,n,r){const{clip:o,color:l,opacity:c}=e,mark=e.type;return e[t]||void 0===e[t]&&n[t]?[Object.assign(Object.assign({},r),{mark:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n[t]),o?{clip:o}:{}),l?{color:l}:{}),c?{opacity:c}:{}),PH(r.mark)?r.mark:{type:r.mark}),{style:`${mark}-${t}`}),Object(le.C)(e[t])?{}:e[t])})]:[]}function SI(e,t,n){const{encoding:r}=e,o="vertical"===t?"y":"x",l=r[o],c=r[o+"2"],d=r[o+"Error"],f=r[o+"Error2"];return{continuousAxisChannelDef:YI(l,n),continuousAxisChannelDef2:YI(c,n),continuousAxisChannelDefError:YI(d,n),continuousAxisChannelDefError2:YI(f,n),continuousAxis:o}}function YI(e,t){if(e&&e.aggregate){const{aggregate:n}=e,r=kI(e,["aggregate"]);return n!==t&&XN(L.errorBarContinuousAxisHasCustomizedAggregate(n,t)),r}return e}function TI(e,t){const{mark:mark,encoding:n}=e,{x:r,y:o}=n;if(PH(mark)&&mark.orient)return mark.orient;if(YR(r)){if(YR(o)){const e=OR(r)&&r.aggregate,n=OR(o)&&o.aggregate;if(e||n!==t){if(n||e!==t){if(e===t&&n===t)throw new Error("Both x and y cannot have aggregate");return nI(o)&&!nI(r)?"horizontal":"vertical"}return"horizontal"}return"vertical"}return"horizontal"}if(YR(o))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}var AI=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};const EI=new pI("boxplot",FI);function CI(e){return Object(le.G)(e)?"tukey":e}function FI(e,{config:t}){var n,r;e=Object.assign(Object.assign({},e),{encoding:xI(e.encoding,t)});const{mark:mark,encoding:o,params:l,projection:c}=e,d=AI(e,["mark","encoding","params","projection"]),f=PH(mark)?mark:{type:mark};l&&XN(L.selectionNotSupported("boxplot"));const h=null!==(n=f.extent)&&void 0!==n?n:t.boxplot.extent,m=mP("size",f,t),_=CI(h),{bins:y,timeUnits:v,transform:x,continuousAxisChannelDef:M,continuousAxis:w,groupby:k,aggregate:D,encodingWithoutContinuousAxis:O,ticksOrient:j,boxOrient:S,customTooltipWithoutAggregatedField:Y}=function(e,t,n){const r=TI(e,"boxplot"),{continuousAxisChannelDef:o,continuousAxis:l}=SI(e,r,"boxplot"),c=o.field,d=CI(t),f=[...PI(c),{op:"median",field:c,as:"mid_box_"+c},{op:"min",field:c,as:("min-max"===d?"lower_whisker_":"min_")+c},{op:"max",field:c,as:("min-max"===d?"upper_whisker_":"max_")+c}],h="min-max"===d||"tukey"===d?[]:[{calculate:`datum["upper_box_${c}"] - datum["lower_box_${c}"]`,as:"iqr_"+c},{calculate:`min(datum["upper_box_${c}"] + datum["iqr_${c}"] * ${t}, datum["max_${c}"])`,as:"upper_whisker_"+c},{calculate:`max(datum["lower_box_${c}"] - datum["iqr_${c}"] * ${t}, datum["min_${c}"])`,as:"lower_whisker_"+c}],m=e.encoding,_=l,y=(m[_],AI(m,["symbol"==typeof _?_:_+""])),{customTooltipWithoutAggregatedField:v,filteredEncoding:x}=function(e){const{tooltip:t}=e,n=kI(e,["tooltip"]);if(!t)return{filteredEncoding:n};let r,o;if(Object(le.B)(t)){for(const e of t)e.aggregate?(r||(r=[]),r.push(e)):(o||(o=[]),o.push(e));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:o=t;return Object(le.B)(o)&&1===o.length&&(o=o[0]),{customTooltipWithoutAggregatedField:o,filteredEncoding:n}}(y),{bins:M,timeUnits:w,aggregate:k,groupby:L,encoding:D}=bI(x,n),O="vertical"===r?"horizontal":"vertical",j=r,S=[...M,...w,{aggregate:[...k,...f],groupby:L},...h];return{bins:M,timeUnits:w,transform:S,groupby:L,aggregate:k,continuousAxisChannelDef:o,continuousAxis:l,encodingWithoutContinuousAxis:D,ticksOrient:O,boxOrient:j,customTooltipWithoutAggregatedField:v}}(e,h,t),{color:T,size:A}=O,E=AI(O,["color","size"]),C=e=>OI(f,w,M,e,t.boxplot),F=C(E),P=C(O),N=C(Object.assign(Object.assign({},E),A?{size:A}:{})),z=LI([{fieldPrefix:"min-max"===_?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===_?"lower_whisker_":"min_",titlePrefix:"Min"}],M,O),H={type:"tick",color:"black",opacity:1,orient:j,invalid:null,aria:!1},R="min-max"===_?z:LI([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],M,O),I=[...F({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:R}),...F({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:R}),...F({partName:"ticks",mark:H,positionPrefix:"lower_whisker",extraEncoding:R}),...F({partName:"ticks",mark:H,positionPrefix:"upper_whisker",extraEncoding:R})],B=[..."tukey"!==_?I:[],...P({partName:"box",mark:Object.assign(Object.assign({type:"bar"},m?{size:m}:{}),{orient:S,invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:z}),...N({partName:"median",mark:Object.assign(Object.assign(Object.assign({type:"tick",invalid:null},Object(le.H)(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{}),m?{size:m}:{}),{orient:j,aria:!1}),positionPrefix:"mid_box",extraEncoding:z})];if("min-max"===_)return Object.assign(Object.assign({},d),{transform:(null!==(r=d.transform)&&void 0!==r?r:[]).concat(x),layer:B});const $=`datum["lower_box_${M.field}"]`,W=`datum["upper_box_${M.field}"]`,U=`(${W} - ${$})`,V=`${$} - ${h} * ${U}`,J=`${W} + ${h} * ${U}`,G=`datum["${M.field}"]`,X={joinaggregate:PI(M.field),groupby:k},Z={transform:[{filter:`(${V} <= ${G}) && (${G} <= ${J})`},{aggregate:[{op:"min",field:M.field,as:"lower_whisker_"+M.field},{op:"max",field:M.field,as:"upper_whisker_"+M.field},{op:"min",field:"lower_box_"+M.field,as:"lower_box_"+M.field},{op:"max",field:"upper_box_"+M.field,as:"upper_box_"+M.field},...D],groupby:k}],layer:I},{tooltip:K}=E,Q=AI(E,["tooltip"]),{scale:ee,axis:te}=M,title=DI(M),ne=YE(te,["title"]),re=jI(f,"outliers",t.boxplot,{transform:[{filter:`(${G} < ${V}) || (${G} > ${J})`}],mark:"point",encoding:Object.assign(Object.assign(Object.assign({[w]:Object.assign(Object.assign(Object.assign({field:M.field,type:M.type},void 0!==title?{title:title}:{}),void 0!==ee?{scale:ee}:{}),UE(ne)?{}:{axis:ne})},Q),T?{color:T}:{}),Y?{tooltip:Y}:{})})[0];let ie;const ae=[...y,...v,X];return re?ie={transform:ae,layer:[re,Z]}:(ie=Z,ie.transform.unshift(...ae)),Object.assign(Object.assign({},d),{layer:[ie,{transform:x,layer:B}]})}function PI(e){return[{op:"q1",field:e,as:"lower_box_"+e},{op:"q3",field:e,as:"upper_box_"+e}]}var NI=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};const zI=new pI("errorbar",HI);function HI(e,{config:t}){e=Object.assign(Object.assign({},e),{encoding:xI(e.encoding,t)});const{transform:n,continuousAxisChannelDef:r,continuousAxis:o,encodingWithoutContinuousAxis:l,ticksOrient:c,markDef:d,outerSpec:f,tooltipEncoding:h}=II(e,"errorbar",t);delete l.size;const m=OI(d,o,r,l,t.errorbar),_=d.thickness,y=d.size,v=Object.assign(Object.assign({type:"tick",orient:c,aria:!1},void 0!==_?{thickness:_}:{}),void 0!==y?{size:y}:{}),x=[...m({partName:"ticks",mark:v,positionPrefix:"lower",extraEncoding:h}),...m({partName:"ticks",mark:v,positionPrefix:"upper",extraEncoding:h}),...m({partName:"rule",mark:Object.assign({type:"rule",ariaRoleDescription:"errorbar"},void 0!==_?{size:_}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:h})];return Object.assign(Object.assign(Object.assign({},f),{transform:n}),x.length>1?{layer:x}:Object.assign({},x[0]))}function RI(e,t){const{encoding:n}=e;if(function(e){return(AR(e.x)||AR(e.y))&&!AR(e.x2)&&!AR(e.y2)&&!AR(e.xError)&&!AR(e.xError2)&&!AR(e.yError)&&!AR(e.yError2)}(n))return{orient:TI(e,t),inputType:"raw"};const r=function(e){return AR(e.x2)||AR(e.y2)}(n),o=function(e){return AR(e.xError)||AR(e.xError2)||AR(e.yError)||AR(e.yError2)}(n),l=n.x,c=n.y;if(r){if(o)throw new Error(t+" cannot be both type aggregated-upper-lower and aggregated-error");const e=n.x2,r=n.y2;if(AR(e)&&AR(r))throw new Error(t+" cannot have both x2 and y2");if(AR(e)){if(YR(l))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error("Both x and x2 have to be quantitative in "+t)}if(AR(r)){if(YR(c))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error("Both y and y2 have to be quantitative in "+t)}throw new Error("No ranged axis")}{const e=n.xError,r=n.xError2,o=n.yError,d=n.yError2;if(AR(r)&&!AR(e))throw new Error(t+" cannot have xError2 without xError");if(AR(d)&&!AR(o))throw new Error(t+" cannot have yError2 without yError");if(AR(e)&&AR(o))throw new Error(t+" cannot have both xError and yError with both are quantiative");if(AR(e)){if(YR(l))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if(AR(o)){if(YR(c))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function II(e,t,n){var r;const{mark:mark,encoding:o,params:l,projection:c}=e,d=NI(e,["mark","encoding","params","projection"]),f=PH(mark)?mark:{type:mark};l&&XN(L.selectionNotSupported(t));const{orient:h,inputType:m}=RI(e,t),{continuousAxisChannelDef:_,continuousAxisChannelDef2:y,continuousAxisChannelDefError:v,continuousAxisChannelDefError2:x,continuousAxis:M}=SI(e,h,t),{errorBarSpecificAggregate:w,postAggregateCalculates:k,tooltipSummary:D,tooltipTitleWithFieldName:O}=function(e,t,n,r,o,l,c,d){let f=[],h=[];const m=t.field;let _,y=!1;if("raw"===l){const t=e.center?e.center:e.extent?"iqr"===e.extent?"median":"mean":d.errorbar.center,n=e.extent?e.extent:"mean"===t?"stderr":"iqr";if("median"===t!=("iqr"===n)&&XN(L.errorBarCenterIsUsedWithWrongExtent(t,n,c)),"stderr"===n||"stdev"===n)f=[{op:n,field:m,as:"extent_"+m},{op:t,field:m,as:"center_"+m}],h=[{calculate:`datum["center_${m}"] + datum["extent_${m}"]`,as:"upper_"+m},{calculate:`datum["center_${m}"] - datum["extent_${m}"]`,as:"lower_"+m}],_=[{fieldPrefix:"center_",titlePrefix:QE(t)},{fieldPrefix:"upper_",titlePrefix:BI(t,n,"+")},{fieldPrefix:"lower_",titlePrefix:BI(t,n,"-")}],y=!0;else{let e,t,r;"ci"===n?(e="mean",t="ci0",r="ci1"):(e="median",t="q1",r="q3"),f=[{op:t,field:m,as:"lower_"+m},{op:r,field:m,as:"upper_"+m},{op:e,field:m,as:"center_"+m}],_=[{fieldPrefix:"upper_",titlePrefix:UR({field:m,aggregate:r,type:"quantitative"},d,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:UR({field:m,aggregate:t,type:"quantitative"},d,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:UR({field:m,aggregate:e,type:"quantitative"},d,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&XN(L.errorBarCenterAndExtentAreNotNeeded(e.center,e.extent)),"aggregated-upper-lower"===l?(_=[],h=[{calculate:`datum["${n.field}"]`,as:"upper_"+m},{calculate:`datum["${m}"]`,as:"lower_"+m}]):"aggregated-error"===l&&(_=[{fieldPrefix:"",titlePrefix:m}],h=[{calculate:`datum["${m}"] + datum["${r.field}"]`,as:"upper_"+m}],o?h.push({calculate:`datum["${m}"] + datum["${o.field}"]`,as:"lower_"+m}):h.push({calculate:`datum["${m}"] - datum["${r.field}"]`,as:"lower_"+m}));for(const e of h)_.push({fieldPrefix:e.as.substring(0,6),titlePrefix:iC(iC(e.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:h,errorBarSpecificAggregate:f,tooltipSummary:_,tooltipTitleWithFieldName:y}}(f,_,y,v,x,m,t,n),j=o,S=M,Y=(j[S],"x"===M?"x2":"y2"),T=(j[Y],"x"===M?"xError":"yError"),A=(j[T],"x"===M?"xError2":"yError2"),E=(j[A],NI(j,["symbol"==typeof S?S:S+"","symbol"==typeof Y?Y:Y+"","symbol"==typeof T?T:T+"","symbol"==typeof A?A:A+""])),{bins:C,timeUnits:F,aggregate:P,groupby:N,encoding:z}=bI(E,n),H=[...P,...w],R="raw"!==m?[]:N,I=LI(D,_,z,O);return{transform:[...null!==(r=d.transform)&&void 0!==r?r:[],...C,...F,...0===H.length?[]:[{aggregate:H,groupby:R}],...k],groupby:R,continuousAxisChannelDef:_,continuousAxis:M,encodingWithoutContinuousAxis:z,ticksOrient:"vertical"===h?"horizontal":"vertical",markDef:f,outerSpec:d,tooltipEncoding:I}}function BI(e,t,n){return`${QE(e)} ${n} ${t}`}const $I=new pI("errorband",WI);function WI(e,{config:t}){e=Object.assign(Object.assign({},e),{encoding:xI(e.encoding,t)});const{transform:n,continuousAxisChannelDef:r,continuousAxis:o,encodingWithoutContinuousAxis:l,markDef:c,outerSpec:d,tooltipEncoding:f}=II(e,"errorband",t),h=c,m=OI(h,o,r,l,t.errorband),_=void 0!==e.encoding.x&&void 0!==e.encoding.y;let y={type:_?"area":"rect"},v={type:_?"line":"rule"};const x=Object.assign(Object.assign({},h.interpolate?{interpolate:h.interpolate}:{}),h.tension&&h.interpolate?{tension:h.tension}:{});return _?(y=Object.assign(Object.assign(Object.assign({},y),x),{ariaRoleDescription:"errorband"}),v=Object.assign(Object.assign(Object.assign({},v),x),{aria:!1})):h.interpolate?XN(L.errorBand1DNotSupport("interpolate")):h.tension&&XN(L.errorBand1DNotSupport("tension")),Object.assign(Object.assign({},d),{transform:n,layer:[...m({partName:"band",mark:y,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:f}),...m({partName:"borders",mark:v,positionPrefix:"lower",extraEncoding:f}),...m({partName:"borders",mark:v,positionPrefix:"upper",extraEncoding:f})]})}const UI={};function qI(mark,e,t){const n=new pI(mark,e);UI[mark]={normalizer:n,parts:t}}qI("boxplot",FI,["box","median","outliers","rule","ticks"]),qI("errorbar",HI,["ticks","rule"]),qI("errorband",WI,["band","borders"]);const VI=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],JI={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},GI={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},XI=qE(JI),ZI=qE(GI),KI=qE({header:1,headerRow:1,headerColumn:1,headerFacet:1}),QI=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],eB={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},tB=(qE(eB),{point:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}});function nB(e){return!(!e||"legend"!==e&&!e.legend)}function rB(e){return nB(e)&&Object(le.H)(e)}function iB(param){return!!param.select}var aB=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};function oB(e){const t=[];for(const param of e||[]){if(iB(param))continue;const{expr:e,bind:n}=param,r=aB(param,["expr","bind"]);if(n&&e){const o=Object.assign(Object.assign({},r),{bind:n,init:e});t.push(o)}else{const o=Object.assign(Object.assign(Object.assign({},r),e?{update:e}:{}),n?{bind:n}:{});t.push(o)}}return t}function sB(e){return"concat"in e}function lB(e){return"vconcat"in e}function uB(e){return"hconcat"in e}function cB(e){return Object(le.H)(e)&&void 0!==e.step}function dB(e){return e.view||e.width||e.height}const fB=qE({align:1,bounds:1,center:1,columns:1,spacing:1});var hB=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};function mB(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e["width"===t?"continuousWidth":"continuousHeight"]}function pB(e,t){const n=gB(e,t);return cB(n)?n.step:_B}function gB(e,t){var n;return sC(null!==(n=e[t])&&void 0!==n?n:e["width"===t?"discreteWidth":"discreteHeight"],{step:e.step})}const _B=20;const yB={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:_B},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:BH,circle:{},geoshape:{},image:{},line:{},point:{},rect:$H,rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:tB,style:{},title:{},facet:{spacing:20},concat:{spacing:20}},bB=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],vB={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},xB={blue:bB[0],orange:bB[1],red:bB[2],teal:bB[3],green:bB[4],yellow:bB[5],purple:bB[6],pink:bB[7],brown:bB[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function MB(e){const t=qE(e||{}),n={};for(const r of t){const t=e[r];n[r]=sI(t)?sP(t):lP(t)}return n}const wB=[...HH,...hI,...KI,"background","padding","legend","lineBreak","scale","style","title","view"];function kB(e={}){const{color:t,font:n,fontSize:r}=e,o=hB(e,["color","font","fontSize"]),l=Object(le.P)({},yB,n?function(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}(n):{},t?function(e={}){return{signals:[{name:"color",value:Object(le.H)(e)?Object.assign(Object.assign({},xB),e):xB}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}(t):{},r?function(e){return{signals:[{name:"fontSize",value:Object(le.H)(e)?Object.assign(Object.assign({},vB),e):vB}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}(r):{},o||{}),c=YE(l,wB);for(const e of["background","lineBreak","padding"])l[e]&&(c[e]=lP(l[e]));for(const e of HH)l[e]&&(c[e]=XF(l[e]));for(const e of hI)l[e]&&(c[e]=MB(l[e]));for(const e of KI)l[e]&&(c[e]=XF(l[e]));return l.legend&&(c.legend=XF(l.legend)),l.scale&&(c.scale=XF(l.scale)),l.style&&(c.style=function(e){const t=qE(e),n={};for(const r of t)n[r]=MB(e[r]);return n}(l.style)),l.title&&(c.title=XF(l.title)),l.view&&(c.view=XF(l.view)),c}const LB=["view",...FH],DB=["color","fontSize","background","padding","facet","concat","numberFormat","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],OB=Object.assign({view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});function jB(e){e=jE(e);for(const t of DB)delete e[t];if(e.axis)for(const t in e.axis)sI(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of VI)delete e.legend[t];if(e.mark){for(const t of zH)delete e.mark[t];e.mark.tooltip&&Object(le.H)(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(oB(e.params)),delete e.params);for(const t of LB){for(const n of zH)delete e[t][n];const n=OB[t];if(n)for(const r of n)delete e[t][r];SB(e,t)}for(const t of qE(UI))delete e[t];!function(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=KF(e.title);UE(t)||(e.style["group-title"]=Object.assign(Object.assign({},e.style["group-title"]),t));UE(n)||(e.style["group-subtitle"]=Object.assign(Object.assign({},e.style["group-subtitle"]),n));UE(r)?delete e.title:e.title=r}(e);for(const t in e)Object(le.H)(e[t])&&UE(e[t])&&delete e[t];return UE(e)?void 0:e}function SB(e,t,n,r){const o=r?e[t][r]:e[t];"view"===t&&(n="cell");const style=Object.assign(Object.assign({},o),e.style[null!=n?n:t]);UE(style)||(e.style[null!=n?n:t]=style),r||delete e[t]}function YB(e){return"layer"in e}var TB=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};class AB{map(e,t){return _R(e)?this.mapFacet(e,t):function(e){return"repeat"in e}(e)?this.mapRepeat(e,t):uB(e)?this.mapHConcat(e,t):lB(e)?this.mapVConcat(e,t):sB(e)?this.mapConcat(e,t):this.mapLayerOrUnit(e,t)}mapLayerOrUnit(e,t){if(YB(e))return this.mapLayer(e,t);if(mI(e))return this.mapUnit(e,t);throw new Error(L.invalidSpec(e))}mapLayer(e,t){return Object.assign(Object.assign({},e),{layer:e.layer.map(e=>this.mapLayerOrUnit(e,t))})}mapHConcat(e,t){return Object.assign(Object.assign({},e),{hconcat:e.hconcat.map(e=>this.map(e,t))})}mapVConcat(e,t){return Object.assign(Object.assign({},e),{vconcat:e.vconcat.map(e=>this.map(e,t))})}mapConcat(e,t){const{concat:n}=e,r=TB(e,["concat"]);return Object.assign(Object.assign({},r),{concat:n.map(e=>this.map(e,t))})}mapFacet(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}mapRepeat(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}}const EB={zero:1,center:1,normalize:1};const CB=new Set([bH,xH,vH,DH,kH,YH,TH,wH,OH,jH]),FB=new Set([xH,vH,bH]);function PB(e,t){var n,r;const o="x"===t?"y":"radius",l=e[t],c=e[o];if(OR(l)&&OR(c))if("quantitative"===jR(l)&&"quantitative"===jR(c)){if(l.stack)return t;if(c.stack)return o;const e=OR(l)&&!!l.aggregate;if(e!==(OR(c)&&!!c.aggregate))return e?t:o;{const e=null===(n=l.scale)||void 0===n?void 0:n.type,d=null===(r=c.scale)||void 0===r?void 0:r.type;if(e&&"linear"!==e)return o;if(d&&"linear"!==d)return t}}else{if("quantitative"===jR(l))return t;if("quantitative"===jR(c))return o}else{if("quantitative"===jR(l))return t;if("quantitative"===jR(c))return o}}function NB(e,t,n={}){var r,o;const mark=PH(e)?e.type:e;if(!CB.has(mark))return null;const l=PB(t,"x")||PB(t,"theta");if(!l)return null;const c=t[l],d=OR(c)?RR(c,{}):void 0;let f=function(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}(l),h=t[f],m=OR(h)?RR(h,{}):void 0;m===d&&(m=void 0,h=void 0,f=void 0);const _=uF.reduce((e,n)=>{if("tooltip"!==n&&_I(t,n)){const r=t[n];for(const t of Object(le.i)(r)){const r=GR(t);if(r.aggregate)continue;const o=RR(r,{});o&&o===m||e.push({channel:n,fieldDef:r})}}return e},[]);let y;if(void 0!==c.stack?y=Object(le.C)(c.stack)?c.stack?"zero":null:c.stack:FB.has(mark)&&(y="zero"),!y||!(y in EB))return null;if(yI(t)&&0===_.length)return null;if((null===(r=null==c?void 0:c.scale)||void 0===r?void 0:r.type)&&(null===(o=null==c?void 0:c.scale)||void 0===o?void 0:o.type)!==Ez){if(n.disallowNonLinearStack)return null;XN(L.cannotStackNonLinearScale(c.scale.type))}return AR(t[JC(l)])?(void 0!==c.stack&&XN(L.cannotStackRangedMark(l)),null):(OR(c)&&c.aggregate&&!CE(IF,c.aggregate)&&XN(L.stackNonSummativeAggregate(c.aggregate)),{groupbyChannel:h?f:void 0,groupbyField:m,fieldChannel:l,impute:null!==c.impute&&EH(mark),stackBy:_,offset:y})}var zB=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};function HB(e){const{point:t,line:n}=e,mark=zB(e,["point","line"]);return qE(mark).length>1?mark:mark.type}function RB(e){for(const mark of["line","area","rule","trail"])e[mark]&&(e=Object.assign(Object.assign({},e),{[mark]:YE(e[mark],["point","line"])}));return e}function IB(e,t={},n){return"transparent"===e.point?{opacity:0}:e.point?Object(le.H)(e.point)?e.point:{}:void 0!==e.point?null:t.point||n.shape?Object(le.H)(t.point)?t.point:{}:void 0}function BB(e,t={}){return e.line?!0===e.line?{}:e.line:void 0!==e.line?null:t.line?!0===t.line?{}:t.line:void 0}class $B{constructor(){this.name="path-overlay"}hasMatchingType(e,t){if(mI(e)){const{mark:mark,encoding:n}=e,r=PH(mark)?mark:{type:mark};switch(r.type){case"line":case"rule":case"trail":return!!IB(r,t[r.type],n);case"area":return!!IB(r,t[r.type],n)||!!BB(r,t[r.type])}}return!1}run(e,t,n){const{config:r}=t,{params:o,projection:l,mark:mark,encoding:c}=e,d=zB(e,["params","projection","mark","encoding"]),f=xI(c,r),h=PH(mark)?mark:{type:mark},m=IB(h,r[h.type],f),_="area"===h.type&&BB(h,r[h.type]),y=[Object.assign(Object.assign({},o?{params:o}:{}),{mark:HB(Object.assign(Object.assign({},"area"===h.type&&void 0===h.opacity&&void 0===h.fillOpacity?{opacity:.7}:{}),h)),encoding:YE(f,["shape"])})],v=NB(h,f);let x=f;if(v){const{fieldChannel:e,offset:t}=v;x=Object.assign(Object.assign({},f),{[e]:Object.assign(Object.assign({},f[e]),t?{stack:t}:{})})}return _&&y.push(Object.assign(Object.assign({},l?{projection:l}:{}),{mark:Object.assign(Object.assign({type:"line"},SE(h,["clip","interpolate","tension","tooltip"])),_),encoding:x})),m&&y.push(Object.assign(Object.assign({},l?{projection:l}:{}),{mark:Object.assign(Object.assign({type:"point",opacity:1,filled:!0},SE(h,["clip","tooltip"])),m),encoding:x})),n(Object.assign(Object.assign({},d),{layer:y}),Object.assign(Object.assign({},t),{config:RB(r)}))}}var WB=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};function UB(e,t){return t?pR(e)?ZB(e,t):JB(e,t):e}function qB(e,t){return t?ZB(e,t):e}function VB(e,t,n){const r=t[e];return(o=r)&&!Object(le.J)(o)&&"repeat"in o?r.repeat in n?Object.assign(Object.assign({},t),{[e]:n[r.repeat]}):void XN(L.noSuchRepeatedValue(r.repeat)):t;var o}function JB(e,t){if(void 0!==(e=VB("field",e,t))){if(null===e)return null;if(vR(e)&&hR(e.sort)){const n=VB("field",e.sort,t);e=Object.assign(Object.assign({},e),n?{sort:n}:{})}return e}}function GB(e,t){if(OR(e))return JB(e,t);{const n=VB("datum",e,t);return n===e||n.type||(n.type="nominal"),n}}function XB(e,t){if(!AR(e)){if(DR(e)){const n=GB(e.condition,t);if(n)return Object.assign(Object.assign({},e),{condition:n});{const{condition:t}=e;return WB(e,["condition"])}}return e}{const n=GB(e,t);if(n)return n;if(kR(e))return{condition:e.condition}}}function ZB(e,t){const n={};for(const r in e)if(Object(le.w)(e,r)){const o=e[r];if(Object(le.B)(o))n[r]=o.map(e=>XB(e,t)).filter(e=>e);else{const e=XB(o,t);void 0!==e&&(n[r]=e)}}return n}class KB{constructor(){this.name="RuleForRangedLine"}hasMatchingType(e){if(mI(e)){const{encoding:t,mark:mark}=e;if("line"===mark||PH(mark)&&"line"===mark.type)for(const e of WC){const n=t[qC(e)];if(t[e]&&(OR(n)&&!UF(n.bin)||SR(n)))return!0}}return!1}run(e,t,n){const{encoding:r,mark:mark}=e;return XN(L.lineWithRange(!!r.x2,!!r.y2)),console.log(mark),n(Object.assign(Object.assign({},e),{mark:Object(le.H)(mark)?Object.assign(Object.assign({},mark),{type:"rule"}):"rule"}),t)}}var QB=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};function e$({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const o=new Set([...qE(e),...qE(t)]);for(const l of o){const o=t[l],c=e[l];if(AR(o)){const e=Object.assign(Object.assign({},c),o);r[l]=e}else DR(o)?r[l]=Object.assign(Object.assign({},o),{condition:Object.assign(Object.assign({},c),o.condition)}):o||null===o?r[l]=o:(n||CR(c)||eP(c)||AR(c)||Object(le.B)(c))&&(r[l]=c)}}else r=t;return!r||UE(r)?void 0:r}function t$(e){const{parentProjection:t,projection:n}=e;return t&&n&&XN(L.projectionOverridden({parentProjection:t,projection:n})),null!=n?n:t}function n$(e){return"filter"in e}function r$(e){return"lookup"in e}function i$(e){return"pivot"in e}function a$(e){return"density"in e}function o$(e){return"quantile"in e}function s$(e){return"regression"in e}function l$(e){return"loess"in e}function u$(e){return"sample"in e}function c$(e){return"window"in e}function d$(e){return"joinaggregate"in e}function f$(e){return"flatten"in e}function h$(e){return"calculate"in e}function m$(e){return"bin"in e}function p$(e){return"impute"in e}function g$(e){return"timeUnit"in e}function _$(e){return"aggregate"in e}function y$(e){return"stack"in e}function b$(e){return"fold"in e}var v$=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};function x$(e,t){const{transform:n}=e,r=v$(e,["transform"]);if(n){const e=n.map(e=>{if(n$(e))return{filter:k$(e,t)};if(m$(e)&&qF(e.bin))return Object.assign(Object.assign({},e),{bin:w$(e.bin)});if(r$(e)){const t=e.from,{selection:param}=t,n=v$(t,["selection"]);return param?Object.assign(Object.assign({},e),{from:Object.assign({param:param},n)}):e}return e});return Object.assign(Object.assign({},r),{transform:e})}return e}function M$(e,t){var n,r;const o=jE(e);if(OR(o)&&qF(o.bin)&&(o.bin=w$(o.bin)),FR(o)&&(null===(r=null===(n=o.scale)||void 0===n?void 0:n.domain)||void 0===r?void 0:r.selection)){const e=o.scale.domain,{selection:param}=e,t=v$(e,["selection"]);o.scale.domain=Object.assign(Object.assign({},t),param?{param:param}:{})}if(kR(o))if(Object(le.B)(o.condition))o.condition=o.condition.map(e=>{const{selection:n,param:param,test:r}=e,o=v$(e,["selection","param","test"]);return param?e:Object.assign(Object.assign({},o),{test:k$(e,t)})});else{const e=M$(o.condition,t),{selection:n,param:param,test:r}=e,l=v$(e,["selection","param","test"]);o.condition=param?o.condition:Object.assign(Object.assign({},l),{test:k$(o.condition,t)})}return o}function w$(e){const t=e.extent;if(null==t?void 0:t.selection){const{selection:param}=t,n=v$(t,["selection"]);return Object.assign(Object.assign({},e),{extent:Object.assign(Object.assign({},n),{param:param})})}return e}function k$(e,t){const n=e=>DE(e,param=>{var e,n,r;const o={param:param,empty:null===(e=t.emptySelections[param])||void 0===e||e};return null!==(n=(r=t.selectionPredicates)[param])&&void 0!==n||(r[param]=[]),t.selectionPredicates[param].push(o),o});return e.selection?n(e.selection):DE(e.test||e.filter,e=>e.selection?n(e.selection):e)}class L$ extends AB{map(e,t){var n;const r=null!==(n=t.selections)&&void 0!==n?n:[];if(e.params&&!mI(e)){const t=[];for(const param of e.params)iB(param)?r.push(param):t.push(param);e.params=t}return t.selections=r,super.map(e,D$(e,t))}mapUnit(e,t){var n;const r=t.selections;if(!r||!r.length)return e;const path=(null!==(n=t.path)&&void 0!==n?n:[]).concat(e.name),o=[];for(const t of r)if(t.views&&t.views.length)for(const view of t.views)(Object(le.J)(view)&&(view===e.name||path.indexOf(view)>=0)||Object(le.B)(view)&&view.map(e=>path.indexOf(e)).every((e,i,t)=>-1!==e&&(0===i||e>t[i-1])))&&o.push(t);else o.push(t);return o.length&&(e.params=o),e}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=L$.prototype[e];L$.prototype[e]=function(e,n){return t.call(this,e,D$(e,n))}}function D$(e,t){var n;return e.name?Object.assign(Object.assign({},t),{path:(null!==(n=t.path)&&void 0!==n?n:[]).concat(e.name)}):t}function O$(e,t){void 0===t&&(t=kB(e.config));const n=function(e,t={}){const n={config:t};return Y$.map(j$.map(S$.map(e,n),n),n)}(e,t),{width:r,height:o}=e,l=function(e,t,n){let{width:r,height:o}=t;const l=mI(e)||YB(e),c={};l?"container"==r&&"container"==o?(c.type="fit",c.contains="padding"):"container"==r?(c.type="fit-x",c.contains="padding"):"container"==o&&(c.type="fit-y",c.contains="padding"):("container"==r&&(XN(L.containerSizeNonSingle("width")),r=void 0),"container"==o&&(XN(L.containerSizeNonSingle("height")),o=void 0));const d=Object.assign(Object.assign(Object.assign({type:"pad"},c),n?T$(n.autosize):{}),T$(e.autosize));"fit"!==d.type||l||(XN(L.FIT_NON_SINGLE),d.type="pad");"container"==r&&"fit"!=d.type&&"fit-x"!=d.type&&XN(L.containerSizeNotCompatibleWithAutosize("width"));"container"==o&&"fit"!=d.type&&"fit-y"!=d.type&&XN(L.containerSizeNotCompatibleWithAutosize("height"));if(OE(d,{type:"pad"}))return;return d}(n,{width:r,height:o,autosize:e.autosize},t);return Object.assign(Object.assign({},n),l?{autosize:l}:{})}const j$=new class extends AB{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[EI,zI,$I,new $B,new KB]}map(e,t){if(mI(e)){const n=_I(e.encoding,gC),r=_I(e.encoding,_C),o=_I(e.encoding,"facet");if(n||r||o)return this.mapFacetedUnit(e,t)}return super.map(e,t)}mapUnit(e,t){const{parentEncoding:n,parentProjection:r}=t,o=qB(e.encoding,t.repeater),l=Object.assign(Object.assign({},e),o?{encoding:o}:{});if(n||r)return this.mapUnitWithParentEncodingOrProjection(l,t);const c=this.mapLayerOrUnit.bind(this);for(const e of this.nonFacetUnitNormalizers)if(e.hasMatchingType(l,t.config))return e.run(l,t,c);return l}mapRepeat(e,t){return function(e){return!Object(le.B)(e.repeat)&&e.repeat.layer}(e)?this.mapLayerRepeat(e,t):this.mapNonLayerRepeat(e,t)}mapLayerRepeat(e,t){const{repeat:n,spec:r}=e,o=QB(e,["repeat","spec"]),{row:l,column:c,layer:d}=n,{repeater:f={},repeaterPrefix:h=""}=t;return l||c?this.mapRepeat(Object.assign(Object.assign({},e),{repeat:Object.assign(Object.assign({},l?{row:l}:{}),c?{column:c}:{}),spec:{repeat:{layer:d},spec:r}}),t):Object.assign(Object.assign({},o),{layer:d.map(e=>{const n=Object.assign(Object.assign({},f),{layer:e}),o=`${(r.name||"")+h}child__layer_${XE(e)}`,l=this.mapLayerOrUnit(r,Object.assign(Object.assign({},t),{repeater:n,repeaterPrefix:o}));return l.name=o,l})})}mapNonLayerRepeat(e,t){var n;const{repeat:r,spec:o,data:data}=e,l=QB(e,["repeat","spec","data"]);!Object(le.B)(r)&&e.columns&&(e=YE(e,["columns"]),XN(L.columnsNotSupportByRowCol("repeat")));const c=[],{repeater:d={},repeaterPrefix:f=""}=t,h=!Object(le.B)(r)&&r.row||[d?d.row:null],m=!Object(le.B)(r)&&r.column||[d?d.column:null],_=Object(le.B)(r)&&r||[d?d.repeat:null];for(const e of _)for(const n of h)for(const l of m){const h={repeat:e,row:n,column:l,layer:d.layer},m=(o.name||"")+f+"child__"+(Object(le.B)(r)?""+XE(e):(r.row?"row_"+XE(n):"")+(r.column?"column_"+XE(l):"")),_=this.map(o,Object.assign(Object.assign({},t),{repeater:h,repeaterPrefix:m}));_.name=m,c.push(YE(_,["data"]))}const y=Object(le.B)(r)?e.columns:r.column?r.column.length:1;return Object.assign(Object.assign({data:null!==(n=o.data)&&void 0!==n?n:data,align:"all"},l),{columns:y,concat:c})}mapFacet(e,t){const{facet:n}=e;return pR(n)&&e.columns&&(e=YE(e,["columns"]),XN(L.columnsNotSupportByRowCol("facet"))),super.mapFacet(e,t)}mapUnitWithParentEncodingOrProjection(e,t){const{encoding:n,projection:r}=e,{parentEncoding:o,parentProjection:l,config:c}=t,d=t$({parentProjection:l,projection:r}),f=e$({parentEncoding:o,encoding:qB(n,t.repeater)});return this.mapUnit(Object.assign(Object.assign(Object.assign({},e),d?{projection:d}:{}),f?{encoding:f}:{}),{config:c})}mapFacetedUnit(e,t){const n=e.encoding,{row:r,column:o,facet:l}=n,c=QB(n,["row","column","facet"]),{mark:mark,width:d,projection:f,height:h,view:view,params:m,encoding:_}=e,y=QB(e,["mark","width","projection","height","view","params","encoding"]),{facetMapping:v,layout:x}=this.getFacetMappingAndLayout({row:r,column:o,facet:l},t),M=qB(c,t.repeater);return this.mapFacet(Object.assign(Object.assign(Object.assign({},y),x),{facet:v,spec:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},d?{width:d}:{}),h?{height:h}:{}),view?{view:view}:{}),f?{projection:f}:{}),{mark:mark,encoding:M}),m?{params:m}:{})}),t)}getFacetMappingAndLayout(e,t){var n;const{row:r,column:o,facet:l}=e;if(r||o){l&&XN(L.facetChannelDropped([...r?[gC]:[],...o?[_C]:[]]));const t={},c={};for(const r of[gC,_C]){const o=e[r];if(o){const{align:e,center:l,spacing:d,columns:f}=o,h=QB(o,["align","center","spacing","columns"]);t[r]=h;for(const e of["align","center","spacing"])void 0!==o[e]&&(null!==(n=c[e])&&void 0!==n||(c[e]={}),c[e][r]=o[e])}}return{facetMapping:t,layout:c}}{const{align:e,center:n,spacing:r,columns:o}=l;return{facetMapping:UB(QB(l,["align","center","spacing","columns"]),t.repeater),layout:Object.assign(Object.assign(Object.assign(Object.assign({},e?{align:e}:{}),n?{center:n}:{}),r?{spacing:r}:{}),o?{columns:o}:{})}}}mapLayer(e,t){var{parentEncoding:n,parentProjection:r}=t,o=QB(t,["parentEncoding","parentProjection"]);const{encoding:l,projection:c}=e,d=QB(e,["encoding","projection"]),f=Object.assign(Object.assign({},o),{parentEncoding:e$({parentEncoding:n,encoding:l,layer:!0}),parentProjection:t$({parentProjection:r,projection:c})});return super.mapLayer(d,f)}},S$=new class extends AB{map(e,t){var n,r;return null!==(n=t.emptySelections)&&void 0!==n||(t.emptySelections={}),null!==(r=t.selectionPredicates)&&void 0!==r||(t.selectionPredicates={}),e=x$(e,t),super.map(e,t)}mapLayerOrUnit(e,t){if((e=x$(e,t)).encoding){const n={};for(const[r,o]of JE(e.encoding))n[r]=M$(o,t);e=Object.assign(Object.assign({},e),{encoding:n})}return super.mapLayerOrUnit(e,t)}mapUnit(e,t){const n=e,{selection:r}=n,o=v$(n,["selection"]);return r?Object.assign(Object.assign({},o),{params:JE(r).map(([e,n])=>{var r;const o=n,{init:l,bind:c,empty:d}=o,select=v$(o,["init","bind","empty"]);"single"===select.type?(select.type="point",select.toggle=!1):"multi"===select.type&&(select.type="point"),t.emptySelections[e]="none"!==d;for(const n of VE(null!==(r=t.selectionPredicates[e])&&void 0!==r?r:{}))n.empty="none"!==d;return{name:e,value:l,select:select,bind:c}})}):e}},Y$=new L$;function T$(e){return Object(le.J)(e)?{type:e}:null!=e?e:{}}const A$=["background","padding"];function E$(e,t){const n={};for(const p of A$)e&&void 0!==e[p]&&(n[p]=lP(e[p]));return t&&(n.params=e.params),n}class C${constructor(e={},t={}){this.explicit=e,this.implicit=t}clone(){return new C$(jE(this.explicit),jE(this.implicit))}combine(){return Object.assign(Object.assign({},this.explicit),this.implicit)}get(e){return sC(this.explicit[e],this.implicit[e])}getWithExplicit(e){return void 0!==this.explicit[e]?{explicit:!0,value:this.explicit[e]}:void 0!==this.implicit[e]?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}}setWithExplicit(e,{value:t,explicit:n}){void 0!==t&&this.set(e,t,n)}set(e,t,n){return delete this[n?"implicit":"explicit"][e],this[n?"explicit":"implicit"][e]=t,this}copyKeyFromSplit(e,{explicit:t,implicit:n}){void 0!==t[e]?this.set(e,t[e],!0):void 0!==n[e]&&this.set(e,n[e],!1)}copyKeyFromObject(e,s){void 0!==s[e]&&this.set(e,s[e],!0)}copyAll(e){for(const t of qE(e.combine())){const n=e.getWithExplicit(t);this.setWithExplicit(t,n)}}}function F$(e){return{explicit:!0,value:e}}function P$(e){return{explicit:!1,value:e}}function N$(e){return(t,n,r,o)=>{const l=e(t.value,n.value);return l>0?t:l<0?n:z$(t,n,r,o)}}function z$(e,t,n,r){return e.explicit&&t.explicit&&XN(L.mergeConflictingProperty(n,r,e.value,t.value)),e}function H$(e,t,n,r,o=z$){return void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:OE(e.value,t.value)?e:o(e,t,n,r)}class R$ extends C${constructor(e={},t={},n=!1){super(e,t),this.explicit=e,this.implicit=t,this.parseNothing=n}clone(){const e=super.clone();return e.parseNothing=this.parseNothing,e}}function I$(data){return"url"in data}function B$(data){return"values"in data}function $$(data){return"name"in data&&!I$(data)&&!B$(data)&&!W$(data)}function W$(data){return data&&(U$(data)||q$(data)||V$(data))}function U$(data){return"sequence"in data}function q$(data){return"sphere"in data}function V$(data){return"graticule"in data}var J$;!function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup"}(J$||(J$={}));var G$=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};function X$(e,t=!0,n=le.y){if(Object(le.B)(e)){const r=e.map(e=>X$(e,t,n));return t?`[${r.join(", ")}]`:r}return ZN(e)?n(t?rz(e):function(e){const t=nz(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}(e)):t?n(TE(e)):e}function Z$(e,t){var n;for(const r of VE(null!==(n=e.component.selection)&&void 0!==n?n:{})){const n=r.name;let o=`${n}${KW}, `+("global"===r.resolve?"true":`{unit: ${nU(e)}}`);for(const n of tU)n.defined(r)&&(n.signals&&(t=n.signals(e,r,t)),n.modifyExpr&&(o=n.modifyExpr(e,r,o)));t.push({name:n+QW,on:[{events:{signal:r.name+KW},update:`modify(${Object(le.bb)(r.name+ZW)}, ${o})`}]})}return Q$(t)}function K$(e,t){var n;for(const r of VE(null!==(n=e.component.selection)&&void 0!==n?n:{}))for(const n of tU)n.defined(r)&&n.marks&&(t=n.marks(e,r,t));return t}function Q$(e){return e.map(s=>(s.on&&!s.on.length&&delete s.on,s))}class eW{constructor(e,t){this.debugName=t,this._children=[],this._parent=null,e&&(this.parent=e)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(e){this._parent=e,e&&e.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(e,t){this._children.includes(e)?XN(L.ADD_SAME_CHILD_TWICE):void 0!==t?this._children.splice(t,0,e):this._children.push(e)}removeChild(e){const t=this._children.indexOf(e);return this._children.splice(t,1),t}remove(){let e=this._parent.removeChild(this);for(const t of this._children)t._parent=this._parent,this._parent.addChild(t,e++)}insertAsParentOf(e){const t=e.parent;t.removeChild(this),this.parent=t,e.parent=this}swapWithParent(){const e=this._parent,t=e.parent;for(const t of this._children)t.parent=e;this._children=[],e.removeChild(this),e.parent.removeChild(e),this.parent=t,e.parent=this}}class tW extends eW{constructor(e,source,t,n){super(e,source),this.type=t,this.refCounts=n,this._source=this._name=source,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}clone(){const e=new this.constructor;return e.debugName="clone_"+this.debugName,e._source=this._source,e._name="clone_"+this._name,e.type=this.type,e.refCounts=this.refCounts,e.refCounts[e._name]=0,e}dependentFields(){return new Set}producedFields(){return new Set}hash(){return void 0===this._hash&&(this._hash="Output "+uC()),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(source){this._source=source}}var nW=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};class rW extends eW{constructor(e,t){super(e),this.formula=t}clone(){return new rW(null,jE(this.formula))}static makeFromEncoding(e,t){const n=t.reduceFieldDef((e,t)=>{const{field:n,timeUnit:r}=t;if(r){const o=RR(t,{forAs:!0});e[AE({as:o,field:n,timeUnit:r})]={as:o,field:n,timeUnit:r}}return e},{});return UE(n)?null:new rW(e,n)}static makeFromTransform(e,t){const n=Object.assign({},t),{timeUnit:r}=n,o=nW(n,["timeUnit"]),l=hz(r),component=Object.assign(Object.assign({},o),{timeUnit:l});return new rW(e,{[AE(component)]:component})}merge(e){this.formula=Object.assign({},this.formula);for(const t in e.formula)this.formula[t]||(this.formula[t]=e.formula[t]);for(const t of e.children)e.removeChild(t),t.parent=this;e.remove()}removeFormulas(e){const t={};for(const[n,r]of JE(this.formula))e.has(r.as)||(t[n]=r);this.formula=t}producedFields(){return new Set(VE(this.formula).map(e=>e.as))}dependentFields(){return new Set(VE(this.formula).map(e=>e.field))}hash(){return"TimeUnit "+AE(this.formula)}assemble(){const e=[];for(const t of VE(this.formula)){const{field:n,as:r,timeUnit:o}=t,l=hz(o),{unit:c,utc:d}=l,f=nW(l,["unit","utc"]);e.push(Object.assign(Object.assign(Object.assign(Object.assign({field:rC(n),type:"timeunit"},c?{units:uz(c)}:{}),d?{timezone:"utc"}:{}),f),{as:[r,r+"_end"]}))}return e}}var iW=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};class aW{constructor(...e){this.items=e,this.hasChannel={},this.hasField={}}}var oW={defined:()=>!0,parse:(e,t,n)=>{var r;const o=t.name,l=null!==(r=t.project)&&void 0!==r?r:t.project=new aW,c={},d={},f=new Set,h=(p,e)=>{const t="visual"===e?p.channel:p.field;let n=XE(`${o}_${t}`);for(let e=1;f.has(n);e++)n=XE(`${o}_${t}_${e}`);return f.add(n),{[e]:n}},m=t.type,_=e.config.selection[m],y=void 0!==n.value?Object(le.i)(n.value):null;let{fields:v,encodings:x}=Object(le.H)(n.select)?n.select:{};if(!v&&!x&&y)for(const e of y)if(Object(le.H)(e))for(const t of qE(e))BC[t]?(x||(x=[])).push(t):"interval"===m?(XN(L.INTERVAL_INITIALIZED_WITH_X_Y),x=_.encodings):(v||(v=[])).push(t);v||x||(x=_.encodings,v=_.fields);for(const t of null!=x?x:[]){const n=e.fieldDef(t);if(n){let r=n.field;if(n.aggregate){XN(L.cannotProjectAggregate(t,n.aggregate));continue}if(!r){XN(L.cannotProjectOnChannelWithoutField(t));continue}if(n.timeUnit){r=e.vgField(t);const component={timeUnit:n.timeUnit,as:r,field:n.field};d[AE(component)]=component}if(!c[r]){let o="E";if("interval"===m){rH(e.getScaleComponent(t).get("type"))&&(o="R")}else n.bin&&(o="R-RE");const p={field:r,channel:t,type:o};p.signals=Object.assign(Object.assign({},h(p,"data")),h(p,"visual")),l.items.push(c[r]=p),l.hasField[r]=l.hasChannel[t]=c[r]}}else XN(L.cannotProjectOnChannelWithoutField(t))}for(const e of null!=v?v:[]){if(l.hasField[e])continue;const p={type:"E",field:e};p.signals=Object.assign({},h(p,"data")),l.items.push(p),l.hasField[e]=p}y&&(t.init=y.map(e=>l.items.map(p=>Object(le.H)(e)?void 0!==e[p.channel]?e[p.channel]:e[p.field]:e))),UE(d)||(l.timeUnit=new rW(null,d))},signals:(e,t,n)=>{const r=t.name+"_tuple_fields";return n.filter(s=>s.name===r).length>0?n:n.concat({name:r,value:t.project.items.map(e=>{const{signals:t,hasLegend:n}=e,r=iW(e,["signals","hasLegend"]);return r.field=rC(r.field),r})})}};var sW={defined:e=>"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind,parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const o=r.channel;if(!jF(o))continue;const l=e.getScaleComponent(o),c=l?l.get("type"):void 0;l&&rH(c)?(l.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)):XN(L.SCALE_BINDINGS_CONTINUOUS)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(e=>0===n.filter(s=>s.name===e.signals.data).length);if(!e.parent||uW(e)||0===r.length)return n;const o=n.filter(s=>s.name===t.name)[0];let l=o.update;if(l.indexOf(eU)>=0)o.update=`{${r.map(e=>`${Object(le.bb)(rC(e.field))}: ${e.signals.data}`).join(", ")}}`;else{for(const e of r){const t=`${Object(le.bb)(rC(e.field))}: ${e.signals.data}`;l.includes(t)||(l=`${l.substring(0,l.length-1)}, ${t}}`)}o.update=l}return n.concat(r.map(e=>({name:e.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!uW(e))for(const e of t.scales){const t=n.filter(s=>s.name===e.signals.data)[0];t.push="outer",delete t.value,delete t.update}return n}};function lW(e,t){return`domain(${Object(le.bb)(e.scaleName(t))})`}function uW(e){var t;return e.parent&&RV(e.parent)&&(null!==(t=!e.parent.parent)&&void 0!==t?t:uW(e.parent.parent))}var cW=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};var dW={defined:e=>"interval"===e.type,signals:(e,t,n)=>{const r=t.name,o=r+"_tuple_fields",l=sW.defined(t),c=t.init?t.init[0]:null,d=[],f=[];if(t.translate&&!l){const e="!event.item || event.item.mark.name !== "+Object(le.bb)(r+"_brush");fW(t,(t,n)=>{var r,o;const l=Object(le.i)(null!==(r=(o=n.between[0]).filter)&&void 0!==r?r:o.filter=[]);return l.includes(e)||l.push(e),t})}t.project.items.forEach((r,i)=>{const o=r.channel;if("x"!==o&&"y"!==o)return void XN("Interval selections only support x and y encoding channels.");const l=c?c[i]:null,h=function(e,t,n,r){const o=n.channel,l=n.signals.visual,c=n.signals.data,d=sW.defined(t),f=Object(le.bb)(e.scaleName(o)),h=e.getScaleComponent(o),m=h?h.get("type"):void 0,_=e=>`scale(${f}, ${e})`,y=e.getSizeSignalRef("x"===o?"width":"height").signal,v=o+"(unit)",x=fW(t,(e,t)=>[...e,{events:t.between[0],update:`[${v}, ${v}]`},{events:t,update:`[${l}[0], clamp(${v}, 0, ${y})]`}]);return x.push({events:{signal:t.name+"_scale_trigger"},update:rH(m)?`[${_(c+"[0]")}, ${_(c+"[1]")}]`:"[0, 0]"}),d?[{name:c,on:[]}]:[Object.assign(Object.assign({name:l},r?{init:X$(r,!0,_)}:{value:[]}),{on:x}),Object.assign(Object.assign({name:c},r?{init:X$(r)}:{}),{on:[{events:{signal:l},update:`${l}[0] === ${l}[1] ? null : invert(${f}, ${l})`}]})]}(e,t,r,l),m=r.signals.data,_=r.signals.visual,y=Object(le.bb)(e.scaleName(o)),v=rH(e.getScaleComponent(o).get("type"))?"+":"";n.push(...h),d.push(m),f.push({scaleName:e.scaleName(o),expr:`(!isArray(${m}) || (${v}invert(${y}, ${_})[0] === ${v}${m}[0] && ${v}invert(${y}, ${_})[1] === ${v}${m}[1]))`})}),l||n.push({name:r+"_scale_trigger",value:{},on:[{events:f.map(e=>({scale:e.scaleName})),update:`${f.map(e=>e.expr).join(" && ")} ? ${r+"_scale_trigger"} : {}`}]});const h=`unit: ${nU(e)}, fields: ${o}, values`;return n.concat(Object.assign(Object.assign({name:r+KW},c?{init:`{${h}: ${X$(c)}}`}:{}),{on:[{events:[{signal:d.join(" || ")}],update:`${d.join(" && ")} ? {${h}: [${d}]} : null`}]}))},marks:(e,t,n)=>{const r=t.name,{x:o,y:l}=t.project.hasChannel,c=o&&o.signals.visual,d=l&&l.signals.visual,f=`data(${Object(le.bb)(t.name+ZW)})`;if(sW.defined(t))return n;const h={x:void 0!==o?{signal:c+"[0]"}:{value:0},y:void 0!==l?{signal:d+"[0]"}:{value:0},x2:void 0!==o?{signal:c+"[1]"}:{field:{group:"width"}},y2:void 0!==l?{signal:d+"[1]"}:{field:{group:"height"}}};if("global"===t.resolve)for(const t of qE(h))h[t]=[Object.assign({test:`${f}.length && ${f}[0].unit === ${nU(e)}`},h[t]),{value:0}];const m=t.mark,{fill:_,fillOpacity:y,cursor:cursor}=m,v=cW(m,["fill","fillOpacity","cursor"]),x=qE(v).reduce((e,t)=>(e[t]=[{test:[void 0!==o&&`${c}[0] !== ${c}[1]`,void 0!==l&&`${d}[0] !== ${d}[1]`].filter(e=>e).join(" && "),value:v[t]},{value:null}],e),{});return[{name:r+"_brush"+"_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:_},fillOpacity:{value:y}},update:h}},...n,{name:r+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign(Object.assign({},cursor?{cursor:{value:cursor}}:{}),{fill:{value:"transparent"}}),update:Object.assign(Object.assign({},h),x)}}]}};function fW(e,t){return e.events.reduce((e,n)=>n.between?t(e,n):(XN(n+" is not an ordered event stream for interval selections."),e),[])}var hW={defined:e=>"point"===e.type,signals:(e,t,n)=>{const r=t.name,o=r+"_tuple_fields",l=t.project,c="(item().isVoronoi ? datum.datum : datum)",d=l.items.map(p=>{const t=e.fieldDef(p.channel);return t&&t.bin?`[${c}[${Object(le.bb)(e.vgField(p.channel,{}))}], ${c}[${Object(le.bb)(e.vgField(p.channel,{binSuffix:"end"}))}]]`:`${c}[${Object(le.bb)(p.field)}]`}).join(", "),f=`unit: ${nU(e)}, fields: ${o}, values`,h=t.events;return n.concat([{name:r+KW,on:h?[{events:h,update:`datum && item().mark.marktype !== 'group' ? {${f}: [${d}]} : null`,force:!0}]:[]}])}};function mW(e,t,n,r){const o=kR(t)&&t.condition,l=r(t);if(o){return{[n]:[...Object(le.i)(o).map(t=>{const n=r(t);if(function(e){return e.param}(t)){const{param:param,empty:r}=t,o=lU(e,{param:param,empty:r});return Object.assign({test:o},n)}{const r=cU(e,t.test);return Object.assign({test:r},n)}}),...void 0!==l?[l]:[]]}}return void 0!==l?{[n]:l}:{}}function pW(e,t="text"){const n=e.encoding[t];return mW(e,n,t,t=>gW(t,e.config))}function gW(e,t,n="datum"){if(e){if(CR(e))return cP(e.value);if(AR(e)){const{format:r,formatType:o}=JR(e);return eR({fieldOrDatumDef:e,format:r,formatType:o,expr:n,config:t})}}}function _W(e,t={}){const{encoding:n,markDef:r,config:o,stack:l}=e,c=n.tooltip;if(Object(le.B)(c))return{tooltip:bW({tooltip:c},l,o,t)};{const d=t.reactiveGeom?"datum.datum":"datum";return mW(e,c,"tooltip",e=>{const c=gW(e,o,d);if(c)return c;if(null===e)return;let f=mP("tooltip",r,o);return!0===f&&(f={content:"encoding"}),Object(le.J)(f)?{value:f}:Object(le.H)(f)?eP(f)?f:"encoding"===f.content?bW(n,l,o,t):{signal:d}:void 0})}}function yW(e,t,n,{reactiveGeom:r}={}){const o={},l=r?"datum.datum":"datum",c=[];function d(r,d){const f=qC(d),h=ER(r)?r:Object.assign(Object.assign({},r),{type:e[f].type}),title=h.title||VR(h,n),m=Object(le.i)(title).join(", ");let _;if(fF(d)){const r="x"===d?"x2":"y2",c=GR(e[r]);if(UF(h.bin)&&c){const e=RR(h,{expr:l}),t=RR(c,{expr:l}),{format:d,formatType:f}=JR(h);_=lR(e,t,d,f,n),o[r]=!0}else if(t&&t.fieldChannel===d&&"normalize"===t.offset){const{format:e,formatType:t}=JR(h);_=eR({fieldOrDatumDef:h,format:e,formatType:t,expr:l,config:n,normalizeStack:!0}).signal}}null!=_||(_=gW(h,n,l).signal),c.push({channel:d,key:m,value:_})}MI(e,(e,t)=>{OR(e)?d(e,t):LR(e)&&d(e.condition,t)});const f={};for(const{channel:e,key:t,value:n}of c)o[e]||f[t]||(f[t]=n);return f}function bW(e,t,n,{reactiveGeom:r}={}){const data=yW(e,t,n,{reactiveGeom:r}),o=JE(data).map(([e,t])=>`"${e}": ${t}`);return o.length>0?{signal:`{${o.join(", ")}}`}:void 0}function vW(e){const{markDef:t,config:n}=e,r=mP("aria",t,n);return!1===r?{}:Object.assign(Object.assign(Object.assign({},r?{aria:r}:{}),function(e){const{mark:mark,markDef:t,config:n}=e;if(!1===n.aria)return{};const r=mP("ariaRoleDescription",t,n);if(null!=r)return{ariaRoleDescription:{value:r}};return mark in iP?{}:{ariaRoleDescription:{value:mark}}}(e)),function(e){const{encoding:t,markDef:n,config:r,stack:o}=e,l=t.description;if(l)return mW(e,l,"description",t=>gW(t,e.config));const c=mP("description",n,r);if(null!=c)return{description:cP(c)};if(!1===r.aria)return{};const data=yW(t,o,r);if(UE(data))return;return{description:{signal:JE(data).map(([e,t],n)=>`"${n>0?"; ":""}${e}: " + (${t})`).join(" + ")}}}(e))}function xW(e,t,n={}){const{markDef:r,encoding:o,config:l}=t,{vgChannel:c}=n;let{defaultRef:d,defaultValue:f}=n;void 0===d&&(null!=f||(f=mP(e,r,l,{vgChannel:c,ignoreVgConfig:!0})),void 0!==f&&(d=cP(f)));const h=o[e];return mW(t,h,null!=c?c:e,n=>XH({channel:e,channelDef:n,markDef:r,config:l,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:d}))}function MW(e,t={filled:void 0}){var n,r,o,l;const{markDef:c,encoding:d,config:f}=e,{type:h}=c,m=null!==(n=t.filled)&&void 0!==n?n:mP("filled",c,f),_=CE(["bar","point","circle","square","geoshape"],h)?"transparent":void 0,y=null!==(o=null!==(r=mP(!0===m?"color":void 0,c,f,{vgChannel:"fill"}))&&void 0!==r?r:f.mark[!0===m&&"color"])&&void 0!==o?o:_,v=null!==(l=mP(!1===m?"color":void 0,c,f,{vgChannel:"stroke"}))&&void 0!==l?l:f.mark[!1===m&&"color"],x=m?"fill":"stroke",M=Object.assign(Object.assign({},y?{fill:cP(y)}:{}),v?{stroke:cP(v)}:{});return c.color&&(m?c.fill:c.stroke)&&XN(L.droppingColor("property",{fill:"fill"in c,stroke:"stroke"in c})),Object.assign(Object.assign(Object.assign(Object.assign({},M),xW("color",e,{vgChannel:x,defaultValue:m?y:v})),xW("fill",e,{defaultValue:d.fill?y:void 0})),xW("stroke",e,{defaultValue:d.stroke?v:void 0}))}function wW(e,t){const n=t[function(e){switch(e){case"x":return"xOffset";case"y":return"yOffset";case"x2":return"x2Offset";case"y2":return"y2Offset";case bC:return"thetaOffset";case yC:return"radiusOffset";case vC:return"theta2Offset";case"radius2":return"radius2Offset"}}(e)];if(n)return n}function kW(e,t,{defaultPos:n,vgChannel:r}){const{encoding:o,markDef:l,config:c,stack:d}=t,f=o[e],h=o[JC(e)],m=t.scaleName(e),_=t.getScaleComponent(e),y=wW(e,l),v=LW({model:t,defaultPos:n,channel:e,scaleName:m,scale:_}),x=!f&&fF(e)&&(o.latitude||o.longitude)?{field:t.getName(e)}:function(e){const{channel:t,channelDef:n,scaleName:r,stack:o,offset:l,markDef:c}=e;if(AR(n)&&o&&t===o.fieldChannel){if(OR(n)){let e=n.bandPosition;if(void 0!==e||"text"!==c.type||"radius"!==t&&"theta"!==t||(e=.5),void 0!==e)return GH({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:e,offset:l})}return JH(n,r,{suffix:"end"},{offset:l})}return WH(e)}({channel:e,channelDef:f,channel2Def:h,markDef:l,config:c,scaleName:m,scale:_,stack:d,offset:y,defaultRef:v});return x?{[r||e]:x}:void 0}function LW({model:e,defaultPos:t,channel:n,scaleName:r,scale:o}){const{markDef:l,config:c}=e;return()=>{const d=qC(n),f=VC(n),h=mP(n,l,c,{vgChannel:f});if(void 0!==h)return ZH(n,h);switch(t){case"zeroOrMin":case"zeroOrMax":if(r){const e=o.get("type");if(CE([Cz,zz,Hz],e));else if(o.domainDefinitelyIncludesZero())return{scale:r,value:0}}if("zeroOrMin"===t)return"y"===d?{field:{group:"height"}}:{value:0};switch(d){case"radius":return{signal:`min(${e.width.signal},${e.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":{const t=e[GC(n)];return Object.assign(Object.assign({},t),{mult:.5})}}}}const DW={left:"x",center:"xc",right:"x2"},OW={top:"y",middle:"yc",bottom:"y2"};function jW(e,t,n,r="middle"){if("radius"===e||"theta"===e)return VC(e);const o="x"===e?"align":"baseline",l=mP(o,t,n);let c;return eP(l)?(XN(L.rangeMarkAlignmentCannotBeExpression(o)),c=void 0):c=l,"x"===e?DW[c||("top"===r?"left":"center")]:OW[c||r]}function SW(e,t,{defaultPos:n,defaultPos2:r,range:o}){return o?YW(e,t,{defaultPos:n,defaultPos2:r}):kW(e,t,{defaultPos:n})}function YW(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:o,config:l}=t,c=JC(e),d=GC(e),f=function(e,t,n){const{encoding:r,mark:mark,markDef:o,stack:l,config:c}=e,d=qC(n),f=GC(n),h=VC(n),m=r[d],_=e.scaleName(d),y=e.getScaleComponent(d),v=wW(n in r||n in o?n:d,e.markDef);if(!m&&("x2"===n||"y2"===n)&&(r.latitude||r.longitude))return{[h]:{field:e.getName(n)}};const x=function({channel:e,channelDef:t,channel2Def:n,markDef:r,config:o,scaleName:l,scale:c,stack:d,offset:f,defaultRef:h}){if(AR(t)&&d&&e.charAt(0)===d.fieldChannel.charAt(0))return JH(t,l,{suffix:"start"},{offset:f});return WH({channel:e,channelDef:n,scaleName:l,scale:c,stack:d,markDef:r,config:o,offset:f,defaultRef:h})}({channel:n,channelDef:m,channel2Def:r[n],markDef:o,config:c,scaleName:_,scale:y,stack:l,offset:v,defaultRef:void 0});if(void 0!==x)return{[h]:x};return TW(n,o)||TW(n,{[n]:gP(n,o,c.style),[f]:gP(f,o,c.style)})||TW(n,c[mark])||TW(n,c.mark)||{[h]:LW({model:e,defaultPos:t,channel:n,scaleName:_,scale:y})()}}(t,r,c),h=f[d]?jW(e,o,l):VC(e);return Object.assign(Object.assign({},kW(e,t,{defaultPos:n,vgChannel:h})),f)}function TW(e,t){const n=GC(e),r=VC(e);if(void 0!==t[r])return{[r]:ZH(e,t[r])};if(void 0!==t[e])return{[r]:ZH(e,t[e])};if(t[n]){const r=t[n];if(!RH(r))return{[n]:ZH(e,r)};XN(L.relativeBandSizeNotSupported(n))}}function AW(e,t,mark){var n,r,o,l;const{config:c,encoding:d,markDef:f}=e,h=JC(t),m=GC(t),_=d[t],y=d[h],v=e.getScaleComponent(t),x=v?v.get("type"):void 0,M=e.scaleName(t),w=f.orient,k=null!==(r=null!==(n=d[m])&&void 0!==n?n:d.size)&&void 0!==r?r:mP("size",f,c,{vgChannel:m}),D="bar"===mark&&("x"===t?"vertical"===w:"horizontal"===w);if(!OR(_)||!(WF(_.bin)||UF(_.bin)||_.timeUnit&&!y)||k&&!RH(k)||nH(x))return(AR(_)&&nH(x)||D)&&!y?function(mark,e,t,n){const{markDef:r,encoding:o,config:l,stack:c}=n,d=r.orient,f=n.scaleName(t),h=n.getScaleComponent(t),m=GC(t),_=JC(t),y="horizontal"===d&&"y"===t||"vertical"===d&&"x"===t;let v;(o.size||r.size)&&(y?v=xW("size",n,{vgChannel:m,defaultRef:cP(r.size)}):XN(L.cannotApplySizeToNonOrientedMark(r.type)));const x=MR({channel:t,fieldDef:e,markDef:r,config:l,scaleType:null==h?void 0:h.get("type"),useVlSizeChannel:y});v=v||{[m]:EW(m,f,h,l,x)};const M="band"===(null==h?void 0:h.get("type"))&&"band"in v[m]?"top":"middle",w=jW(t,r,l,M),k="xc"===w||"yc"===w,D=wW(t,r),O=WH({channel:t,channelDef:e,markDef:r,config:l,scaleName:f,scale:h,stack:c,offset:D,defaultRef:LW({model:n,defaultPos:"mid",channel:t,scaleName:f,scale:h}),bandPosition:k?.5:eP(x)?{signal:`(1-${x})/2`}:RH(x)?(1-x.band)/2:0});if(m)return Object.assign({[w]:O},v);{const e=VC(_),t=v[m],n=D?Object.assign(Object.assign({},t),{offset:D}):t;return{[w]:O,[e]:Object(le.B)(O)?[O[0],Object.assign(Object.assign({},O[1]),{offset:n})]:Object.assign(Object.assign({},O),{offset:n})}}}(0,_,t,e):YW(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"});{const n=MR({channel:t,fieldDef:_,markDef:f,config:c,scaleType:x}),r=null===(o=e.component.axes[t])||void 0===o?void 0:o[0];return function({fieldDef:e,fieldDef2:t,channel:n,bandSize:r,scaleName:o,markDef:l,spacing:c=0,axisTranslate:d,reverse:f,config:h}){const m=JC(n),_=VC(n),y=VC(m),v=wW(n,l),x=eP(r)?{signal:`(1-${r.signal})/2`}:RH(r)?(1-r.band)/2:.5;if(WF(e.bin)||e.timeUnit)return{[y]:FW({channel:n,fieldDef:e,scaleName:o,markDef:l,bandPosition:x,offset:CW(m,c,f,d,v),config:h}),[_]:FW({channel:n,fieldDef:e,scaleName:o,markDef:l,bandPosition:eP(x)?{signal:"1-"+x.signal}:1-x,offset:CW(n,c,f,d,v),config:h})};if(UF(e.bin)){const r=JH(e,o,{},{offset:CW(m,c,f,d,v)});if(OR(t))return{[y]:r,[_]:JH(t,o,{},{offset:CW(n,c,f,d,v)})};if(qF(e.bin)&&e.bin.step)return{[y]:r,[_]:{signal:`scale("${o}", ${RR(e,{expr:"datum"})} + ${e.bin.step})`,offset:CW(n,c,f,d,v)}}}return void XN(L.channelRequiredForBinned(m))}({fieldDef:_,fieldDef2:y,channel:t,markDef:f,scaleName:M,bandSize:n,axisTranslate:null!==(l=null==r?void 0:r.get("translate"))&&void 0!==l?l:.5,spacing:fF(t)?mP("binSpacing",f,c):void 0,reverse:v.get("reverse"),config:c})}}function EW(e,t,n,r,o){if(RH(o)){if(!n)return{mult:o.band,field:{group:e}};{const e=n.get("type");if("band"===e)return{scale:t,band:o.band};1!==o.band&&(XN(L.cannotUseRelativeBandSizeWithNonBandScale(e)),o=void 0)}}else{if(eP(o))return o;if(o)return{value:o}}if(n){const e=n.get("range");if(tP(e)&&Object(le.G)(e.step))return{value:e.step-2}}return{value:pB(r.view,e)-2}}function CW(e,t,n,r,o){if(DC(e))return 0;const l="x"===e||"y2"===e?-t/2:t/2;if(eP(n)||eP(o)||eP(r)){const e=fP(n),t=fP(o),c=fP(r);return{signal:(c?c+" + ":"")+(e?`(${e} ? -1 : 1) * `:"")+(t?`(${t} + ${l})`:l)}}return o=o||0,r+(n?-o-l:+o+l)}function FW({channel:e,fieldDef:t,scaleName:n,markDef:r,bandPosition:o,offset:l,config:c}){return UH({fieldDef:t,channel:e,markDef:r,ref:GH({scaleName:n,fieldOrDatumDef:t,bandPosition:o,offset:l}),config:c})}const PW=new Set(["aria","width","height"]);function NW(e,t){const{fill:n,stroke:r}="include"===t.color?MW(e):{};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},function(mark,e){return rP.reduce((t,n)=>(PW.has(n)||void 0===mark[n]||"ignore"===e[n]||(t[n]=cP(mark[n])),t),{})}(e.markDef,t)),zW(e,"fill",n)),zW(e,"stroke",r)),xW("opacity",e)),xW("fillOpacity",e)),xW("strokeOpacity",e)),xW("strokeWidth",e)),xW("strokeDash",e)),function(e){const{encoding:t,mark:mark}=e,n=t.order;return!EH(mark)&&CR(n)?mW(e,n,"zindex",e=>cP(e.value)):{}}(e)),_W(e)),pW(e,"href")),vW(e))}function zW(e,t,n){const{config:r,mark:mark,markDef:o}=e;if("hide"===mP("invalid",o,r)&&n&&!EH(mark)){const r=function(e,{invalid:t=!1,channels:n}){const r=n.reduce((t,n)=>{const r=e.getScaleComponent(n);if(r){const o=r.get("type"),l=e.vgField(n,{expr:"datum"});l&&rH(o)&&(t[l]=!0)}return t},{}),o=qE(r);if(o.length>0){const e=t?"||":"&&";return o.map(e=>VH(e,t)).join(` ${e} `)}return}(e,{invalid:!0,channels:OF});if(r)return{[t]:[{test:r,value:null},...Object(le.i)(n)]}}return n?{[t]:n}:{}}function HW(e){const{config:t,markDef:n}=e;if(mP("invalid",n,t)){const t=function(e,{invalid:t=!1,channels:n}){const r=n.reduce((t,n)=>{const r=e.getScaleComponent(n);if(r){const o=r.get("type"),l=e.vgField(n,{expr:"datum"});l&&rH(o)&&(t[l]=!0)}return t},{}),o=qE(r);if(o.length>0){const e=t?"||":"&&";return o.map(e=>VH(e,t)).join(` ${e} `)}return}(e,{channels:dF});if(t)return{defined:{signal:t}}}return{}}function RW(e,t){if(void 0!==t)return{[e]:cP(t)}}var IW={defined:e=>"point"===e.type&&e.nearest,parse:(e,t)=>{if(t.events)for(const s of t.events)s.markname=e.getName("voronoi")},marks:(e,t,n)=>{const{x:r,y:o}=t.project.hasChannel,l=e.mark;if(EH(l))return XN(L.nearestNotSupportForContinuous(l)),n;const c={name:e.getName("voronoi"),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},_W(e,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:r||!o?"datum.datum.x || 0":"0"},y:{expr:o||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let d=0,f=!1;return n.forEach((mark,i)=>{var t;const n=null!==(t=mark.name)&&void 0!==t?t:"";n===e.component.mark[0].name?d=i:n.indexOf("voronoi")>=0&&(f=!0)}),f||n.splice(d+1,0,c),n}};var BW={defined:e=>"point"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind&&!nB(e.bind),parse:(e,t,n)=>iU(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,o=t.project,l=t.bind,c=t.init&&t.init[0],d=IW.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return o.items.forEach((p,i)=>{var e,o;const f=XE(`${r}_${p.field}`);n.filter(s=>s.name===f).length||n.unshift(Object.assign(Object.assign({name:f},c?{init:X$(c[i])}:{value:null}),{on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${d}[${Object(le.bb)(p.field)}] : null`}]:[],bind:null!==(o=null!==(e=l[p.field])&&void 0!==e?e:l[p.channel])&&void 0!==o?o:l}))}),n},signals:(e,t,n)=>{const r=t.name,o=t.project,l=n.filter(s=>s.name===r+KW)[0],c=r+"_tuple_fields",d=o.items.map(p=>XE(`${r}_${p.field}`)),f=d.map(e=>e+" !== null").join(" && ");return d.length&&(l.update=`${f} ? {fields: ${c}, values: [${d.join(", ")}]} : null`),delete l.value,delete l.on,n}};var $W={defined:e=>"point"===e.type&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+"_toggle",value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+KW,r=t.name+"_toggle";return`${r} ? null : ${n}, `+("global"===t.resolve?r+" ? null : true, ":`${r} ? null : {unit: ${nU(e)}}, `)+`${r} ? ${n} : null`}};const WW={defined:e=>void 0!==e.clear&&!1!==e.clear,parse:(e,t)=>{t.clear&&(t.clear=Object(le.J)(t.clear)?GS(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(BW.defined(t))for(const e of t.project.items){const r=n.findIndex(n=>n.name===XE(`${t.name}_${e.field}`));-1!==r&&n[r].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(e,r){-1!==e&&n[e].on&&n[e].on.push({events:t.clear,update:r})}if("interval"===t.type)for(const e of t.project.items){const t=n.findIndex(t=>t.name===e.signals.visual);if(r(t,"[0, 0]"),-1===t){r(n.findIndex(t=>t.name===e.signals.data),"null")}}else{let e=n.findIndex(e=>e.name===t.name+KW);r(e,"null"),$W.defined(t)&&(e=n.findIndex(e=>e.name===t.name+"_toggle"),r(e,"false"))}return n}};const UW={defined:e=>{const t="global"===e.resolve&&e.bind&&nB(e.bind),n=1===e.project.items.length&&"_vgsid_"!==e.project.items[0].field;return t&&!n&&XN(L.LEGEND_BINDINGS_MUST_HAVE_PROJECTION),t&&n},parse:(e,t,n)=>{var r;const o=jE(n);if(o.select=Object(le.J)(o.select)?{type:o.select,toggle:t.toggle}:Object.assign(Object.assign({},o.select),{toggle:t.toggle}),iU(t,o),Object(le.H)(n.select)&&(n.select.on||n.select.clear)){const e='event.item && indexof(event.item.mark.role, "legend") < 0';for(const n of t.events)n.filter=Object(le.i)(null!==(r=n.filter)&&void 0!==r?r:[]),n.filter.includes(e)||n.filter.push(e)}const l=rB(t.bind)?t.bind.legend:"click",c=Object(le.J)(l)?GS(l,"view"):Object(le.i)(l);t.bind={legend:{merge:c}}},topLevelSignals:(e,t,n)=>{const r=t.name,o=rB(t.bind)&&t.bind.legend,l=e=>s=>{const t=jE(s);return t.markname=e,t};for(const e of t.project.items){if(!e.hasLegend)continue;const c=XE(e.field)+"_legend",d=`${r}_${c}`;if(0===n.filter(s=>s.name===d).length){const e=o.merge.map(l(c+"_symbols")).concat(o.merge.map(l(c+"_labels"))).concat(o.merge.map(l(c+"_entries")));n.unshift(Object.assign(Object.assign({name:d},t.init?{}:{value:null}),{on:[{events:e,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:o.merge,update:"!event.item || !datum ? null : "+d,force:!0}]}))}}return n},signals:(e,t,n)=>{const r=t.name,o=t.project,l=n.find(s=>s.name===r+KW),c=r+"_tuple_fields",d=o.items.filter(p=>p.hasLegend).map(p=>XE(`${r}_${XE(p.field)}_legend`)),f=`${d.map(e=>e+" !== null").join(" && ")} ? {fields: ${c}, values: [${d.join(", ")}]} : null`;t.events&&d.length>0?l.on.push({events:d.map(e=>({signal:e})),update:f}):d.length>0&&(l.update=f,delete l.value,delete l.on);const h=n.find(s=>s.name===r+"_toggle"),m=rB(t.bind)&&t.bind.legend;return h&&(t.events?h.on.push(Object.assign(Object.assign({},h.on[0]),{events:m})):h.on[0].events=m),n}};const qW="_translate_delta",VW={defined:e=>"interval"===e.type&&e.translate,signals:(e,t,n)=>{const r=t.name,o=sW.defined(t),l=r+"_translate_anchor",{x:c,y:d}=t.project.hasChannel;let f=GS(t.translate,"scope");return o||(f=f.map(e=>(e.between[0].markname=r+"_brush",e))),n.push({name:l,value:{},on:[{events:f.map(e=>e.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==c?", extent_x: "+(o?lW(e,"x"):`slice(${c.signals.visual})`):"")+(void 0!==d?", extent_y: "+(o?lW(e,"y"):`slice(${d.signals.visual})`):"")+"}"}]},{name:r+qW,value:{},on:[{events:f,update:`{x: ${l}.x - x(unit), y: ${l}.y - y(unit)}`}]}),void 0!==c&&JW(e,t,c,"width",n),void 0!==d&&JW(e,t,d,"height",n),n}};function JW(e,t,n,r,o){var l,c;const d=t.name,f=d+"_translate_anchor",h=d+qW,m=n.channel,_=sW.defined(t),y=o.filter(s=>s.name===n.signals[_?"data":"visual"])[0],v=e.getSizeSignalRef(r).signal,x=e.getScaleComponent(m),M=x.get("type"),w=x.get("reverse"),k=`${f}.extent_${m}`,L=`${_?"log"===M?"panLog":"symlog"===M?"panSymlog":"pow"===M?"panPow":"panLinear":"panLinear"}(${k}, ${`${_?"x"===m?w?"":"-":w?"-":"":""}${h}.${m} / ${_?""+v:`span(${k})`}`}${_?"pow"===M?", "+(null!==(l=x.get("exponent"))&&void 0!==l?l:1):"symlog"===M?", "+(null!==(c=x.get("constant"))&&void 0!==c?c:1):"":""})`;y.on.push({events:{signal:h},update:_?L:`clampRange(${L}, 0, ${v})`})}const GW={defined:e=>"interval"===e.type&&e.zoom,signals:(e,t,n)=>{const r=t.name,o=sW.defined(t),l=r+"_zoom_delta",{x:c,y:d}=t.project.hasChannel,f=Object(le.bb)(e.scaleName("x")),h=Object(le.bb)(e.scaleName("y"));let m=GS(t.zoom,"scope");return o||(m=m.map(e=>(e.markname=r+"_brush",e))),n.push({name:r+"_zoom_anchor",on:[{events:m,update:o?"{"+[f?`x: invert(${f}, x(unit))`:"",h?`y: invert(${h}, y(unit))`:""].filter(e=>!!e).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:l,on:[{events:m,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==c&&XW(e,t,c,"width",n),void 0!==d&&XW(e,t,d,"height",n),n}};function XW(e,t,n,r,o){var l,c;const d=t.name,f=n.channel,h=sW.defined(t),m=o.filter(s=>s.name===n.signals[h?"data":"visual"])[0],_=e.getSizeSignalRef(r).signal,y=e.getScaleComponent(f),v=y.get("type"),base=h?lW(e,f):m.name,x=d+"_zoom_delta",M=`${h?"log"===v?"zoomLog":"symlog"===v?"zoomSymlog":"pow"===v?"zoomPow":"zoomLinear":"zoomLinear"}(${base}, ${`${d}_zoom_anchor.${f}`}, ${x}${h?"pow"===v?", "+(null!==(l=y.get("exponent"))&&void 0!==l?l:1):"symlog"===v?", "+(null!==(c=y.get("constant"))&&void 0!==c?c:1):"":""})`;m.on.push({events:{signal:x},update:h?M:`clampRange(${M}, 0, ${_})`})}const ZW="_store",KW="_tuple",QW="_modify",eU="vlSelectionResolve",tU=[hW,dW,oW,$W,BW,sW,UW,WW,VW,GW,IW];function nU(e,{escape:t}={escape:!0}){let n=t?Object(le.bb)(e.name):e.name;const r=function(e){let t=e.parent;for(;t&&!zV(t);)t=t.parent;return t}(e);if(r){const{facet:e}=r;for(const t of AC)e[t]&&(n+=` + '__facet_${t}_' + (facet[${Object(le.bb)(r.vgField(t))}])`)}return n}function rU(e){var t;return VE(null!==(t=e.component.selection)&&void 0!==t?t:{}).reduce((e,t)=>e||t.project.items.some(e=>"_vgsid_"===e.field),!1)}function iU(e,t){!Object(le.J)(t.select)&&t.select.on||delete e.events,!Object(le.J)(t.select)&&t.select.clear||delete e.clear,!Object(le.J)(t.select)&&t.select.toggle||delete e.toggle}function aU(e){const t=JD(e),n=new Set;return t.visit(e=>{"MemberExpression"===e.type&&function e(t){return"MemberExpression"===t.object.type?e(t.object):"datum"===t.object.name}(e)&&n.add(function e(t){const n=[];return"Identifier"===t.type?[t.name]:"Literal"===t.type?[t.value]:("MemberExpression"===t.type&&(n.push(...e(t.object)),n.push(...e(t.property))),n)}(e).slice(1).join("."))}),n}class oU extends eW{constructor(e,t,filter){super(e),this.model=t,this.filter=filter,this.expr=cU(this.model,this.filter,this),this._dependentFields=aU(this.expr)}clone(){return new oU(null,this.model,jE(this.filter))}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return"Filter "+this.expr}}var sU=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};function lU(e,t,n,r="datum"){const o=Object(le.J)(t)?t:t.param,l=XE(o),c=Object(le.bb)(l+ZW);let d;try{d=e.getSelectionComponent(l,o)}catch(e){return"!!"+l}if(d.project.timeUnit){const t=null!=n?n:e.component.data.raw,r=d.project.timeUnit.clone();t.parent?r.insertAsParentOf(t):t.parent=r}const f=`vlSelectionTest(${c}, ${r}`+("global"===d.resolve?")":`, ${Object(le.bb)(d.resolve)})`),h=`length(data(${c}))`;return!1===t.empty?`${h} && ${f}`:`!${h} || ${f}`}function uU(e,t,n){const r=XE(t),o=n.encoding;let l,c=n.field;try{l=e.getSelectionComponent(r,t)}catch(e){return r}if(o||c){if(o&&!c){const e=l.project.items.filter(p=>p.channel===o);!e.length||e.length>1?(c=l.project.items[0].field,XN((e.length?"Multiple ":"No ")+`matching ${Object(le.bb)(o)} encoding found for selection ${Object(le.bb)(n.param)}. `+`Using "field": ${Object(le.bb)(c)}.`)):c=e[0].field}}else c=l.project.items[0].field,l.project.items.length>1&&XN(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${Object(le.bb)(c)}.`);return`${l.name}[${Object(le.bb)(rC(c))}]`}function cU(e,t,n){return ZE(t,t=>Object(le.J)(t)?t:function(e){return null==e?void 0:e.param}(t)?lU(e,t,n):wz(t))}var dU=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};function fU(e,t,n,r){var o,l,c,d,f;null!==(o=e.encode)&&void 0!==o||(e.encode={}),null!==(l=(d=e.encode)[t])&&void 0!==l||(d[t]={}),null!==(c=(f=e.encode[t]).update)&&void 0!==c||(f.update={}),e.encode[t].update[n]=r}function hU(e,t,n,r={header:!1}){var o,l;const c=e.combine(),{disable:d,orient:f,scale:h,labelExpr:m,title:title,zindex:_}=c,y=dU(c,["disable","orient","scale","labelExpr","title","zindex"]);if(!d){for(const e in y){const n=uI[e],r=y[e];if(n&&n!==t&&"both"!==n)delete y[e];else if(sI(r)){const{condition:t}=r,n=dU(r,["condition"]),o=Object(le.i)(t),l=oI[e];if(l){const{vgProp:t,part:r}=l;fU(y,r,t,[...o.map(e=>{const{test:t}=e,n=dU(e,["test"]);return Object.assign({test:cU(null,t)},n)}),n]),delete y[e]}else if(null===l){const t={signal:o.map(e=>{const{test:t}=e,n=dU(e,["test"]);return`${cU(null,t)} ? ${dP(n)} : `}).join("")+dP(n)};y[e]=t}}else if(eP(r)){const t=oI[e];if(t){const{vgProp:n,part:o}=t;fU(y,o,n,r),delete y[e]}}CE(["labelAlign","labelBaseline"],e)&&null===y[e]&&delete y[e]}if("grid"===t){if(!y.grid)return;if(y.encode){const{grid:e}=y.encode;y.encode=Object.assign({},e?{grid:e}:{}),UE(y.encode)&&delete y.encode}return Object.assign(Object.assign({scale:h,orient:f},y),{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:sC(_,0)})}{if(!r.header&&e.mainExtracted)return;if(void 0!==m){let e=m;(null===(l=null===(o=y.encode)||void 0===o?void 0:o.labels)||void 0===l?void 0:l.update)&&eP(y.encode.labels.update.text)&&(e=iC(m,"datum.label",y.encode.labels.update.text.signal)),fU(y,"labels","text",{signal:e})}if(null===y.labelAlign&&delete y.labelAlign,y.encode){for(const t of lI)e.hasAxisPart(t)||delete y.encode[t];UE(y.encode)&&delete y.encode}const t=function(title,e){if(title)return Object(le.B)(title)&&!QF(title)?title.map(t=>VR(t,e)).join(", "):title}(title,n);return Object.assign(Object.assign(Object.assign(Object.assign({scale:h,orient:f,grid:!1},t?{title:t}:{}),y),!1===n.aria?{aria:!1}:{}),{zindex:sC(_,0)})}}}function mU(e){const{axes:t}=e.component,n=[];for(const r of dF)if(t[r])for(const o of t[r])if(!o.get("disable")&&!o.get("gridScale")){const t="x"===r?"height":"width",o=e.getSizeSignalRef(t).signal;t!==o&&n.push({name:t,update:o})}return n}function pU(e,t,n,r){return Object.assign.apply(null,[{},...e.map(e=>{if("axisOrient"===e){const e="x"===n?"bottom":"left",o=t["x"===n?"axisBottom":"axisLeft"]||{},l=t["x"===n?"axisTop":"axisRight"]||{},c=new Set([...qE(o),...qE(l)]),d={};for(const t of c.values())d[t]={signal:`${r.signal} === "${e}" ? ${fP(o[t])} : ${fP(l[t])}`};return d}return t[e]})])}function gU(e,t,n,r){const o="band"===t?["axisDiscrete","axisBand"]:"point"===t?["axisDiscrete","axisPoint"]:t in Zz?["axisQuantitative"]:"time"===t||"utc"===t?["axisTemporal"]:[];const l="x"===e?"axisX":"axisY",c=eP(n)?"axisOrient":"axis"+QE(n),d=[...o,...o.map(e=>l+e.substr(4))],f=["axis",c,l];return{vlOnlyAxisConfig:pU(d,r,e,n),vgAxisConfig:pU(f,r,e,n),axisConfigStyle:_U([...f,...d],r)}}function _U(e,t){var n;const r=[{}];for(const o of e){let style=null===(n=t[o])||void 0===n?void 0:n.style;if(style){style=Object(le.i)(style);for(const s of style)r.push(t.style[s])}}return Object.assign.apply(null,r)}function yU(e,t,style,n={}){var r;const o=_P(e,style,t);if(void 0!==o)return{configFrom:"style",configValue:o};for(const t of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(void 0!==(null===(r=n[t])||void 0===r?void 0:r[e]))return{configFrom:t,configValue:n[t][e]};return{}}const bU={scale:({model:e,channel:t})=>e.scaleName(t),format:({fieldOrDatumDef:e,config:t,axis:n})=>{const{format:r,formatType:o}=n;return rR(e,e.type,r,o,t,!0)},formatType:({axis:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return iR(r,t,n)},grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>{var r;return null!==(r=t.grid)&&void 0!==r?r:function(e,t){return!nH(e)&&OR(t)&&!WF(null==t?void 0:t.bin)&&!UF(null==t?void 0:t.bin)}(n,e)},gridScale:({model:e,channel:t})=>function(e,t){const n="x"===t?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n);return}(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||MU(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||xU(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>{var r;return null!==(r=e.labelFlush)&&void 0!==r?r:function(e,t){if("x"===t&&CE(["quantitative","temporal"],e))return!0;return}(t.type,n)},labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>{var r;return null!==(r=e.labelOverlap)&&void 0!==r?r:function(e,t,n,r){if(n&&!Object(le.H)(r)||"nominal"!==e&&"ordinal"!==e)return"log"!==t&&"symlog"!==t||"greedy";return}(t.type,n,OR(t)&&!!t.timeUnit,OR(t)?t.sort:void 0)},orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:o})=>{var l;const c="x"===e?"width":"y"===e?"height":void 0,d=c?t.getSizeSignalRef(c):void 0;return null!==(l=n.tickCount)&&void 0!==l?l:function({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var o;if(!r&&!nH(t)&&"log"!==t){if(OR(e)){if(WF(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&CE(["month","hours","day","quarter"],null===(o=hz(e.timeUnit))||void 0===o?void 0:o.unit))return}return{signal:`ceil(${n.signal}/40)`}}return}({fieldOrDatumDef:r,scaleType:o,size:d,values:n.values})},title:({axis:e,model:t,channel:n})=>{if(void 0!==e.title)return e.title;const r=wU(t,n);if(void 0!==r)return r;const o=t.typedFieldDef(n),l="x"===n?"x2":"y2",c=t.fieldDef(l);return bP(o?[bR(o)]:[],OR(c)?[bR(c)]:[])},values:({axis:e,fieldOrDatumDef:t})=>function(e,t){const n=e.values;if(Object(le.B)(n))return iI(t,n);if(eP(n))return n;return}(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:mark})=>{var n;return null!==(n=e.zindex)&&void 0!==n?n:function(mark,e){if("rect"===mark&&IR(e))return 1;return 0}(mark,t)}};function vU(e){return`(((${e.signal} % 360) + 360) % 360)`}function xU(e,t,n,r){if(void 0!==e){if("x"===n){if(eP(e)){const a=vU(e);return{signal:`(45 < ${a} && ${a} < 135) || (225 < ${a} && ${a} < 315) ? "middle" :(${a} <= 45 || 315 <= ${a}) === ${eP(t)?`(${t.signal} === "top")`:"top"===t} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(eP(t)){const n=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${n} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==("top"===t)?"bottom":"top"}if(eP(e)){const a=vU(e);return{signal:`${a} <= 45 || 315 <= ${a} || (135 <= ${a} && ${a} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${a} && ${a} <= 135) === ${eP(t)?`(${t.signal} === "left")`:"left"===t} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(eP(t)){const n=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${n} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==("left"===t)?"top":"bottom"}}function MU(e,t,n){if(void 0===e)return;const r="x"===n,o=r?0:90,l=r?"bottom":"left";if(eP(e)){const a=vU(e);return{signal:`(${o?`(${a} + 90)`:a} % 180 === 0) ? ${r?null:'"center"'} :(${o} < ${a} && ${a} < ${180+o}) === ${eP(t)?`(${t.signal} === "${l}")`:t===l} ? "left" : "right"`}}if((e+o)%180==0)return r?null:"center";if(eP(t)){const n=o<e&&e<180+o?"===":"!==";return{signal:`${t.signal} ${n} "${l}"`+' ? "left" : "right"'}}return(o<e&&e<180+o)==(t===l)?"left":"right"}function wU(e,t){const n="x"===t?"x2":"y2",r=e.fieldDef(t),o=e.fieldDef(n),l=r?r.title:void 0,c=o?o.title:void 0;return l&&c?vP(l,c):l||(c||(void 0!==l?l:void 0!==c?c:void 0))}class kU extends eW{constructor(e,t){super(e),this.transform=t,this._dependentFields=aU(this.transform.calculate)}clone(){return new kU(null,jE(this.transform))}static parseAllForSortIndex(e,t){return t.forEachFieldDef((t,n)=>{if(FR(t)&&mR(t.sort)){const{field:r,timeUnit:o}=t,l=t.sort,c=l.map((e,i)=>`${wz({field:r,timeUnit:o,equal:e})} ? ${i} : `).join("")+l.length;e=new kU(e,{calculate:c,as:LU(t,n,{forAs:!0})})}}),e}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return"Calculate "+AE(this.transform)}}function LU(e,t,n){return RR(e,Object.assign({prefix:t,suffix:"sort_index"},null!=n?n:{}))}function DU(e,t){return CE(["top","bottom"],t)?"column":CE(["left","right"],t)||"row"===e?"row":"column"}function OU(e,header,t,n){const r="row"===n?t.headerRow:"column"===n?t.headerColumn:t.headerFacet;return sC((header||{})[e],r[e],t.header[e])}function jU(e,header,t,n){const r={};for(const o of e){const e=OU(o,header||{},t,n);void 0!==e&&(r[o]=e)}return r}const SU=["row","column"],YU=["header","footer"];function TU(e,t){const title=e.component.layoutHeaders[t].title,n=e.config?e.config:void 0,r=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:l,titleOrient:c}=jU(["titleAnchor","titleAngle","titleOrient"],r.header,n,t),d=DU(t,c),f=hC(l);return{name:t+"-title",type:"group",role:d+"-title",title:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:title},"row"===t?{orient:"left"}:{}),{style:"guide-title"}),EU(f,d)),AU(d,f,o)),RU(n,r,t,XI,JI))}}function AU(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=MU(t,"row"===e?"left":"top","row"===e?"y":"x");return r?{align:r}:{}}function EU(e,t){const n=xU(e,"row"===t?"left":"top","row"===t?"y":"x",!0);return n?{baseline:n}:{}}function CU(e,t){const n=e.component.layoutHeaders[t],r=[];for(const o of YU)if(n[o])for(const l of n[o]){const c=NU(e,t,o,n,l);null!=c&&r.push(c)}return r}function FU(e,t){var n;const{sort:r}=e;return hR(r)?{field:RR(r,{expr:"datum"}),order:null!==(n=r.order)&&void 0!==n?n:"ascending"}:Object(le.B)(r)?{field:LU(e,t,{expr:"datum"}),order:"ascending"}:{field:RR(e,{expr:"datum"}),order:null!=r?r:"ascending"}}function PU(e,t,n){const{format:r,formatType:o,labelAngle:l,labelAnchor:c,labelOrient:d,labelExpr:f}=jU(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),h=eR({fieldOrDatumDef:e,format:r,formatType:o,expr:"parent",config:n}).signal,m=DU(t,d);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:{signal:f?iC(iC(f,"datum.label",h),"datum.value",RR(e,{expr:"parent"})):h}},"row"===t?{orient:"left"}:{}),{style:"guide-label",frame:"group"}),EU(l,m)),AU(m,l,c)),RU(n,e,t,ZI,GI))}function NU(e,t,n,r,o){if(o){let title=null;const{facetFieldDef:l}=r,c=e.config?e.config:void 0;if(l&&o.labels){const{labelOrient:e}=jU(["labelOrient"],l.header,c,t);("row"===t&&!CE(["top","bottom"],e)||"column"===t&&!CE(["left","right"],e))&&(title=PU(l,t,c))}const d=zV(e)&&!pR(e.facet),f=o.axes,h=(null==f?void 0:f.length)>0;if(title||h){const c="row"===t?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`},r.facetFieldDef?{from:{data:e.getName(t+"_domain")},sort:FU(l,t)}:{}),h&&d?{from:{data:e.getName("facet_domain_"+t)}}:{}),title?{title:title}:{}),o.sizeSignal?{encode:{update:{[c]:o.sizeSignal}}}:{}),h?{axes:f}:{})}}return null}const zU={column:{start:0,end:1},row:{start:1,end:0}};function HU(e,t){return zU[t][e]}function RU(e,t,n,r,o){const l={};for(const c of r){if(!o[c])continue;const r=OU(c,null==t?void 0:t.header,e,n);void 0!==r&&(l[o[c]]=r)}return l}function IU(e){return[...BU(e,"width"),...BU(e,"height"),...BU(e,"childWidth"),...BU(e,"childHeight")]}function BU(e,t){const n="width"===t?"x":"y",r=e.component.layoutSize.get(t);if(!r||"merged"===r)return[];const o=e.getSizeSignalRef(t).signal;if("step"===r){const t=e.getScaleComponent(n);if(t){const r=t.get("type"),l=t.get("range");if(nH(r)&&tP(l)){const r=e.scaleName(n);if(zV(e.parent)){if("independent"===e.parent.component.resolve.scale[n])return[$U(r,l)]}return[$U(r,l),{name:o,update:WU(r,t,`domain('${r}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}if("container"==r){const t=o.endsWith("width"),n=t?"containerSize()[0]":"containerSize()[1]",r=`isFinite(${n}) ? ${n} : ${mB(e.config.view,t?"width":"height")}`;return[{name:o,init:r,on:[{update:r,events:"window:resize"}]}]}return[{name:o,value:r}]}function $U(e,t){return{name:e+"_step",value:t.step}}function WU(e,t,n){const r=t.get("type"),o=t.get("padding"),l=sC(t.get("paddingOuter"),o);let c=t.get("paddingInner");return c="band"===r?void 0!==c?c:o:1,`bandspace(${n}, ${fP(c)}, ${fP(l)}) * ${e}_step`}function UU(e){return"childWidth"===e?"width":"childHeight"===e?"height":e}function qU(e,t){return qE(e).reduce((n,r)=>{const o=e[r];return Object.assign(Object.assign({},n),mW(t,o,r,e=>cP(e.value)))},{})}function VU(e,t){if(RV(t)||zV(t))return"shared";if(HV(t))return fF(e)?"independent":"shared";throw new Error("invalid model type for resolve")}function JU(e,t){const n=e.scale[t],r=fF(t)?"axis":"legend";return"independent"===n?("shared"===e[r][t]&&XN(L.independentScaleMeansIndependentGuide(t)),"independent"):e[r][t]||"shared"}const GU=Object.assign(Object.assign({},eB),{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),XU=qE(GU);class ZU extends C${}const KU={symbols:function(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:o,legendType:l}){var c,d,f,h,m,_,y,v;if("symbol"!==l)return;const{markDef:x,encoding:M,config:w,mark:mark}=n,k=x.filled&&"trail"!==mark;let L=Object.assign(Object.assign({},function(e,t,n){for(const r of n){const n=pP(r,t.markDef,t.config);void 0!==n&&(e[r]=cP(n))}return e}({},n,NH)),MW(n,{filled:k}));const D=null!==(c=o.get("symbolOpacity"))&&void 0!==c?c:w.legend.symbolOpacity,O=null!==(d=o.get("symbolFillColor"))&&void 0!==d?d:w.legend.symbolFillColor,j=null!==(f=o.get("symbolStrokeColor"))&&void 0!==f?f:w.legend.symbolStrokeColor,S=void 0===D?null!==(h=QU(M.opacity))&&void 0!==h?h:x.opacity:void 0;if(L.fill)if("fill"===r||k&&r===xC)delete L.fill;else if(L.fill.field)O?delete L.fill:(L.fill=cP(null!==(m=w.legend.symbolBaseFillColor)&&void 0!==m?m:"black"),L.fillOpacity=cP(null!=S?S:1));else if(Object(le.B)(L.fill)){const e=null!==(v=null!==(y=eq(null!==(_=M.fill)&&void 0!==_?_:M.color))&&void 0!==y?y:x.fill)&&void 0!==v?v:k&&x.color;e&&(L.fill=cP(e))}if(L.stroke)if("stroke"===r||!k&&r===xC)delete L.stroke;else if(L.stroke.field||j)delete L.stroke;else if(Object(le.B)(L.stroke)){const e=sC(eq(M.stroke||M.color),x.stroke,k?x.color:void 0);e&&(L.stroke={value:e})}if("opacity"!==r){const e=OR(t)&&nq(n,o,t);e?L.opacity=[Object.assign({test:e},cP(null!=S?S:1)),cP(w.legend.unselectedOpacity)]:S&&(L.opacity=cP(S))}return L=Object.assign(Object.assign({},L),e),UE(L)?void 0:L},gradient:function(e,{model:t,legendType:n,legendCmpt:r}){var o;if("gradient"!==n)return;const{config:l,markDef:c,encoding:d}=t;let f={};const h=void 0===(null!==(o=r.get("gradientOpacity"))&&void 0!==o?o:l.legend.gradientOpacity)?QU(d.opacity)||c.opacity:void 0;h&&(f.opacity=cP(h));return f=Object.assign(Object.assign({},f),e),UE(f)?void 0:f},labels:function(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:o}){const legend=n.legend(r)||{},l=n.config,c=OR(t)?nq(n,o,t):void 0,d=c?[{test:c,value:1},{value:l.legend.unselectedOpacity}]:void 0,{format:f,formatType:h}=legend,text=KH(h)?nR({fieldOrDatumDef:t,field:"datum.value",format:f,formatType:h,config:l}):void 0,m=Object.assign(Object.assign(Object.assign({},d?{opacity:d}:{}),text?{text:text}:{}),e);return UE(m)?void 0:m},entries:function(e,{legendCmpt:t}){const n=t.get("selections");return(null==n?void 0:n.length)?Object.assign(Object.assign({},e),{fill:{value:"transparent"}}):e}};function QU(e){return tq(e,(e,t)=>Math.max(e,t.value))}function eq(e){return tq(e,(e,t)=>sC(e,t.value))}function tq(e,t){return function(e){const t=e&&e.condition;return!!t&&(Object(le.B)(t)||CR(t))}(e)?Object(le.i)(e.condition).reduce(t,e.value):CR(e)?e.value:void 0}function nq(e,t,n){const r=t.get("selections");if(!(null==r?void 0:r.length))return;const o=Object(le.bb)(n.field);return r.map(e=>`(!length(data(${Object(le.bb)(XE(e)+ZW)})) || (${e}[${o}] && indexof(${e}[${o}], datum.value) >= 0))`).join(" || ")}const rq={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:legend,config:t})=>{const{format:n,formatType:r}=legend;return rR(e,e.type,n,r,t,!1)},formatType:({legend:legend,fieldOrDatumDef:e,scaleType:t})=>{const{formatType:n}=legend;return iR(n,e,t)},gradientLength:e=>{var t,n;const{legend:legend,legendConfig:r}=e;return null!==(n=null!==(t=legend.gradientLength)&&void 0!==t?t:r.gradientLength)&&void 0!==n?n:function({legendConfig:e,model:t,direction:n,orient:r,scaleType:o}){const{gradientHorizontalMaxLength:l,gradientHorizontalMinLength:c,gradientVerticalMaxLength:d,gradientVerticalMinLength:f}=e;if(iH(o))return"horizontal"===n?"top"===r||"bottom"===r?oq(t,"width",c,l):c:oq(t,"height",f,d);return}(e)},labelOverlap:({legend:legend,legendConfig:e,scaleType:t})=>{var n,r;return null!==(r=null!==(n=legend.labelOverlap)&&void 0!==n?n:e.labelOverlap)&&void 0!==r?r:function(e){if(CE(["quantile","threshold","log","symlog"],e))return"greedy";return}(t)},symbolType:({legend:legend,markDef:e,channel:t,encoding:n})=>{var r;return null!==(r=legend.symbolType)&&void 0!==r?r:function(mark,e,t,n){var r;if("shape"!==e){const e=null!==(r=eq(t))&&void 0!==r?r:n;if(e)return e}switch(mark){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}(e.type,t,n.shape,e.shape)},title:({fieldOrDatumDef:e,config:t})=>UR(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(YC(n)&&iH(t)){if("gradient"===e)return}else if("symbol"===e)return;return e},values:({fieldOrDatumDef:e,legend:legend})=>function(legend,e){const t=legend.values;if(Object(le.B)(t))return iI(e,t);if(eP(t))return t;return}(legend,e)};function iq(e){const{legend:legend}=e;return sC(legend.type,function({channel:e,timeUnit:t,scaleType:n}){if(YC(e)){if(CE(["quarter","month","day"],t))return"symbol";if(iH(n))return"gradient"}return"symbol"}(e))}function aq({legendConfig:e,legendType:t,orient:n,legend:legend}){var r,o;return null!==(o=null!==(r=legend.direction)&&void 0!==r?r:e[t?"gradientDirection":"symbolDirection"])&&void 0!==o?o:function(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===t?"horizontal":void 0}}(n,t)}function oq(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function sq(e){const t=NV(e)?function(e){const{encoding:t}=e,n={};for(const r of[xC,...QI]){const o=XR(t[r]);o&&e.getScaleComponent(r)&&(r===kC&&OR(o)&&o.type===Tz||(n[r]=uq(e,r)))}return n}(e):function(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){sq(r);for(const o of qE(r.component.legends))n.legend[o]=JU(e.component.resolve,o),"shared"===n.legend[o]&&(t[o]=cq(t[o],r.component.legends[o]),t[o]||(n.legend[o]="independent",delete t[o]))}for(const r of qE(t))for(const t of e.children)t.component.legends[r]&&"shared"===n.legend[r]&&delete t.component.legends[r];return t}(e);return e.component.legends=t,t}function lq(e,t,legend,n){switch(t){case"disable":return void 0!==legend;case"values":return!!(null==legend?void 0:legend.values);case"title":if("title"===t&&e===(null==n?void 0:n.title))return!0}return e===(legend||{})[t]}function uq(e,t){var n,r,o;let legend=e.legend(t);const{markDef:l,encoding:c,config:d}=e,f=d.legend,h=new ZU({},function(e,t){const n=e.scaleName(t);if("trail"===e.mark){if("color"===t)return{stroke:n};if("size"===t)return{strokeWidth:n}}return"color"===t?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}(e,t));!function(e,t,n){var r,o,l,c;const d=null===(r=e.fieldDef(t))||void 0===r?void 0:r.field;for(const r of VE(null!==(o=e.component.selection)&&void 0!==o?o:{})){const e=null!==(l=r.project.hasField[d])&&void 0!==l?l:r.project.hasChannel[t];if(e&&UW.defined(r)){const t=null!==(c=n.get("selections"))&&void 0!==c?c:[];t.push(r.name),n.set("selections",t,!1),e.hasLegend=!0}}}(e,t,h);const m=void 0!==legend?!legend:f.disable;if(h.set("disable",m,void 0!==legend),m)return h;legend=legend||{};const _=e.getScaleComponent(t).get("type"),y=XR(c[t]),v=OR(y)?null===(n=hz(y.timeUnit))||void 0===n?void 0:n.unit:void 0,x=legend.orient||d.legend.orient||"right",M=iq({legend:legend,channel:t,timeUnit:v,scaleType:_}),w={legend:legend,channel:t,model:e,markDef:l,encoding:c,fieldOrDatumDef:y,legendConfig:f,config:d,scaleType:_,orient:x,legendType:M,direction:aq({legend:legend,legendType:M,orient:x,legendConfig:f})};for(const n of XU){if("gradient"===M&&n.startsWith("symbol")||"symbol"===M&&n.startsWith("gradient"))continue;const r=n in rq?rq[n](w):legend[n];if(void 0!==r){const o=lq(r,n,legend,e.fieldDef(t));(o||void 0===d.legend[n])&&h.set(n,r,o)}}const k=null!==(r=null==legend?void 0:legend.encoding)&&void 0!==r?r:{},L=h.get("selections"),D={},O={fieldOrDatumDef:y,model:e,channel:t,legendCmpt:h,legendType:M};for(const t of["labels","legend","title","symbols","gradient","entries"]){const n=qU(null!==(o=k[t])&&void 0!==o?o:{},e),r=t in KU?KU[t](n,O):n;void 0===r||UE(r)||(D[t]=Object.assign(Object.assign(Object.assign({},(null==L?void 0:L.length)&&OR(y)?{name:`${XE(y.field)}_legend_${t}`}:{}),(null==L?void 0:L.length)?{interactive:!!L}:{}),{update:r}))}return UE(D)||h.set("encode",D,!!(null==legend?void 0:legend.encoding)),h}function cq(e,t){var n,r,o,l;if(!e)return t.clone();const c=e.getWithExplicit("orient"),d=t.getWithExplicit("orient");if(c.explicit&&d.explicit&&c.value!==d.value)return;let f=!1;for(const n of XU){const r=H$(e.getWithExplicit(n),t.getWithExplicit(n),n,"legend",(e,t)=>{switch(n){case"symbolType":return dq(e,t);case"title":return xP(e,t);case"type":return f=!0,P$("symbol")}return z$(e,t,n,"legend")});e.setWithExplicit(n,r)}return f&&((null===(r=null===(n=e.implicit)||void 0===n?void 0:n.encode)||void 0===r?void 0:r.gradient)&&KE(e.implicit,["encode","gradient"]),(null===(l=null===(o=e.explicit)||void 0===o?void 0:o.encode)||void 0===l?void 0:l.gradient)&&KE(e.explicit,["encode","gradient"])),e}function dq(e,t){return"circle"===t.value?t:e}var fq=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};function hq(e){const t=e.component.legends,n={};for(const r of qE(t)){const o=e.getScaleComponent(r),l=TE(o.get("domains"));if(n[l])for(const e of n[l]){cq(e,t[r])||n[l].push(t[r])}else n[l]=[t[r].clone()]}return VE(n).flat().map(t=>function(e,t){var n,r,o;const l=e.combine(),{disable:c,labelExpr:d,selections:f}=l,legend=fq(l,["disable","labelExpr","selections"]);if(c)return;!1===t.aria&&null==legend.aria&&(legend.aria=!1);if(null===(n=legend.encode)||void 0===n?void 0:n.symbols){const e=legend.encode.symbols.update;!e.fill||"transparent"===e.fill.value||e.stroke||legend.stroke||(e.stroke={value:"transparent"});for(const t of QI)legend[t]&&delete e[t]}legend.title||delete legend.title;if(void 0!==d){let e=d;(null===(o=null===(r=legend.encode)||void 0===r?void 0:r.labels)||void 0===o?void 0:o.update)&&eP(legend.encode.labels.update.text)&&(e=iC(d,"datum.label",legend.encode.labels.update.text.signal)),function(legend,e,t,n){var r,o,l,c,d;null!==(r=legend.encode)&&void 0!==r||(legend.encode={}),null!==(o=(c=legend.encode)[e])&&void 0!==o||(c[e]={}),null!==(l=(d=legend.encode[e]).update)&&void 0!==l||(d.update={}),legend.encode[e].update[t]=n}(legend,"labels","text",{signal:e})}return legend}(t,e.config)).filter(e=>void 0!==e)}function mq(e){return RV(e)||HV(e)?function(e){return e.children.reduce((e,t)=>e.concat(t.assembleProjections()),pq(e))}(e):pq(e)}function pq(e){const component=e.component.projection;if(!component||component.merged)return[];const t=component.combine(),{name:n}=t;if(component.data){const r={signal:`[${component.size.map(e=>e.signal).join(", ")}]`},o=component.data.reduce((t,data)=>{const source=eP(data)?data.signal:`data('${e.lookupDataSource(data)}')`;return CE(t,source)||t.push(source),t},[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[Object.assign({name:n,size:r,fit:{signal:o.length>1?`[${o.join(", ")}]`:o[0]}},t)]}return[Object.assign(Object.assign({name:n},{translate:{signal:"[width / 2, height / 2]"}}),t)]}const gq=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class _q extends C${constructor(e,t,n,data){super(Object.assign({},t),{name:e}),this.specifiedProjection=t,this.size=n,this.data=data,this.merged=!1}get isFit(){return!!this.data}}function yq(e){e.component.projection=NV(e)?function(e){var t;if(e.hasProjection){const n=XF(e.specifiedProjection),r=!(n&&(null!=n.scale||null!=n.translate)),o=r?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,data=r?function(e){const data=[],{encoding:t}=e;for(const n of[["longitude","latitude"],["longitude2","latitude2"]])(XR(t[n[0]])||XR(t[n[1]]))&&data.push({signal:e.getName("geojson_"+data.length)});e.channelHasField(kC)&&e.typedFieldDef(kC).type===Tz&&data.push({signal:e.getName("geojson_"+data.length)});0===data.length&&data.push(e.requestDataName(J$.Main));return data}(e):void 0,l=new _q(e.projectionName(!0),Object.assign(Object.assign({},null!==(t=XF(e.config.projection))&&void 0!==t?t:{}),null!=n?n:{}),o,data);return l.get("type")||l.set("type","equalEarth",!1),l}return}(e):function(e){if(0===e.children.length)return;let t;for(const t of e.children)yq(t);const n=PE(e.children,e=>{const n=e.component.projection;if(n){if(t){const e=function(e,t){const n=PE(gq,n=>!Object(le.w)(e.explicit,n)&&!Object(le.w)(t.explicit,n)||!!(Object(le.w)(e.explicit,n)&&Object(le.w)(t.explicit,n)&&OE(e.get(n),t.get(n))));if(OE(e.size,t.size)){if(n)return e;if(OE(e.explicit,{}))return t;if(OE(t.explicit,{}))return e}return null}(t,n);return e&&(t=e),!!e}return t=n,!0}return!0});if(t&&n){const n=e.projectionName(!0),r=new _q(n,t.specifiedProjection,t.size,jE(t.data));for(const t of e.children){const e=t.component.projection;e&&(e.isFit&&r.data.push(...t.component.projection.data),t.renameProjection(e.get("name"),n),e.merged=!0)}return r}return}(e)}var bq=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};function vq(e,t){return`${$F(e)}_${t}`}function xq(e,t,n){var r;const o=vq(null!==(r=eI(n,void 0))&&void 0!==r?r:{},t);return e.getName(o+"_bins")}function Mq(e,t,n){let r,span;r=function(e){return"as"in e}(e)?Object(le.J)(e.as)?[e.as,e.as+"_end"]:[e.as[0],e.as[1]]:[RR(e,{forAs:!0}),RR(e,{binSuffix:"end",forAs:!0})];const o=Object.assign({},eI(t,void 0)),l=vq(o,e.field),{signal:c,extentSignal:d}=function(e,t){return{signal:e.getName(t+"_bins"),extentSignal:e.getName(t+"_extent")}}(n,l);if(VF(o.extent)){const e=o.extent;span=uU(n,e.param,e),delete o.extent}return{key:l,binComponent:Object.assign(Object.assign(Object.assign({bin:o,field:e.field,as:[r]},c?{signal:c}:{}),d?{extentSignal:d}:{}),span?{span:span}:{})}}class wq extends eW{constructor(e,t){super(e),this.bins=t}clone(){return new wq(null,jE(this.bins))}static makeFromEncoding(e,t){const n=t.reduceFieldDef((e,n,r)=>{if(ER(n)&&WF(n.bin)){const{key:o,binComponent:l}=Mq(n,n.bin,t);e[o]=Object.assign(Object.assign(Object.assign({},l),e[o]),function(e,t,n,r){var o,l;if(aI(t,n)){const c=NV(e)&&null!==(l=null!==(o=e.axis(n))&&void 0!==o?o:e.legend(n))&&void 0!==l?l:{},d=RR(t,{expr:"datum"}),f=RR(t,{expr:"datum",binSuffix:"end"});return{formulaAs:RR(t,{binSuffix:"range",forAs:!0}),formula:lR(d,f,c.format,c.formatType,r)}}return{}}(t,n,r,t.config))}return e},{});return UE(n)?null:new wq(e,n)}static makeFromTransform(e,t,n){const{key:r,binComponent:o}=Mq(t,t.bin,n);return new wq(e,{[r]:o})}merge(e,t){for(const n of qE(e.bins))n in this.bins?(t(e.bins[n].signal,this.bins[n].signal),this.bins[n].as=HE([...this.bins[n].as,...e.bins[n].as],AE)):this.bins[n]=e.bins[n];for(const t of e.children)e.removeChild(t),t.parent=this;e.remove()}producedFields(){return new Set(VE(this.bins).map(e=>e.as).flat(2))}dependentFields(){return new Set(VE(this.bins).map(e=>e.field))}hash(){return"Bin "+AE(this.bins)}assemble(){return VE(this.bins).flatMap(e=>{const t=[],[n,...r]=e.as,o=e.bin,{extent:l}=o,c=bq(o,["extent"]),d=Object.assign(Object.assign(Object.assign({type:"bin",field:rC(e.field),as:n,signal:e.signal},VF(l)?{extent:null}:{extent:l}),e.span?{span:{signal:`span(${e.span})`}}:{}),c);!l&&e.extentSignal&&(t.push({type:"extent",field:rC(e.field),signal:e.extentSignal}),d.extent={signal:e.extentSignal}),t.push(d);for(const e of r)for(let i=0;i<2;i++)t.push({type:"formula",expr:RR({field:n[i]},{expr:"datum"}),as:e[i]});return e.formula&&t.push({type:"formula",expr:e.formula,as:e.formulaAs}),t})}}function kq(e,t,n,r){const o=NV(r)?r.encoding[JC(t)]:void 0;if(ER(n)&&NV(r)&&wR(n,o,r.markDef,r.config))e.add(RR(n,{})),e.add(RR(n,{suffix:"end"})),n.bin&&aI(n,t)&&e.add(RR(n,{binSuffix:"range"}));else if(t in OC){const n=function(e){switch(e){case"latitude":return"y";case"latitude2":return"y2";case"longitude":return"x";case"longitude2":return"x2"}}(t);e.add(r.getName(n))}else e.add(RR(n));return e}class Lq extends eW{constructor(e,t,n){super(e),this.dimensions=t,this.measures=n}clone(){return new Lq(null,new Set(this.dimensions),jE(this.measures))}get groupBy(){return this.dimensions}static makeFromEncoding(e,t){let n=!1;t.forEachFieldDef(e=>{e.aggregate&&(n=!0)});const r={},o=new Set;return n?(t.forEachFieldDef((e,n)=>{var l,c,d,f;const{aggregate:h,field:m}=e;if(h)if("count"===h)null!==(l=r["*"])&&void 0!==l||(r["*"]={}),r["*"].count=new Set([RR(e,{forAs:!0})]);else{if(PF(h)||NF(h)){const e=PF(h)?"argmin":"argmax",t=h[e];null!==(c=r[t])&&void 0!==c||(r[t]={}),r[t][e]=new Set([RR({op:e,field:t},{forAs:!0})])}else null!==(d=r[m])&&void 0!==d||(r[m]={}),r[m][h]=new Set([RR(e,{forAs:!0})]);jF(n)&&"unaggregated"===t.scaleDomain(n)&&(null!==(f=r[m])&&void 0!==f||(r[m]={}),r[m].min=new Set([RR({field:m,aggregate:"min"},{forAs:!0})]),r[m].max=new Set([RR({field:m,aggregate:"max"},{forAs:!0})]))}else kq(o,n,e,t)}),o.size+qE(r).length===0?null:new Lq(e,o,r)):null}static makeFromTransform(e,t){var n,r,o;const l=new Set,c={};for(const s of t.aggregate){const{op:e,field:t,as:o}=s;e&&("count"===e?(null!==(n=c["*"])&&void 0!==n||(c["*"]={}),c["*"].count=new Set([o||RR(s,{forAs:!0})])):(null!==(r=c[t])&&void 0!==r||(c[t]={}),c[t][e]=new Set([o||RR(s,{forAs:!0})])))}for(const s of null!==(o=t.groupby)&&void 0!==o?o:[])l.add(s);return l.size+qE(c).length===0?null:new Lq(e,l,c)}merge(e){return IE(this.dimensions,e.dimensions)?(function(e,t){var n;for(const r of qE(t)){const o=t[r];for(const t of qE(o))r in e?e[r][t]=new Set([...null!==(n=e[r][t])&&void 0!==n?n:[],...o[t]]):e[r]={[t]:o[t]}}}(this.measures,e.measures),!0):(function(...e){JN.debug(...e)}("different dimensions, cannot merge"),!1)}addDimensions(e){e.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...qE(this.measures)])}producedFields(){const e=new Set;for(const t of qE(this.measures))for(const n of qE(this.measures[t])){const r=this.measures[t][n];0===r.size?e.add(`${n}_${t}`):r.forEach(e.add,e)}return e}hash(){return"Aggregate "+AE({dimensions:this.dimensions,measures:this.measures})}assemble(){const e=[],t=[],n=[];for(const r of qE(this.measures))for(const o of qE(this.measures[r]))for(const l of this.measures[r][o])n.push(l),e.push(o),t.push("*"===r?null:rC(r));return{type:"aggregate",groupby:[...this.dimensions].map(rC),ops:e,fields:t,as:n}}}class Dq extends eW{constructor(e,t,n,data){super(e),this.model=t,this.name=n,this.data=data;for(const e of AC){const n=t.facet[e];if(n){const{bin:r,sort:o}=n;this[e]=Object.assign({name:t.getName(e+"_domain"),fields:[RR(n),...WF(r)?[RR(n,{binSuffix:"end"})]:[]]},hR(o)?{sortField:o}:Object(le.B)(o)?{sortIndexField:LU(n,e)}:{})}}this.childModel=t.child}hash(){let e="Facet";for(const t of AC)this[t]&&(e+=` ${t.charAt(0)}:${AE(this[t])}`);return e}get fields(){var e;const t=[];for(const n of AC)(null===(e=this[n])||void 0===e?void 0:e.fields)&&t.push(...this[n].fields);return t}dependentFields(){const e=new Set(this.fields);for(const t of AC)this[t]&&(this[t].sortField&&e.add(this[t].sortField.field),this[t].sortIndexField&&e.add(this[t].sortIndexField));return e}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const e={};for(const t of dF){const n=this.childModel.component.scales[t];if(n&&!n.merged){const r=n.get("type"),o=n.get("range");if(nH(r)&&tP(o)){const n=_V(yV(this.childModel,t));n?e[t]=n:XN(L.unknownField(t))}}}return e}assembleRowColumnHeaderData(e,t,n){const r={row:"y",column:"x",facet:void 0}[e],o=[],l=[],c=[];r&&n&&n[r]&&(t?(o.push("distinct_"+n[r]),l.push("max")):(o.push(n[r]),l.push("distinct")),c.push("distinct_"+n[r]));const{sortField:d,sortIndexField:f}=this[e];if(d){const{op:e=uR,field:t}=d;o.push(t),l.push(e),c.push(RR(d,{forAs:!0}))}else f&&(o.push(f),l.push("max"),c.push(f));return{name:this[e].name,source:null!=t?t:this.data,transform:[Object.assign({type:"aggregate",groupby:this[e].fields},o.length?{fields:o,ops:l,as:c}:{})]}}assembleFacetHeaderData(e){var t,n;const{columns:r}=this.model.layout,{layoutHeaders:o}=this.model.component,data=[],l={};for(const e of SU){for(const r of YU){const c=null!==(t=o[e]&&o[e][r])&&void 0!==t?t:[];for(const header of c)if((null===(n=header.axes)||void 0===n?void 0:n.length)>0){l[e]=!0;break}}if(l[e]){const t=`length(data("${this.facet.name}"))`,n="row"===e?r?{signal:`ceil(${t} / ${r})`}:1:r?{signal:`min(${t}, ${r})`}:{signal:t};data.push({name:`${this.facet.name}_${e}`,transform:[{type:"sequence",start:0,stop:n}]})}}const{row:c,column:d}=l;return(c||d)&&data.unshift(this.assembleRowColumnHeaderData("facet",null,e)),data}assemble(){var e,t;const data=[];let n=null;const r=this.getChildIndependentFieldsWithStep(),{column:o,row:l,facet:c}=this;if(o&&l&&(r.x||r.y)){n=`cross_${this.column.name}_${this.row.name}`;const o=[].concat(null!==(e=r.x)&&void 0!==e?e:[],null!==(t=r.y)&&void 0!==t?t:[]),l=o.map(()=>"distinct");data.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:o,ops:l}]})}for(const e of[_C,gC])this[e]&&data.push(this.assembleRowColumnHeaderData(e,n,r));if(c){const e=this.assembleFacetHeaderData(r);e&&data.push(...e)}return data}}function Oq(pattern){return"'"===pattern[0]&&"'"===pattern[pattern.length-1]||'"'===pattern[0]&&'"'===pattern[pattern.length-1]?pattern.slice(1,-1):pattern}function jq(e){const t={};return function e(t,n){if(LE(t))e(t.not,n);else if(kE(t))for(const r of t.and)e(r,n);else if(wE(t))for(const r of t.or)e(r,n);else n(t)}(e.filter,filter=>{var e;if(xz(filter)){let n=null;mz(filter)?n=lP(filter.equal):gz(filter)?n=lP(filter.lte):pz(filter)?n=lP(filter.lt):_z(filter)?n=lP(filter.gt):yz(filter)?n=lP(filter.gte):bz(filter)?n=filter.range[0]:vz(filter)&&(n=(null!==(e=filter.oneOf)&&void 0!==e?e:filter.in)[0]),n&&(ZN(n)?t[filter.field]="date":Object(le.G)(n)?t[filter.field]="number":Object(le.J)(n)&&(t[filter.field]="string")),filter.timeUnit&&(t[filter.field]="date")}}),t}function Sq(e){const t={};function n(e){var n;nI(e)?t[e.field]="date":"quantitative"===e.type&&(n=e.aggregate,Object(le.J)(n)&&CE(["min","max"],n))?t[e.field]="number":oC(e.field)>1?e.field in t||(t[e.field]="flatten"):FR(e)&&hR(e.sort)&&oC(e.sort.field)>1&&(e.sort.field in t||(t[e.sort.field]="flatten"))}if((NV(e)||zV(e))&&e.forEachFieldDef((t,r)=>{if(ER(t))n(t);else{const o=qC(r),l=e.fieldDef(o);n(Object.assign(Object.assign({},t),{type:l.type}))}}),NV(e)){const{mark:mark,markDef:n,encoding:r}=e;if(EH(mark)&&!e.encoding.order){const e=r["horizontal"===n.orient?"y":"x"];OR(e)&&"quantitative"===e.type&&!(e.field in t)&&(t[e.field]="number")}}return t}class Yq extends eW{constructor(e,t){super(e),this._parse=t}clone(){return new Yq(null,jE(this._parse))}hash(){return"Parse "+AE(this._parse)}static makeExplicit(e,t,n){let r={};const data=t.data;return!W$(data)&&data&&data.format&&data.format.parse&&(r=data.format.parse),this.makeWithAncestors(e,r,{},n)}static makeWithAncestors(e,t,n,r){for(const e of qE(n)){const t=r.getWithExplicit(e);void 0!==t.value&&(t.explicit||t.value===n[e]||"derived"===t.value||"flatten"===n[e]?delete n[e]:XN(L.differentParse(e,n[e],t.value)))}for(const e of qE(t)){const n=r.get(e);void 0!==n&&(n===t[e]?delete t[e]:XN(L.differentParse(e,t[e],n)))}const o=new C$(t,n);r.copyAll(o);const p={};for(const e of qE(o.combine())){const t=o.get(e);null!==t&&(p[e]=t)}return 0===qE(p).length||r.parseNothing?null:new Yq(e,p)}get parse(){return this._parse}merge(e){this._parse=Object.assign(Object.assign({},this._parse),e.parse),e.remove()}assembleFormatParse(){const e={};for(const t of qE(this._parse)){const p=this._parse[t];1===oC(t)&&(e[t]=p)}return e}producedFields(){return new Set(qE(this._parse))}dependentFields(){return new Set(qE(this._parse))}assembleTransforms(e=!1){return qE(this._parse).filter(t=>!e||oC(t)>1).map(e=>{const t=function(e,t){const n=eC(e);if("number"===t)return`toNumber(${n})`;if("boolean"===t)return`toBoolean(${n})`;if("string"===t)return`toString(${n})`;if("date"===t)return`toDate(${n})`;if("flatten"===t)return n;if(t.startsWith("date:")){return`timeParse(${n},'${Oq(t.slice(5,t.length))}')`}if(t.startsWith("utc:")){return`utcParse(${n},'${Oq(t.slice(4,t.length))}')`}return XN(L.unrecognizedParse(t)),null}(e,this._parse[e]);if(!t)return null;return{type:"formula",expr:t,as:aC(e)}}).filter(e=>null!==e)}}class Tq extends eW{clone(){return new Tq(null)}constructor(e){super(e)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:"_vgsid_"}}}class Aq extends eW{constructor(e,t){super(e),this.params=t}clone(){return new Aq(null,this.params)}dependentFields(){return new Set}producedFields(){}hash(){return"Graticule "+AE(this.params)}assemble(){return Object.assign({type:"graticule"},!0===this.params?{}:this.params)}}class Eq extends eW{constructor(e,t){super(e),this.params=t}clone(){return new Eq(null,this.params)}dependentFields(){return new Set}producedFields(){var e;return new Set([null!==(e=this.params.as)&&void 0!==e?e:"data"])}hash(){return"Hash "+AE(this.params)}assemble(){return Object.assign({type:"sequence"},this.params)}}class Cq extends eW{constructor(data){let e;if(super(null),null!=data||(data={name:"source"}),W$(data)||(e=data.format?Object.assign({},YE(data.format,["parse"])):{}),B$(data))this._data={values:data.values};else if(I$(data)){if(this._data={url:data.url},!e.type){let t=/(?:\.([^.]+))?$/.exec(data.url)[1];CE(["json","csv","tsv","dsv","topojson"],t)||(t="json"),e.type=t}}else q$(data)?this._data={values:[{type:"Sphere"}]}:($$(data)||W$(data))&&(this._data={});this._generator=W$(data),data.name&&(this._name=data.name),e&&!UE(e)&&(this._data.format=e)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(e){this._name=e}set parent(e){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return Object.assign(Object.assign({name:this._name},this._data),{transform:[]})}}var Fq,Pq=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Nq=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};function zq(e){return e instanceof Cq||e instanceof Aq||e instanceof Eq}class Hq{constructor(){Fq.set(this,void 0),Pq(this,Fq,!1)}setModified(){Pq(this,Fq,!0)}get modifiedFlag(){return Nq(this,Fq)}}Fq=new WeakMap;class Rq extends Hq{getNodeDepths(e,t,n){n.set(e,t);for(const r of e.children)this.getNodeDepths(r,t+1,n);return n}optimize(e){const t=[...this.getNodeDepths(e,0,new Map).entries()].sort((a,b)=>b[1]-a[1]);for(const e of t)this.run(e[0]);return this.modifiedFlag}}class Iq extends Hq{optimize(e){this.run(e);for(const t of e.children)this.optimize(t);return this.modifiedFlag}}class Bq extends Iq{mergeNodes(e,t){const n=t.shift();for(const r of t)e.removeChild(r),r.parent=n,r.remove()}run(e){const t=e.children.map(e=>e.hash()),n={};for(let i=0;i<t.length;i++)void 0===n[t[i]]?n[t[i]]=[e.children[i]]:n[t[i]].push(e.children[i]);for(const t of qE(n))n[t].length>1&&(this.setModified(),this.mergeNodes(e,n[t]))}}class $q extends Iq{constructor(e){super(),this.requiresSelectionId=e&&rU(e)}run(e){e instanceof Tq&&(this.requiresSelectionId&&(zq(e.parent)||e.parent instanceof Lq||e.parent instanceof Yq)||(this.setModified(),e.remove()))}}class Wq extends Hq{optimize(e){return this.run(e,new Set),this.modifiedFlag}run(e,t){let n=new Set;e instanceof rW&&(n=e.producedFields(),BE(n,t)&&(this.setModified(),e.removeFormulas(t),0===e.producedFields.length&&e.remove()));for(const r of e.children)this.run(r,new Set([...t,...n]))}}class Uq extends Iq{constructor(){super()}run(e){e instanceof tW&&!e.isRequired()&&(this.setModified(),e.remove())}}class qq extends Rq{run(e){if(!(zq(e)||e.numChildren()>1))for(const t of e.children)if(t instanceof Yq)if(e instanceof Yq)this.setModified(),e.merge(t);else{if(WE(e.producedFields(),t.dependentFields()))continue;this.setModified(),t.swapWithParent()}}}class Vq extends Rq{run(e){const t=[...e.children],n=e.children.filter(e=>e instanceof Yq);if(e.numChildren()>1&&n.length>=1){const r={},o=new Set;for(const e of n){const t=e.parse;for(const e of qE(t))e in r?r[e]!==t[e]&&o.add(e):r[e]=t[e]}for(const e of o)delete r[e];if(!UE(r)){this.setModified();const n=new Yq(e,r);for(const o of t){if(o instanceof Yq)for(const e of qE(r))delete o.parse[e];e.removeChild(o),o.parent=n,o instanceof Yq&&0===qE(o.parse).length&&o.remove()}}}}}class Jq extends Rq{run(e){e instanceof tW||e.numChildren()>0||e instanceof Dq||e instanceof Cq||(this.setModified(),e.remove())}}class Gq extends Rq{run(e){const t=e.children.filter(e=>e instanceof rW),n=t.pop();for(const e of t)this.setModified(),n.merge(e)}}class Xq extends Rq{run(e){const t=e.children.filter(e=>e instanceof Lq),n={};for(const e of t){const t=AE(e.groupBy);t in n||(n[t]=[]),n[t].push(e)}for(const t of qE(n)){const r=n[t];if(r.length>1){const t=r.pop();for(const n of r)t.merge(n)&&(e.removeChild(n),n.parent=t,n.remove(),this.setModified())}}}}class Zq extends Rq{constructor(e){super(),this.model=e}run(e){const t=!(zq(e)||e instanceof oU||e instanceof Yq||e instanceof Tq),n=[],r=[];for(const o of e.children)o instanceof wq&&(t&&!WE(e.producedFields(),o.dependentFields())?n.push(o):r.push(o));if(n.length>0){const t=n.pop();for(const e of n)t.merge(e,this.model.renameSignal.bind(this.model));this.setModified(),e instanceof wq?e.merge(t,this.model.renameSignal.bind(this.model)):t.swapWithParent()}if(r.length>1){const e=r.pop();for(const t of r)e.merge(t,this.model.renameSignal.bind(this.model));this.setModified()}}}class Kq extends Rq{run(e){const t=[...e.children];if(!FE(t,e=>e instanceof tW)||e.numChildren()<=1)return;const n=[];let r;for(const o of t)if(o instanceof tW){let t=o;for(;1===t.numChildren();){const[e]=t.children;if(!(e instanceof tW))break;t=e}n.push(...t.children),r?(e.removeChild(o),o.parent=r.parent,r.parent.removeChild(r),r.parent=t,this.setModified()):r=t}else n.push(o);if(n.length){this.setModified();for(const e of n)e.parent.removeChild(e),e.parent=r}}}class Qq extends eW{constructor(e,t){super(e),this.transform=t}clone(){return new Qq(null,jE(this.transform))}addDimensions(e){this.transform.groupby=HE(this.transform.groupby.concat(e),e=>e)}dependentFields(){const e=new Set;return this.transform.groupby&&this.transform.groupby.forEach(e.add,e),this.transform.joinaggregate.map(e=>e.field).filter(e=>void 0!==e).forEach(e.add,e),e}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(e){var t;return null!==(t=e.as)&&void 0!==t?t:RR(e)}hash(){return"JoinAggregateTransform "+AE(this.transform)}assemble(){const e=[],t=[],n=[];for(const r of this.transform.joinaggregate)t.push(r.op),n.push(this.getDefaultName(r)),e.push(void 0===r.field?null:r.field);const r=this.transform.groupby;return Object.assign({type:"joinaggregate",as:n,ops:t,fields:e},void 0!==r?{groupby:r}:{})}}class eV extends eW{constructor(e,t){super(e),this._stack=t}clone(){return new eV(null,jE(this._stack))}static makeFromTransform(e,t){const{stack:n,groupby:r,as:o,offset:l="zero"}=t,c=[],d=[];if(void 0!==t.sort)for(const e of t.sort)c.push(e.field),d.push(sC(e.order,"ascending"));const f={field:c,order:d};let h;return h=function(e){return Object(le.B)(e)&&e.every(s=>Object(le.J)(s))&&e.length>1}(o)?o:Object(le.J)(o)?[o,o+"_end"]:[t.stack+"_start",t.stack+"_end"],new eV(e,{stackField:n,groupby:r,offset:l,sort:f,facetby:[],as:h})}static makeFromEncoding(e,t){const n=t.stack,{encoding:r}=t;if(!n)return null;const{groupbyChannel:o,fieldChannel:l,offset:c,impute:d}=n;let f;if(o){f=GR(r[o])}const h=function(e){return e.stack.stackBy.reduce((e,t)=>{const n=RR(t.fieldDef);return n&&e.push(n),e},[])}(t),m=t.encoding.order;let _;return _=Object(le.B)(m)||OR(m)?yP(m):h.reduce((s,e)=>(s.field.push(e),s.order.push("y"===l?"descending":"ascending"),s),{field:[],order:[]}),new eV(e,{dimensionFieldDef:f,stackField:t.vgField(l),facetby:[],stackby:h,sort:_,offset:c,impute:d,as:[t.vgField(l,{suffix:"start",forAs:!0}),t.vgField(l,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(e){this._stack.facetby.push(...e)}dependentFields(){const e=new Set;return e.add(this._stack.stackField),this.getGroupbyFields().forEach(e.add,e),this._stack.facetby.forEach(e.add,e),this._stack.sort.field.forEach(e.add,e),e}producedFields(){return new Set(this._stack.as)}hash(){return"Stack "+AE(this._stack)}getGroupbyFields(){const{dimensionFieldDef:e,impute:t,groupby:n}=this._stack;return e?e.bin?t?[RR(e,{binSuffix:"mid"})]:[RR(e,{}),RR(e,{binSuffix:"end"})]:[RR(e)]:null!=n?n:[]}assemble(){const e=[],{facetby:t,dimensionFieldDef:n,stackField:r,stackby:o,sort:l,offset:c,impute:d,as:f}=this._stack;if(d&&n){const{bandPosition:l=.5,bin:c}=n;c&&e.push({type:"formula",expr:l+"*"+RR(n,{expr:"datum"})+`+${1-l}*`+RR(n,{expr:"datum",binSuffix:"end"}),as:RR(n,{binSuffix:"mid",forAs:!0})}),e.push({type:"impute",field:r,groupby:[...o,...t],key:RR(n,{binSuffix:"mid"}),method:"value",value:0})}return e.push({type:"stack",groupby:[...this.getGroupbyFields(),...t],field:r,sort:l,as:f,offset:c}),e}}class tV extends eW{constructor(e,t){super(e),this.transform=t}clone(){return new tV(null,jE(this.transform))}addDimensions(e){this.transform.groupby=HE(this.transform.groupby.concat(e),e=>e)}dependentFields(){var e,t;const n=new Set;return(null!==(e=this.transform.groupby)&&void 0!==e?e:[]).forEach(n.add,n),(null!==(t=this.transform.sort)&&void 0!==t?t:[]).forEach(e=>n.add(e.field)),this.transform.window.map(e=>e.field).filter(e=>void 0!==e).forEach(n.add,n),n}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(e){var t;return null!==(t=e.as)&&void 0!==t?t:RR(e)}hash(){return"WindowTransform "+AE(this.transform)}assemble(){var e;const t=[],n=[],r=[],o=[];for(const e of this.transform.window)n.push(e.op),r.push(this.getDefaultName(e)),o.push(void 0===e.param?null:e.param),t.push(void 0===e.field?null:e.field);const l=this.transform.frame,c=this.transform.groupby;if(l&&null===l[0]&&null===l[1]&&n.every(e=>zF(e)))return Object.assign({type:"joinaggregate",as:r,ops:n,fields:t},void 0!==c?{groupby:c}:{});const d=[],f=[];if(void 0!==this.transform.sort)for(const t of this.transform.sort)d.push(t.field),f.push(null!==(e=t.order)&&void 0!==e?e:"ascending");const h={field:d,order:f},m=this.transform.ignorePeers;return Object.assign(Object.assign(Object.assign({type:"window",params:o,as:r,ops:n,fields:t,sort:h},void 0!==m?{ignorePeers:m}:{}),void 0!==c?{groupby:c}:{}),void 0!==l?{frame:l}:{})}}function nV(e){if(e instanceof Dq)if(1!==e.numChildren()||e.children[0]instanceof tW){const n=e.model.component.data.main;!function e(t){if(t instanceof tW&&t.type===J$.Main&&1===t.numChildren()){const n=t.children[0];n instanceof Dq||(n.swapWithParent(),e(t))}}(n);const r=(t=e,function e(n){if(!(n instanceof Dq)){const r=n.clone();if(r instanceof tW){const e=rV+r.getSource();r.setSource(e),t.model.component.data.outputNodes[e]=r}else(r instanceof Lq||r instanceof eV||r instanceof tV||r instanceof Qq)&&r.addDimensions(t.fields);for(const t of n.children.flatMap(e))t.parent=r;return[r]}return n.children.flatMap(e)}),o=e.children.map(r).flat();for(const e of o)e.parent=n}else{const t=e.children[0];(t instanceof Lq||t instanceof eV||t instanceof tV||t instanceof Qq)&&t.addDimensions(e.fields),t.swapWithParent(),nV(e)}else e.children.map(nV);var t}const rV="scale_";function iV(e){for(const t of e){for(const e of t.children)if(e.parent!==t)return!1;if(!iV(t.children))return!1}return!0}function aV(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function oV(e,t,n){let r=e.sources,o=!1;return o=aV(new Uq,r)||o,o=aV(new $q(t),r)||o,r=r.filter(e=>e.numChildren()>0),o=aV(new Jq,r)||o,r=r.filter(e=>e.numChildren()>0),n||(o=aV(new qq,r)||o,o=aV(new Zq(t),r)||o,o=aV(new Wq,r)||o,o=aV(new Vq,r)||o,o=aV(new Xq,r)||o,o=aV(new Gq,r)||o,o=aV(new Bq,r)||o,o=aV(new Kq,r)||o),e.sources=r,o}class sV{constructor(e){Object.defineProperty(this,"signal",{enumerable:!0,get:e})}static fromName(e,t){return new sV(()=>e(t))}}var lV=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};function uV(e){NV(e)?function(e){const t=e.component.scales;for(const n of qE(t)){const r=cV(e,n);if(t[n].setWithExplicit("domains",r),mV(e,n),e.component.data.isFaceted){let t=e;for(;!zV(t)&&t.parent;)t=t.parent;if("shared"===t.component.resolve.scale[n])for(const e of r.value)nP(e)&&(e.data=rV+e.data.replace(rV,""))}}}(e):function(e){for(const t of e.children)uV(t);const t=e.component.scales;for(const n of qE(t)){let r,o=null;for(const t of e.children){const e=t.component.scales[n];if(e){r=void 0===r?e.getWithExplicit("domains"):H$(r,e.getWithExplicit("domains"),"domains","scale",gV);const t=e.get("selectionExtent");o&&t&&o.param!==t.param&&XN(L.NEEDS_SAME_SELECTION),o=t}}t[n].setWithExplicit("domains",r),o&&t[n].set("selectionExtent",o,!0)}}(e)}function cV(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,o=function(e,t,n,r){if("unaggregated"===e){const{valid:e,reason:r}=pV(t,n);if(!e)return void XN(r)}else if(void 0===e&&r.useUnaggregatedDomain){const{valid:e}=pV(t,n);if(e)return"unaggregated"}return e}(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return o!==e.scaleDomain(t)&&(e.specifiedScales[t]=Object.assign(Object.assign({},e.specifiedScales[t]),{domain:o})),"x"===t&&XR(r.x2)?XR(r.x)?H$(fV(n,o,e,"x"),fV(n,o,e,"x2"),"domain","scale",gV):fV(n,o,e,"x2"):"y"===t&&XR(r.y2)?XR(r.y)?H$(fV(n,o,e,"y"),fV(n,o,e,"y2"),"domain","scale",gV):fV(n,o,e,"y2"):fV(n,o,e,t)}function dV(e,t,n){var r;const o=null===(r=hz(n))||void 0===r?void 0:r.unit;return"temporal"===t||o?function(e,t,n){return e.map(e=>({signal:`{data: ${rI(e,{timeUnit:n,type:t})}}`}))}(e,t,o):[e]}function fV(e,t,n,r){const{encoding:o}=n,l=XR(o[r]),{type:c}=l,d=l.timeUnit;if(function(e){return e&&e.unionWith}(t)){const o=fV(e,void 0,n,r),l=dV(t.unionWith,c,d);return F$([...o.value,...l])}if(eP(t))return F$([t]);if(t&&"unaggregated"!==t&&!oH(t))return F$(dV(t,c,d));const f=n.stack;if(f&&r===f.fieldChannel){if("normalize"===f.offset)return P$([[0,1]]);const data=n.requestDataName(J$.Main);return P$([{data:data,field:n.vgField(r,{suffix:"start"})},{data:data,field:n.vgField(r,{suffix:"end"})}])}const h=jF(r)&&OR(l)?function(e,t,n){if(!nH(n))return;const r=e.fieldDef(t),o=r.sort;if(mR(o))return{op:"min",field:LU(r,t),order:"ascending"};const{stack:l}=e,c=l?[...l.groupbyField?[l.groupbyField]:[],...l.stackBy.map(s=>s.fieldDef.field)]:void 0;if(hR(o)){const e=l&&!CE(c,o.field);return hV(o,e)}if(fR(o)){const{encoding:t,order:n}=o,r=e.fieldDef(t),{aggregate:d,field:f}=r,h=l&&!CE(c,f);if(PF(d)||NF(d))return hV({field:RR(r),order:n},h);if(zF(d)||!d)return hV({op:d,field:f,order:n},h)}else{if("descending"===o)return{op:"min",field:e.vgField(t),order:"descending"};if(CE(["ascending",void 0],o))return!0}return}(n,r,e):void 0;if(SR(l)){return P$(dV([l.datum],c,d))}const m=l;if("unaggregated"===t){const data=n.requestDataName(J$.Main),{field:e}=l;return P$([{data:data,field:RR({field:e,aggregate:"min"})},{data:data,field:RR({field:e,aggregate:"max"})}])}if(WF(m.bin)){if(nH(e))return P$("bin-ordinal"===e?[]:[{data:GE(h)?n.requestDataName(J$.Main):n.requestDataName(J$.Raw),field:n.vgField(r,aI(m,r)?{binSuffix:"range"}:{}),sort:!0!==h&&Object(le.H)(h)?h:{field:n.vgField(r,{}),op:"min"}}]);{const{bin:e}=m;if(WF(e)){const t=xq(n,m.field,e);return P$([new sV(()=>{const e=n.getSignalName(t);return`[${e}.start, ${e}.stop]`})])}return P$([{data:n.requestDataName(J$.Main),field:n.vgField(r,{})}])}}if(m.timeUnit&&CE(["time","utc"],e)&&wR(m,NV(n)?n.encoding[JC(r)]:void 0,n.markDef,n.config)){const data=n.requestDataName(J$.Main);return P$([{data:data,field:n.vgField(r)},{data:data,field:n.vgField(r,{suffix:"end"})}])}return P$(h?[{data:GE(h)?n.requestDataName(J$.Main):n.requestDataName(J$.Raw),field:n.vgField(r),sort:h}]:[{data:n.requestDataName(J$.Main),field:n.vgField(r)}])}function hV(e,t){const{op:n,field:r,order:o}=e;return Object.assign(Object.assign({op:null!=n?n:t?"sum":uR},r?{field:rC(r)}:{}),o?{order:o}:{})}function mV(e,t){var n;const r=e.component.scales[t],o=e.specifiedScales[t].domain,l=null===(n=e.fieldDef(t))||void 0===n?void 0:n.bin,c=oH(o)&&o,d=qF(l)&&VF(l.extent)&&l.extent;(c||d)&&r.set("selectionExtent",null!=c?c:d,!0)}function pV(e,t){const{aggregate:n,type:r}=e;return n?Object(le.J)(n)&&!BF[n]?{valid:!1,reason:L.unaggregateDomainWithNonSharedDomainOp(n)}:"quantitative"===r&&"log"===t?{valid:!1,reason:L.unaggregatedDomainWithLogScale(e)}:{valid:!0}:{valid:!1,reason:L.unaggregateDomainHasNoEffectForRawField(e)}}function gV(e,t,n,r){return e.explicit&&t.explicit&&XN(L.mergeConflictingDomainProperty(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function _V(e){if(nP(e)&&Object(le.J)(e.field))return e.field;if(function(e){return!Object(le.B)(e)&&("fields"in e&&!("data"in e))}(e)){let t;for(const n of e.fields)if(nP(n)&&Object(le.J)(n.field))if(t){if(t!==n.field)return XN(L.FACETED_INDEPENDENT_DIFFERENT_SOURCES),t}else t=n.field;return XN(L.FACETED_INDEPENDENT_SAME_FIELDS_DIFFERENT_SOURCES),t}if(function(e){return!Object(le.B)(e)&&("fields"in e&&"data"in e)}(e)){XN(L.FACETED_INDEPENDENT_SAME_SOURCE);const t=e.fields[0];return Object(le.J)(t)?t:void 0}}function yV(e,t){return function(e){const t=HE(e.map(e=>{if(nP(e)){const{sort:t}=e;return lV(e,["sort"])}return e}),AE),n=HE(e.map(e=>{if(nP(e)){const s=e.sort;return void 0===s||GE(s)||("op"in s&&"count"===s.op&&delete s.field,"ascending"===s.order&&delete s.order),s}}).filter(s=>void 0!==s),AE);if(0===t.length)return;if(1===t.length){const t=e[0];if(nP(t)&&n.length>0){let e=n[0];if(n.length>1)XN(L.MORE_THAN_ONE_SORT),e=!0;else if(Object(le.H)(e)&&"field"in e){const n=e.field;t.field===n&&(e=!e.order||{order:e.order})}return Object.assign(Object.assign({},t),{sort:e})}return t}const r=HE(n.map(s=>GE(s)||!("op"in s)||Object(le.J)(s.op)&&s.op in FF?s:(XN(L.domainSortDropped(s)),!0)),AE);let o;1===r.length?o=r[0]:r.length>1&&(XN(L.MORE_THAN_ONE_SORT),o=!0);const l=HE(e.map(e=>nP(e)?e.data:null),e=>e);if(1===l.length&&null!==l[0]){return Object.assign({data:l[0],fields:t.map(e=>e.field)},o?{sort:o}:{})}return Object.assign({fields:t},o?{sort:o}:{})}(e.component.scales[t].get("domains").map(t=>(nP(t)&&(t.data=e.lookupDataSource(t.data)),t)))}var bV=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};function vV(e){return qE(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const o=r.combine(),{name:l,type:c,selectionExtent:d,domains:f,range:h,reverse:m}=o,_=bV(o,["name","type","selectionExtent","domains","range","reverse"]),y=function(e,t,n,r){if(fF(n)){if(tP(e))return{step:{signal:t+"_step"}}}else if(Object(le.H)(e)&&nP(e))return Object.assign(Object.assign({},e),{data:r.lookupDataSource(e.data)});return e}(o.range,l,n,e),v=yV(e,n),x=d?function(e,t,n,r){const o=uU(e,t.param,t);return{signal:rH(n.get("type"))&&Object(le.B)(r)&&r[0]>r[1]?`isValid(${o}) && reverse(${o})`:o}}(e,d,r,v):null;return t.push(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:l,type:c},v?{domain:v}:{}),x?{domainRaw:x}:{}),{range:y}),void 0!==m?{reverse:m}:{}),_)),t},[])}class xV extends C${constructor(e,t){super({},{name:e}),this.merged=!1,this.setWithExplicit("type",t)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")||FE(this.get("domains"),e=>Object(le.B)(e)&&2===e.length&&e[0]<=0&&e[1]>=0)}}const MV=["range","scheme"];function wV(e){return"x"===e?"width":"y"===e?"height":void 0}function kV(e,t){const n=e.fieldDef(t);if(null==n?void 0:n.bin){const{bin:r,field:o}=n,l=wV(t),c=e.getName(l);if(Object(le.H)(r)&&r.binned&&void 0!==r.step)return new sV(()=>{const n=e.scaleName(t),o=`(domain("${n}")[1] - domain("${n}")[0]) / ${r.step}`;return`${e.getSignalName(c)} / (${o})`});if(WF(r)){const t=xq(e,o,r);return new sV(()=>{const n=e.getSignalName(t),r=`(${n}.stop - ${n}.start) / ${n}.step`;return`${e.getSignalName(c)} / (${r})`})}}}function LV(e,t){const n=t.specifiedScales[e],{size:r}=t,o=t.getScaleComponent(e).get("type");for(const r of MV)if(void 0!==n[r]){const l=gH(o,r),c=_H(e,r);if(l)if(c)XN(c);else switch(r){case"range":{const r=n.range;if(Object(le.B)(r)){if(fF(e))return F$(r.map(e=>{if("width"===e||"height"===e){const n=t.getName(e),r=t.getSignalName.bind(t);return sV.fromName(r,n)}return e}))}else if(Object(le.H)(r))return F$({data:t.requestDataName(J$.Main),field:r.field,sort:{op:"min",field:t.vgField(e)}});return F$(r)}case"scheme":return F$(DV(n[r]))}else XN(L.scalePropertyNotWorkWithScaleType(o,r,e))}if("x"===e||"y"===e){const t="x"===e?"width":"height",n=r[t];if(cB(n)){if(nH(o))return F$({step:n.step});XN(L.stepDropped(t))}}const{rangeMin:l,rangeMax:c}=n,d=function(e,t){const{size:n,config:r,mark:mark,encoding:o}=t,l=t.getSignalName.bind(t),{type:c}=XR(o[e]),d=t.getScaleComponent(e).get("type"),{domain:f,domainMid:h}=t.specifiedScales[e];switch(e){case"x":case"y":{if(CE(["point","band"],d))if("x"!==e||n.width){if("y"===e&&!n.height){const e=gB(r.view,"height");if(cB(e))return e}}else{const e=gB(r.view,"width");if(cB(e))return e}const o=wV(e),c=t.getName(o);return"y"===e&&rH(d)?[sV.fromName(l,c),0]:[0,sV.fromName(l,c)]}case"size":{const o=t.component.scales[e].get("zero"),l=function e(mark,t,n){if(t)return eP(t)?{signal:`${t.signal} ? 0 : ${e(mark,!1,n)}`}:0;switch(mark){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(L.incompatibleChannel("size",mark))}(mark,o,r),c=function(mark,e,t,n){const r={x:kV(t,"x"),y:kV(t,"y")};switch(mark){case"bar":case"tick":{if(void 0!==n.scale.maxBandSize)return n.scale.maxBandSize;const t=OV(e,r,n.view);return Object(le.G)(t)?t-1:new sV(()=>t.signal+" - 1")}case"line":case"trail":case"rule":return n.scale.maxStrokeWidth;case"text":return n.scale.maxFontSize;case"point":case"square":case"circle":{if(n.scale.maxSize)return n.scale.maxSize;const t=OV(e,r,n.view);return Object(le.G)(t)?Math.pow(.95*t,2):new sV(()=>`pow(0.95 * ${t.signal}, 2)`)}}throw new Error(L.incompatibleChannel("size",mark))}(mark,n,t,r);return aH(d)?function(e,t,n){const r=()=>{const r=fP(t),o=fP(e),l=`(${r} - ${o}) / (${n} - 1)`;return`sequence(${o}, ${r} + ${l}, ${l})`};return eP(t)?new sV(r):{signal:r()}}(l,c,function(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return void 0!==n&&Object(le.B)(n)?n.length+1:(XN(L.domainRequiredForThresholdScale(r)),3)}}(d,r,f,e)):[l,c]}case bC:return[0,2*Math.PI];case"angle":return[0,360];case yC:return[0,new sV(()=>`min(${t.getSignalName("width")},${t.getSignalName("height")})/2`)];case"strokeWidth":return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case"strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case kC:return"symbol";case xC:case MC:case wC:return"ordinal"===d?"nominal"===c?"category":"ordinal":void 0!==h?"diverging":"rect"===mark||"geoshape"===mark?"heatmap":"ramp";case"opacity":case"fillOpacity":case"strokeOpacity":return[r.scale.minOpacity,r.scale.maxOpacity]}throw new Error("Scale range undefined for channel "+e)}(e,t);return(void 0!==l||void 0!==c)&&gH(o,"rangeMin")&&Object(le.B)(d)&&2===d.length?F$([null!=l?l:d[0],null!=c?c:d[1]]):P$(d)}function DV(e){return function(e){return!Object(le.J)(e)&&!!e.name}(e)?Object.assign({scheme:e.name},YE(e,["name"])):{scheme:e}}function OV(e,t,n){const r=cB(e.width)?e.width.step:pB(n,"width"),o=cB(e.height)?e.height.step:pB(n,"height");return t.x||t.y?new sV(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:o].join(", ")})`):Math.min(r,o)}function jV(e,t){NV(e)?function(e,t){const n=e.component.scales,{config:r,encoding:o,markDef:l,specifiedScales:c}=e;for(const d of qE(n)){const f=c[d],h=n[d],m=e.getScaleComponent(d),_=XR(o[d]),y=f[t],v=m.get("type"),x=m.get("padding"),M=m.get("paddingInner"),w=gH(v,t),k=_H(d,t);if(void 0!==y&&(w?k&&XN(k):XN(L.scalePropertyNotWorkWithScaleType(v,t,d))),w&&void 0===k)if(void 0!==y){const e=_.timeUnit,n=_.type;switch(t){case"domainMax":case"domainMin":ZN(f[t])||"temporal"===n||e?h.set(t,{signal:rI(f[t],{type:n,timeUnit:e})},!0):h.set(t,f[t],!0);break;default:h.copyKeyFromObject(t,f)}}else{const n=t in SV?SV[t]({model:e,channel:d,fieldOrDatumDef:_,scaleType:v,scalePadding:x,scalePaddingInner:M,domain:f.domain,markDef:l,config:r}):r.scale[t];void 0!==n&&h.set(t,n,!1)}}}(e,t):TV(e,t)}const SV={bins:({model:e,fieldOrDatumDef:t})=>OR(t)?function(e,t){const n=t.bin;if(WF(n)){const r=xq(e,t.field,n);return new sV(()=>e.getSignalName(r))}if(UF(n)&&qF(n)&&void 0!==n.step)return{step:n.step};return}(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>function(e,t){if(CE([xC,MC,wC],e)&&"nominal"!==t)return"hcl";return}(e,t.type),nice:({scaleType:e,channel:t,domain:n,fieldOrDatumDef:r})=>function(e,t,n,r){var o;if((null===(o=GR(r))||void 0===o?void 0:o.bin)||Object(le.B)(n)||CE([zz,Hz],e))return;return t in cF||void 0}(e,t,n,r),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:o})=>function(e,t,n,r,o,l){if(e in cF){if(iH(t)){if(void 0!==n.continuousPadding)return n.continuousPadding;const{type:t,orient:c}=o;if("bar"===t&&(!OR(r)||!r.bin&&!r.timeUnit)&&("vertical"===c&&"x"===e||"horizontal"===c&&"y"===e))return l.continuousBandSize}if(t===$z)return n.pointPadding}return}(e,t,o.scale,n,r,o.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,config:r})=>function(e,t,mark,n){if(void 0!==e)return;if(t in cF){const{bandPaddingInner:e,barBandPaddingInner:t,rectBandPaddingInner:r}=n;return sC(e,"bar"===mark?t:r)}return}(e,t,n.type,r.scale),paddingOuter:({scalePadding:e,channel:t,scaleType:n,markDef:r,scalePaddingInner:o,config:l})=>function(e,t,n,mark,r,o){if(void 0!==e)return;if(t in cF&&n===Wz){const{bandPaddingOuter:e}=o;return sC(e,eP(r)?{signal:r.signal+"/2"}:r/2)}return}(e,t,n,r.type,o,l.scale),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>function(e,t,n,r){if("x"===n&&void 0!==r.xReverse)return rH(e)&&"descending"===t?eP(r.xReverse)?{signal:"!"+r.xReverse.signal}:!r.xReverse:r.xReverse;if(rH(e)&&"descending"===t)return!0;return}(t,OR(e)?e.sort:void 0,n,r.scale),zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:o})=>function(e,t,n,r,o){if(n&&"unaggregated"!==n&&rH(o)){if(Object(le.B)(n)){const e=n[0],t=n[n.length-1];if(e<=0&&t>=0)return!0}return!1}if("size"===e&&"quantitative"===t.type&&!aH(o))return!0;if((!OR(t)||!t.bin)&&CE([...dF,...mF],e)){const{orient:t,type:n}=r;return!CE(["bar","area","line","trail"],n)||!("horizontal"===t&&"y"===e||"vertical"===t&&"x"===e)}return!1}(e,t,n,r,o)};function YV(e){NV(e)?function(e){const t=e.component.scales;for(const n of OF){const r=t[n];if(!r)continue;const o=LV(n,e);r.setWithExplicit("range",o)}}(e):TV(e,"range")}function TV(e,t){const n=e.component.scales;for(const n of e.children)"range"===t?YV(n):jV(n,t);for(const r of qE(n)){let o;for(const n of e.children){const e=n.component.scales[r];if(e){o=H$(o,e.getWithExplicit(t),t,"scale",N$((e,n)=>{switch(t){case"range":return e.step&&n.step?e.step-n.step:0}return 0}))}}n[r].setWithExplicit(t,o)}}function AV(e,t,n,mark){const r=function(e,t,mark){var n;switch(t.type){case"nominal":case"ordinal":if(YC(e)||"discrete"===EF(e))return"shape"===e&&"ordinal"===t.type&&XN(L.discreteChannelCannotEncode(e,"ordinal")),"ordinal";if(e in cF){if(CE(["rect","bar","image","rule"],mark.type))return"band"}else if("arc"===mark.type&&e in hF)return"band";return RH(mark[GC(e)])||PR(t)&&(null===(n=t.axis)||void 0===n?void 0:n.tickBand)?"band":"point";case"temporal":return YC(e)?"time":"discrete"===EF(e)?(XN(L.discreteChannelCannotEncode(e,"temporal")),"ordinal"):OR(t)&&t.timeUnit&&hz(t.timeUnit).utc?"utc":"time";case"quantitative":return YC(e)?OR(t)&&WF(t.bin)?"bin-ordinal":"linear":"discrete"===EF(e)?(XN(L.discreteChannelCannotEncode(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(L.invalidFieldType(t.type))}(t,n,mark),{type:o}=e;return jF(t)?void 0!==o?function(e,t){if(!jF(e))return!1;switch(e){case"x":case"y":case bC:case yC:return iH(t)||CE(["band","point"],t);case"size":case"strokeWidth":case"opacity":case"fillOpacity":case"strokeOpacity":case"angle":return iH(t)||aH(t)||CE(["band","point","ordinal"],t);case xC:case MC:case wC:return"band"!==t;case"strokeDash":case kC:return"ordinal"===t||aH(t)}}(t,o)?OR(n)&&(l=o,c=n.type,!(CE([jz,Yz],c)?void 0===l||nH(l):c===Sz?CE([zz,Hz,void 0],l):c!==Oz||CE([Cz,Fz,Pz,Nz,Rz,Iz,Bz,Ez,void 0],l)))?(XN(L.scaleTypeNotWorkWithFieldDef(o,r)),r):o:(XN(L.scaleTypeNotWorkWithChannel(t,o,r)),r):r:null;var l,c}function EV(e){NV(e)?e.component.scales=function(e){const{encoding:t,mark:mark,markDef:n}=e;return OF.reduce((r,o)=>{const l=XR(t[o]);if(l&&mark===AH&&o===kC&&l.type===Tz)return r;let c=l&&l.scale;if(l&&null!==c&&!1!==c){null!=c||(c={});const t=AV(c,o,l,n);r[o]=new xV(e.scaleName(""+o,!0),{value:t,explicit:c.type===t})}return r},{})}(e):e.component.scales=function(e){var t,n;const r=e.component.scales={},o={},l=e.component.resolve;for(const r of e.children){EV(r);for(const c of qE(r.component.scales))if(null!==(t=(n=l.scale)[c])&&void 0!==t||(n[c]=VU(c,e)),"shared"===l.scale[c]){const e=o[c],t=r.component.scales[c].getWithExplicit("type");e?qz(e.value,t.value)?o[c]=H$(e,t,"type","scale",CV):(l.scale[c]="independent",delete o[c]):o[c]=t}}for(const t of qE(o)){const n=e.scaleName(t,!0),l=o[t];r[t]=new xV(n,l);for(const r of e.children){const e=r.component.scales[t];e&&(r.renameScale(e.get("name"),n),e.merged=!0)}}return r}(e)}const CV=N$((e,t)=>Jz(e)-Jz(t));var FV=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};class PV{constructor(){this.nameMap={}}rename(e,t){this.nameMap[e]=t}has(e){return void 0!==this.nameMap[e]}get(e){for(;this.nameMap[e]&&e!==this.nameMap[e];)e=this.nameMap[e];return e}}function NV(e){return"unit"===(null==e?void 0:e.type)}function zV(e){return"facet"===(null==e?void 0:e.type)}function HV(e){return"concat"===(null==e?void 0:e.type)}function RV(e){return"layer"===(null==e?void 0:e.type)}class IV{constructor(e,t,n,r,o,l,view){var c,d;this.type=t,this.parent=n,this.config=o,this.correctDataNames=mark=>(mark.from&&mark.from.data&&(mark.from.data=this.lookupDataSource(mark.from.data)),mark.from&&mark.from.facet&&mark.from.facet.data&&(mark.from.facet.data=this.lookupDataSource(mark.from.facet.data)),mark),this.parent=n,this.config=o,this.view=XF(view),this.name=null!==(c=e.name)&&void 0!==c?c:r,this.title=QF(e.title)?{text:e.title}:e.title?XF(e.title):void 0,this.scaleNameMap=n?n.scaleNameMap:new PV,this.projectionNameMap=n?n.projectionNameMap:new PV,this.signalNameMap=n?n.signalNameMap:new PV,this.data=e.data,this.description=e.description,this.transforms=(null!==(d=e.transform)&&void 0!==d?d:[]).map(e=>n$(e)?{filter:DE(e.filter,Lz)}:e),this.layout="layer"===t||"unit"===t?{}:function(e,t,n){var r,o;const l=n[t],c={},{spacing:d,columns:f}=l;void 0!==d&&(c.spacing=d),void 0!==f&&(_R(e)&&!pR(e.facet)||sB(e))&&(c.columns=f),lB(e)&&(c.columns=1);for(const t of fB)if(void 0!==e[t])if("spacing"===t){const n=e[t];c[t]=Object(le.G)(n)?n:{row:null!==(r=n.row)&&void 0!==r?r:d,column:null!==(o=n.column)&&void 0!==o?o:d}}else c[t]=e[t];return c}(e,t,o),this.component={data:{sources:n?n.component.data.sources:[],outputNodes:n?n.component.data.outputNodes:{},outputNodeRefCounts:n?n.component.data.outputNodeRefCounts:{},isFaceted:_R(e)||n&&n.component.data.isFaceted&&void 0===e.data},layoutSize:new C$,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},l?jE(l):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){!function(e,{ignoreRange:t}={}){EV(e),uV(e);for(const t of pH)jV(e,t);t||YV(e)}(this)}parseProjection(){yq(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){sq(this)}assembleGroupStyle(){var e,t;if("unit"===this.type||"layer"===this.type)return null!==(t=null===(e=this.view)||void 0===e?void 0:e.style)&&void 0!==t?t:"cell"}assembleEncodeFromView(view){const{style:e}=view,t=FV(view,["style"]),n={};for(const e of qE(t)){const r=t[e];void 0!==r&&(n[e]=cP(r))}return n}assembleGroupEncodeEntry(e){let t={};return this.view&&(t=this.assembleEncodeFromView(this.view)),e||(this.description&&(t.description=cP(this.description)),"unit"!==this.type&&"layer"!==this.type)?UE(t)?void 0:t:Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!=t?t:{})}assembleLayout(){if(!this.layout)return;const e=this.layout,{spacing:t}=e,n=FV(e,["spacing"]),{component:component,config:r}=this,o=function(e,t){const n={};for(const r of AC){const o=e[r];if(null==o?void 0:o.facetFieldDef){const{titleAnchor:e,titleOrient:l}=jU(["titleAnchor","titleOrient"],o.facetFieldDef.header,t,r),c=DU(r,l),d=HU(e,c);void 0!==d&&(n[c]=d)}}return UE(n)?void 0:n}(component.layoutHeaders,r);return Object.assign(Object.assign(Object.assign({padding:t},this.assembleDefaultLayout()),n),o?{titleBand:o}:{})}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:e}=this.component;let t=[];for(const n of AC)e[n].title&&t.push(TU(this,n));for(const e of SU)t=t.concat(CU(this,e));return t}assembleAxes(){return function(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(a=>hU(a,"grid",t)),...r.map(a=>hU(a,"grid",t)),...n.map(a=>hU(a,"main",t)),...r.map(a=>hU(a,"main",t))].filter(a=>a)}(this.component.axes,this.config)}assembleLegends(){return hq(this)}assembleProjections(){return mq(this)}assembleTitle(){var e,t,n;const r=null!==(e=this.title)&&void 0!==e?e:{},{encoding:o}=r,l=FV(r,["encoding"]),title=Object.assign(Object.assign(Object.assign({},KF(this.config.title).nonMark),l),o?{encode:{update:o}}:{});if(title.text)return CE(["unit","layer"],this.type)?CE(["middle",void 0],title.anchor)&&(null!==(t=title.frame)&&void 0!==t||(title.frame="group")):null!==(n=title.anchor)&&void 0!==n||(title.anchor="start"),UE(title)?void 0:title}assembleGroup(e=[]){const t={};(e=e.concat(this.assembleSignals())).length>0&&(t.signals=e);const n=this.assembleLayout();n&&(t.layout=n),t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const r=!this.parent||zV(this.parent)?function e(t){return RV(t)||HV(t)?t.children.reduce((t,n)=>t.concat(e(n)),vV(t)):vV(t)}(this):[];r.length>0&&(t.scales=r);const o=this.assembleAxes();o.length>0&&(t.axes=o);const l=this.assembleLegends();return l.length>0&&(t.legends=l),t}getName(text){return XE((this.name?this.name+"_":"")+text)}getDataName(e){return this.getName(J$[e].toLowerCase())}requestDataName(e){const t=this.getDataName(e),n=this.component.data.outputNodeRefCounts;return n[t]=(n[t]||0)+1,t}getSizeSignalRef(e){if(zV(this.parent)){const t=pF(UU(e)),n=this.component.scales[t];if(n&&!n.merged){const e=n.get("type"),r=n.get("range");if(nH(e)&&tP(r)){const e=n.get("name"),r=_V(yV(this,t));if(r){return{signal:WU(e,n,RR({aggregate:"distinct",field:r},{expr:"datum"}))}}return XN(L.unknownField(t)),null}}}return{signal:this.signalNameMap.get(this.getName(e))}}lookupDataSource(e){const t=this.component.data.outputNodes[e];return t?t.getSource():e}getSignalName(e){return this.signalNameMap.get(e)}renameSignal(e,t){this.signalNameMap.rename(e,t)}renameScale(e,t){this.scaleNameMap.rename(e,t)}renameProjection(e,t){this.projectionNameMap.rename(e,t)}scaleName(e,t){return t?this.getName(e):$C(e)&&jF(e)&&this.component.scales[e]||this.scaleNameMap.has(this.getName(e))?this.scaleNameMap.get(this.getName(e)):void 0}projectionName(e){return e?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}getScaleComponent(e){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const t=this.component.scales[e];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(e):void 0}getSelectionComponent(e,t){let n=this.component.selection[e];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(e,t)),!n)throw new Error(L.selectionNotFound(t));return n}hasAxisOrientSignalRef(){var e,t;return(null===(e=this.component.axes.x)||void 0===e?void 0:e.some(a=>a.hasOrientSignalRef()))||(null===(t=this.component.axes.y)||void 0===t?void 0:t.some(a=>a.hasOrientSignalRef()))}}class BV extends IV{vgField(e,t={}){const n=this.fieldDef(e);if(n)return RR(n,t)}reduceFieldDef(e,t){return function(e,t,n,r){return e?qE(e).reduce((n,o)=>{const map=e[o];return Object(le.B)(map)?map.reduce((e,n)=>t.call(r,e,n,o),n):t.call(r,n,map,o)},n):n}(this.getMapping(),(t,n,r)=>{const o=GR(n);return o?e(t,o,r):t},t)}forEachFieldDef(e,t){MI(this.getMapping(),(t,n)=>{const r=GR(t);r&&e(r,n)},t)}}var $V=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};class WV extends eW{constructor(e,t){var n,r,o;super(e),this.transform=t,this.transform=jE(t);const l=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(r=l[0])&&void 0!==r?r:"value",null!==(o=l[1])&&void 0!==o?o:"density"]}clone(){return new WV(null,jE(this.transform))}dependentFields(){var e;return new Set([this.transform.density,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"DensityTransform "+AE(this.transform)}assemble(){const e=this.transform,{density:t}=e,n=$V(e,["density"]);return Object.assign({type:"kde",field:t},n)}}class UV extends eW{constructor(e,filter){super(e),this.filter=filter}clone(){return new UV(null,Object.assign({},this.filter))}static make(e,t){const{config:n,mark:mark,markDef:r}=t;if("filter"!==mP("invalid",r,n))return null;const filter=t.reduceFieldDef((e,n,r)=>{const o=jF(r)&&t.getScaleComponent(r);if(o){rH(o.get("type"))&&"count"!==n.aggregate&&!EH(mark)&&(e[n.field]=n)}return e},{});return qE(filter).length?new UV(e,filter):null}dependentFields(){return new Set(qE(this.filter))}producedFields(){return new Set}hash(){return"FilterInvalid "+AE(this.filter)}assemble(){const e=qE(this.filter).reduce((e,t)=>{const n=this.filter[t],r=RR(n,{expr:"datum"});return null!==n&&("temporal"===n.type?e.push(`(isDate(${r}) || (isValid(${r}) && isFinite(+${r})))`):"quantitative"===n.type&&(e.push(`isValid(${r})`),e.push(`isFinite(+${r})`))),e},[]);return e.length>0?{type:"filter",expr:e.join(" && ")}:null}}class qV extends eW{constructor(e,t){super(e),this.transform=t,this.transform=jE(t);const{flatten:n,as:r=[]}=this.transform;this.transform.as=n.map((e,i)=>{var t;return null!==(t=r[i])&&void 0!==t?t:e})}clone(){return new qV(this.parent,jE(this.transform))}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return"FlattenTransform "+AE(this.transform)}assemble(){const{flatten:e,as:t}=this.transform;return{type:"flatten",fields:e,as:t}}}class VV extends eW{constructor(e,t){var n,r,o;super(e),this.transform=t,this.transform=jE(t);const l=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(r=l[0])&&void 0!==r?r:"key",null!==(o=l[1])&&void 0!==o?o:"value"]}clone(){return new VV(null,jE(this.transform))}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return"FoldTransform "+AE(this.transform)}assemble(){const{fold:e,as:t}=this.transform;return{type:"fold",fields:e,as:t}}}class JV extends eW{constructor(e,t,n,r){super(e),this.fields=t,this.geojson=n,this.signal=r}clone(){return new JV(null,jE(this.fields),this.geojson,this.signal)}static parseAll(e,t){if(t.component.projection&&!t.component.projection.isFit)return e;let n=0;for(const r of[["longitude","latitude"],["longitude2","latitude2"]]){const o=r.map(e=>{const n=XR(t.encoding[e]);return OR(n)?n.field:SR(n)?{expr:""+n.datum}:CR(n)?{expr:""+n.value}:void 0});(o[0]||o[1])&&(e=new JV(e,o,null,t.getName("geojson_"+n++)))}if(t.channelHasField(kC)){const r=t.typedFieldDef(kC);r.type===Tz&&(e=new JV(e,null,r.field,t.getName("geojson_"+n++)))}return e}dependentFields(){var e;const t=(null!==(e=this.fields)&&void 0!==e?e:[]).filter(le.J);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${AE(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],Object.assign(Object.assign(Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{signal:this.signal})]}}class GV extends eW{constructor(e,t,n,r){super(e),this.projection=t,this.fields=n,this.as=r}clone(){return new GV(null,this.projection,jE(this.fields),jE(this.as))}static parseAll(e,t){if(!t.projectionName())return e;for(const n of[["longitude","latitude"],["longitude2","latitude2"]]){const r=n.map(e=>{const n=XR(t.encoding[e]);return OR(n)?n.field:SR(n)?{expr:""+n.datum}:CR(n)?{expr:""+n.value}:void 0}),o="longitude2"===n[0]?"2":"";(r[0]||r[1])&&(e=new GV(e,t.projectionName(),r,[t.getName("x"+o),t.getName("y"+o)]))}return e}dependentFields(){return new Set(this.fields.filter(le.J))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${AE(this.fields)} ${AE(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class XV extends eW{constructor(e,t){super(e),this.transform=t}clone(){return new XV(null,jE(this.transform))}dependentFields(){var e;return new Set([this.transform.impute,this.transform.key,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(e){const{start:t=0,stop:n,step:r}=e;return{signal:`sequence(${[t,n,...r?[r]:[]].join(",")})`}}static makeFromTransform(e,t){return new XV(e,t)}static makeFromEncoding(e,t){const n=t.encoding,r=n.x,o=n.y;if(OR(r)&&OR(o)){const l=r.impute?r:o.impute?o:void 0;if(void 0===l)return;const c=r.impute?o:o.impute?r:void 0,{method:d,value:f,frame:h,keyvals:m}=l.impute,_=wI(t.mark,n);return new XV(e,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:l.field,key:c.field},d?{method:d}:{}),void 0!==f?{value:f}:{}),h?{frame:h}:{}),void 0!==m?{keyvals:m}:{}),_.length?{groupby:_}:{}))}return null}hash(){return"Impute "+AE(this.transform)}assemble(){const{impute:e,key:t,keyvals:n,method:r,groupby:o,value:l,frame:c=[null,null]}=this.transform,d=Object.assign(Object.assign(Object.assign(Object.assign({type:"impute",field:e,key:t},n?{keyvals:(f=n,void 0!==(null==f?void 0:f.stop)?this.processSequence(n):n)}:{}),{method:"value"}),o?{groupby:o}:{}),{value:r&&"value"!==r?null:l});var f;if(r&&"value"!==r){return[d,Object.assign({type:"window",as:[`imputed_${e}_value`],ops:[r],fields:[e],frame:c,ignorePeers:!1},o?{groupby:o}:{}),{type:"formula",expr:`datum.${e} === null ? datum.imputed_${e}_value : datum.${e}`,as:e}]}return[d]}}var ZV=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};class KV extends eW{constructor(e,t){var n,r,o;super(e),this.transform=t,this.transform=jE(t);const l=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(r=l[0])&&void 0!==r?r:t.on,null!==(o=l[1])&&void 0!==o?o:t.loess]}clone(){return new KV(null,jE(this.transform))}dependentFields(){var e;return new Set([this.transform.loess,this.transform.on,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"LoessTransform "+AE(this.transform)}assemble(){const e=this.transform,{loess:t,on:n}=e,r=ZV(e,["loess","on"]);return Object.assign({type:"loess",x:n,y:t},r)}}class QV extends eW{constructor(e,t,n){super(e),this.transform=t,this.secondary=n}clone(){return new QV(null,jE(this.transform),this.secondary)}static make(e,t,n,r){const o=t.component.data.sources,{from:l}=n;let c=null;if(function(e){return"data"in e}(l)){let e=pJ(l.data,o);e||(e=new Cq(l.data),o.push(e));const n=t.getName("lookup_"+r);c=new tW(e,n,J$.Lookup,t.component.data.outputNodeRefCounts),t.component.data.outputNodes[n]=c}else if(function(e){return"param"in e}(l)){const e=l.param;let r;n=Object.assign({as:e},n);try{r=t.getSelectionComponent(XE(e),e)}catch(t){throw new Error(L.cannotLookupVariableParameter(e))}if(c=r.materialized,!c)throw new Error(L.noSameUnitLookup(e))}return new QV(e,n,c.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Object(le.i)(this.transform.as):this.transform.from.fields)}hash(){return"Lookup "+AE({transform:this.transform,secondary:this.secondary})}assemble(){let e;if(this.transform.from.fields)e=Object.assign({values:this.transform.from.fields},this.transform.as?{as:Object(le.i)(this.transform.as)}:{});else{let t=this.transform.as;Object(le.J)(t)||(XN(L.NO_FIELDS_NEEDS_AS),t="_lookup"),e={as:[t]}}return Object.assign(Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},e),this.transform.default?{default:this.transform.default}:{})}}var eJ=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};class tJ extends eW{constructor(e,t){var n,r,o;super(e),this.transform=t,this.transform=jE(t);const l=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(r=l[0])&&void 0!==r?r:"prob",null!==(o=l[1])&&void 0!==o?o:"value"]}clone(){return new tJ(null,jE(this.transform))}dependentFields(){var e;return new Set([this.transform.quantile,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"QuantileTransform "+AE(this.transform)}assemble(){const e=this.transform,{quantile:t}=e,n=eJ(e,["quantile"]);return Object.assign({type:"quantile",field:t},n)}}var nJ=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};class rJ extends eW{constructor(e,t){var n,r,o;super(e),this.transform=t,this.transform=jE(t);const l=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(r=l[0])&&void 0!==r?r:t.on,null!==(o=l[1])&&void 0!==o?o:t.regression]}clone(){return new rJ(null,jE(this.transform))}dependentFields(){var e;return new Set([this.transform.regression,this.transform.on,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"RegressionTransform "+AE(this.transform)}assemble(){const e=this.transform,{regression:t,on:n}=e,r=nJ(e,["regression","on"]);return Object.assign({type:"regression",x:n,y:t},r)}}class iJ extends eW{constructor(e,t){super(e),this.transform=t}clone(){return new iJ(null,jE(this.transform))}addDimensions(e){var t;this.transform.groupby=HE((null!==(t=this.transform.groupby)&&void 0!==t?t:[]).concat(e),e=>e)}producedFields(){}dependentFields(){var e;return new Set([this.transform.pivot,this.transform.value,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}hash(){return"PivotTransform "+AE(this.transform)}assemble(){const{pivot:e,value:t,groupby:n,limit:r,op:o}=this.transform;return Object.assign(Object.assign(Object.assign({type:"pivot",field:e,value:t},void 0!==r?{limit:r}:{}),void 0!==o?{op:o}:{}),void 0!==n?{groupby:n}:{})}}class aJ extends eW{constructor(e,t){super(e),this.transform=t}clone(){return new aJ(null,jE(this.transform))}dependentFields(){return new Set}producedFields(){return new Set}hash(){return"SampleTransform "+AE(this.transform)}assemble(){return{type:"sample",size:this.transform.sample}}}function oJ(data){let e=0;return function t(n,r){var o;if(n instanceof Cq&&!n.isGenerator&&!I$(n.data)){data.push(r);r={name:null,source:r.name,transform:[]}}if(n instanceof Yq&&(n.parent instanceof Cq&&!r.source?(r.format=Object.assign(Object.assign({},null!==(o=r.format)&&void 0!==o?o:{}),{parse:n.assembleFormatParse()}),r.transform.push(...n.assembleTransforms(!0))):r.transform.push(...n.assembleTransforms())),n instanceof Dq)return r.name||(r.name="data_"+e++),!r.source||r.transform.length>0?(data.push(r),n.data=r.name):n.data=r.source,void data.push(...n.assemble());if((n instanceof Aq||n instanceof Eq||n instanceof UV||n instanceof oU||n instanceof kU||n instanceof GV||n instanceof Lq||n instanceof QV||n instanceof tV||n instanceof Qq||n instanceof VV||n instanceof qV||n instanceof WV||n instanceof KV||n instanceof tJ||n instanceof rJ||n instanceof Tq||n instanceof aJ||n instanceof iJ)&&r.transform.push(n.assemble()),(n instanceof wq||n instanceof rW||n instanceof XV||n instanceof eV||n instanceof JV)&&r.transform.push(...n.assemble()),n instanceof tW)if(r.source&&0===r.transform.length)n.setSource(r.source);else if(n.parent instanceof tW)n.setSource(r.name);else if(r.name||(r.name="data_"+e++),n.setSource(r.name),1===n.numChildren()){data.push(r);r={name:null,source:r.name,transform:[]}}switch(n.numChildren()){case 0:n instanceof tW&&(!r.source||r.transform.length>0)&&data.push(r);break;case 1:t(n.children[0],r);break;default:{r.name||(r.name="data_"+e++);let source=r.name;!r.source||r.transform.length>0?data.push(r):source=r.source;for(const e of n.children){t(e,{name:null,source:source,transform:[]})}break}}}}function sJ(e,t){var n;const{facet:r,config:o,child:l,component:component}=e;if(e.channelHasField(t)){const c=r[t],d=OU("title",null,o,t);let title=UR(c,o,{allowDisabling:!0,includeDefault:void 0===d||!!d});l.component.layoutHeaders[t].title&&(title=Object(le.B)(title)?title.join(", "):title,title+=" / "+l.component.layoutHeaders[t].title,l.component.layoutHeaders[t].title=null);const f=OU("labelOrient",c.header,o,t),h=null!==c.header&&sC(null===(n=c.header)||void 0===n?void 0:n.labels,o.header.labels,!0),m=CE(["bottom","right"],f)?"footer":"header";component.layoutHeaders[t]={title:null!==c.header?title:null,facetFieldDef:c,[m]:"facet"===t?[]:[lJ(e,t,h)]}}}function lJ(e,t,n){const r="row"===t?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function uJ(e,t){var n;const{child:r}=e;if(r.component.axes[t]){const{layoutHeaders:l,resolve:c}=e.component;if(c.axis[t]=JU(c,t),"shared"===c.axis[t]){const c="x"===t?"column":"row",d=l[c];for(const l of r.component.axes[t]){const t="top"===(o=l.get("orient"))||"left"===o||eP(o)?"header":"footer";null!==(n=d[t])&&void 0!==n||(d[t]=[lJ(e,c,!1)]);const r=hU(l,"main",e.config,{header:!0});r&&d[t][0].axes.push(r),l.mainExtracted=!0}}}var o}function cJ(e){for(const t of e.children)t.parseLayoutSize()}function dJ(e,t){var n;const r=UU(t),o=pF(r),l=e.component.resolve,c=e.component.layoutSize;let d;for(const t of e.children){const c=t.component.layoutSize.getWithExplicit(r),f=null!==(n=l.scale[o])&&void 0!==n?n:VU(o,e);if("independent"===f&&"step"===c.value){d=void 0;break}if(d){if("independent"===f&&d.value!==c.value){d=void 0;break}d=H$(d,c,r,"")}else d=c}if(d){for(const n of e.children)e.renameSignal(n.getName(r),e.getName(t)),n.component.layoutSize.set(r,"merged",!1);c.setWithExplicit(t,d)}else c.setWithExplicit(t,{explicit:!1,value:void 0})}function fJ(e,t){const n="width"===t?"x":"y",r=e.config,o=e.getScaleComponent(n);if(o){const e=o.get("type"),n=o.get("range");if(nH(e)){const e=gB(r.view,t);return tP(n)||cB(e)?"step":e}return mB(r.view,t)}if(e.hasProjection||"arc"===e.mark)return mB(r.view,t);{const e=gB(r.view,t);return cB(e)?e.step:e}}function hJ(e,t,n){return RR(t,Object.assign({suffix:"by_"+RR(e)},null!=n?n:{}))}class mJ extends BV{constructor(e,t,n,r){super(e,"facet",t,n,r,e.resolve),this.child=FJ(e.spec,this,this.getName("child"),void 0,r),this.children=[this.child],this.facet=this.initFacet(e.facet)}initFacet(e){if(!pR(e))return{facet:this.initFacetFieldDef(e,"facet")};const t=qE(e),n={};for(const r of t){if(![gC,_C].includes(r)){XN(L.incompatibleChannel(r,"facet"));break}const t=e[r];if(void 0===t.field){XN(L.emptyFieldDef(t,r));break}n[r]=this.initFacetFieldDef(t,r)}return n}initFacetFieldDef(e,t){const n=QR(e,t);return n.header?n.header=XF(n.header):null===n.header&&(n.header=null),n}channelHasField(e){return!!this.facet[e]}fieldDef(e){return this.facet[e]}parseData(){this.component.data=gJ(this),this.child.parseData()}parseLayoutSize(){cJ(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),function(e){for(const t of AC)sJ(e,t);uJ(e,"x"),uJ(e,"y")}(this)}assembleSelectionTopLevelSignals(e){return this.child.assembleSelectionTopLevelSignals(e)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(data){return this.child.assembleSelectionData(data)}getHeaderLayoutMixins(){var e,t,n;const r={};for(const o of AC)for(const l of YU){const c=this.component.layoutHeaders[o],d=c[l],{facetFieldDef:f}=c;if(f){const t=OU("titleOrient",f.header,this.config,o);if(["right","bottom"].includes(t)){const n=DU(o,t);null!==(e=r.titleAnchor)&&void 0!==e||(r.titleAnchor={}),r.titleAnchor[n]="end"}}if(null==d?void 0:d[0]){const e="row"===o?"height":"width",d="header"===l?"headerBand":"footerBand";"facet"===o||this.child.component.layoutSize.get(e)||(null!==(t=r[d])&&void 0!==t||(r[d]={}),r[d][o]=.5),c.title&&(null!==(n=r.offset)&&void 0!==n||(r.offset={}),r.offset["row"===o?"rowTitle":"columnTitle"]=10)}}return r}assembleDefaultLayout(){const{column:e,row:t}=this.facet,n=e?this.columnDistinctSignal():t?1:void 0;let r="all";return(t||"independent"!==this.component.resolve.scale.x)&&(e||"independent"!==this.component.resolve.scale.y)||(r="none"),Object.assign(Object.assign(Object.assign({},this.getHeaderLayoutMixins()),n?{columns:n}:{}),{bounds:"full",align:r})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof mJ)){return{signal:`length(data('${this.getName("column_domain")}'))`}}}assembleGroup(e){return this.parent&&this.parent instanceof mJ?Object.assign(Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:RR(this.facet.column,{prefix:"distinct"})}}}}:{}),super.assembleGroup(e)):super.assembleGroup(e)}getCardinalityAggregateForChild(){const e=[],t=[],n=[];if(this.child instanceof mJ){if(this.child.channelHasField("column")){const r=RR(this.child.facet.column);e.push(r),t.push("distinct"),n.push("distinct_"+r)}}else for(const r of dF){const o=this.child.component.scales[r];if(o&&!o.merged){const l=o.get("type"),c=o.get("range");if(nH(l)&&tP(c)){const o=_V(yV(this.child,r));o?(e.push(o),t.push("distinct"),n.push("distinct_"+o)):XN(L.unknownField(r))}}}return{fields:e,ops:t,as:n}}assembleFacet(){const{name:e,data:data}=this.component.data.facetRoot,{row:t,column:n}=this.facet,{fields:r,ops:o,as:l}=this.getCardinalityAggregateForChild(),c=[];for(const e of AC){const d=this.facet[e];if(d){c.push(RR(d));const{bin:f,sort:h}=d;if(WF(f)&&c.push(RR(d,{binSuffix:"end"})),hR(h)){const{field:e,op:c=uR}=h,f=hJ(d,h);t&&n?(r.push(f),o.push("max"),l.push(f)):(r.push(e),o.push(c),l.push(f))}else if(Object(le.B)(h)){const t=LU(d,e);r.push(t),o.push("max"),l.push(t)}}}const d=!!t&&!!n;return Object.assign({name:e,data:data,groupby:c},d||r.length>0?{aggregate:Object.assign(Object.assign({},d?{cross:d}:{}),r.length?{fields:r,ops:o,as:l}:{})}:{})}facetSortFields(e){const{facet:t}=this,n=t[e];return n?hR(n.sort)?[hJ(n,n.sort,{expr:"datum"})]:Object(le.B)(n.sort)?[LU(n,e,{expr:"datum"})]:[RR(n,{expr:"datum"})]:[]}facetSortOrder(e){const{facet:t}=this,n=t[e];if(n){const{sort:e}=n;return[(hR(e)?e.order:!Object(le.B)(e)&&e)||"ascending"]}return[]}assembleLabelTitle(){var e;const{facet:t,config:n}=this;if(t.facet)return PU(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const o of SU)if(t[o]){const l=OU("labelOrient",null===(e=t[o])||void 0===e?void 0:e.header,n,o);if(r[o].includes(l))return PU(t[o],o,n)}}assembleMarks(){const{child:e}=this,data=function(e){const data=[],t=oJ(data);for(const n of e.children)t(n,{source:e.name,name:null,transform:[]});return data}(this.component.data.facetRoot),t=e.assembleGroupEncodeEntry(!1),title=this.assembleLabelTitle()||e.assembleTitle(),style=e.assembleGroupStyle();return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:this.getName("cell"),type:"group"},title?{title:title}:{}),style?{style:style}:{}),{from:{facet:this.assembleFacet()},sort:{field:AC.map(e=>this.facetSortFields(e)).flat(),order:AC.map(e=>this.facetSortOrder(e)).flat()}}),data.length>0?{data:data}:{}),t?{encode:{update:t}}:{}),e.assembleGroup(function(e,t){if(e.component.selection&&qE(e.component.selection).length){const n=Object(le.bb)(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:GS("mousemove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return Q$(t)}(this,[])))]}getMapping(){return this.facet}}function pJ(data,e){var t,n,r,o;for(const l of e){const e=l.data;if(data.name&&l.hasName()&&data.name!==l.dataName)continue;const c=null===(t=data.format)||void 0===t?void 0:t.mesh,d=null===(n=e.format)||void 0===n?void 0:n.feature;if(c&&d)continue;const f=null===(r=data.format)||void 0===r?void 0:r.feature;if((f||d)&&f!==d)continue;const h=null===(o=e.format)||void 0===o?void 0:o.mesh;if(!c&&!h||c===h)if(B$(data)&&B$(e)){if(OE(data.values,e.values))return l}else if(I$(data)&&I$(e)){if(data.url===e.url)return l}else if($$(data)&&data.name===l.dataName)return l}return null}function gJ(e){var t,n,r,o,l,c,d,f,h,m;let head=function(e,t){if(e.data||!e.parent){if(null===e.data){const source=new Cq({values:[]});return t.push(source),source}const n=pJ(e.data,t);if(n)return W$(e.data)||(n.data.format=NE({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const source=new Cq(e.data);return t.push(source),source}}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}(e,e.component.data.sources);const{outputNodes:_,outputNodeRefCounts:y}=e.component.data,v=e.parent?e.parent.component.data.ancestorParse.clone():new R$,data=e.data;W$(data)?(U$(data)?head=new Eq(head,data.sequence):V$(data)&&(head=new Aq(head,data.graticule)),v.parseNothing=!0):null===(null===(t=null==data?void 0:data.format)||void 0===t?void 0:t.parse)&&(v.parseNothing=!0),head=null!==(n=Yq.makeExplicit(head,e,v))&&void 0!==n?n:head,head=new Tq(head);const x=e.parent&&RV(e.parent);(NV(e)||zV(e))&&x&&(head=null!==(r=wq.makeFromEncoding(head,e))&&void 0!==r?r:head),e.transforms.length>0&&(head=function(head,e,t){var n,r;let o=0;for(const l of e.transforms){let c,d=void 0;if(h$(l))c=head=new kU(head,l),d="derived";else if(n$(l)){const r=jq(l);c=head=null!==(n=Yq.makeWithAncestors(head,{},r,t))&&void 0!==n?n:head,head=new oU(head,e,l.filter)}else if(m$(l))c=head=wq.makeFromTransform(head,l,e),d="number";else if(g$(l)){d="date";void 0===t.getWithExplicit(l.field).value&&(head=new Yq(head,{[l.field]:d}),t.set(l.field,d,!1)),c=head=rW.makeFromTransform(head,l)}else if(_$(l))c=head=Lq.makeFromTransform(head,l),d="number",rU(e)&&(head=new Tq(head));else if(r$(l))c=head=QV.make(head,e,l,o++),d="derived";else if(c$(l))c=head=new tV(head,l),d="number";else if(d$(l))c=head=new Qq(head,l),d="number";else if(y$(l))c=head=eV.makeFromTransform(head,l),d="derived";else if(b$(l))c=head=new VV(head,l),d="derived";else if(f$(l))c=head=new qV(head,l),d="derived";else if(i$(l))c=head=new iJ(head,l),d="derived";else if(u$(l))head=new aJ(head,l);else if(p$(l))c=head=XV.makeFromTransform(head,l),d="derived";else if(a$(l))c=head=new WV(head,l),d="derived";else if(o$(l))c=head=new tJ(head,l),d="derived";else if(s$(l))c=head=new rJ(head,l),d="derived";else{if(!l$(l)){XN(L.invalidTransformIgnored(l));continue}c=head=new KV(head,l),d="derived"}if(c&&void 0!==d)for(const e of null!==(r=c.producedFields())&&void 0!==r?r:[])t.set(e,d,!1)}return head}(head,e,v));const M=function(e){const t={};if(NV(e)&&e.component.selection)for(const n of qE(e.component.selection)){const r=e.component.selection[n];for(const e of r.project.items)!e.channel&&oC(e.field)>1&&(t[e.field]="flatten")}return t}(e),w=Sq(e);head=null!==(o=Yq.makeWithAncestors(head,{},Object.assign(Object.assign({},M),w),v))&&void 0!==o?o:head,NV(e)&&(head=JV.parseAll(head,e),head=GV.parseAll(head,e)),(NV(e)||zV(e))&&(x||(head=null!==(l=wq.makeFromEncoding(head,e))&&void 0!==l?l:head),head=null!==(c=rW.makeFromEncoding(head,e))&&void 0!==c?c:head,head=kU.parseAllForSortIndex(head,e));const k=e.getDataName(J$.Raw),D=new tW(head,k,J$.Raw,y);if(_[k]=D,head=D,NV(e)){const t=Lq.makeFromEncoding(head,e);t&&(head=t,rU(e)&&(head=new Tq(head))),head=null!==(d=XV.makeFromEncoding(head,e))&&void 0!==d?d:head,head=null!==(f=eV.makeFromEncoding(head,e))&&void 0!==f?f:head}NV(e)&&(head=null!==(h=UV.make(head,e))&&void 0!==h?h:head);const O=e.getDataName(J$.Main),main=new tW(head,O,J$.Main,y);_[O]=main,head=main,NV(e)&&function(e,main){var t;for(const[n,r]of JE(null!==(t=e.component.selection)&&void 0!==t?t:{})){const t=e.getName("lookup_"+n);e.component.data.outputNodes[t]=r.materialized=new tW(new oU(main,e,{param:n}),t,J$.Lookup,e.component.data.outputNodeRefCounts)}}(e,main);let j=null;if(zV(e)){const t=e.getName("facet");head=null!==(m=function(e,t){const{row:n,column:r}=t;if(n&&r){let t=null;for(const o of[n,r])if(hR(o.sort)){const{field:n,op:r=uR}=o.sort;e=t=new Qq(e,{joinaggregate:[{op:r,field:n,as:hJ(o,o.sort,{forAs:!0})}],groupby:[RR(o)]})}return t}return null}(head,e.facet))&&void 0!==m?m:head,j=new Dq(head,e,t,main.getSource()),_[t]=j}return Object.assign(Object.assign({},e.component.data),{outputNodes:_,outputNodeRefCounts:y,raw:D,main:main,facetRoot:j,ancestorParse:v})}class _J extends IV{constructor(e,t,n,r){var o,l,c,d;super(e,"concat",t,n,r,e.resolve),"shared"!==(null===(l=null===(o=e.resolve)||void 0===o?void 0:o.axis)||void 0===l?void 0:l.x)&&"shared"!==(null===(d=null===(c=e.resolve)||void 0===c?void 0:c.axis)||void 0===d?void 0:d.y)||XN(L.CONCAT_CANNOT_SHARE_AXIS),this.children=this.getChildren(e).map((e,i)=>FJ(e,this,this.getName("concat_"+i),void 0,r))}parseData(){this.component.data=gJ(this);for(const e of this.children)e.parseData()}parseSelections(){this.component.selection={};for(const e of this.children){e.parseSelections();for(const t of qE(e.component.selection))this.component.selection[t]=e.component.selection[t]}}parseMarkGroup(){for(const e of this.children)e.parseMarkGroup()}parseAxesAndHeaders(){for(const e of this.children)e.parseAxesAndHeaders()}getChildren(e){return lB(e)?e.vconcat:uB(e)?e.hconcat:e.concat}parseLayoutSize(){!function(e){cJ(e);const t=1===e.layout.columns?"width":"childWidth",n=void 0===e.layout.columns?"height":"childHeight";dJ(e,t),dJ(e,n)}(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(e){return this.children.reduce((e,t)=>t.assembleSelectionTopLevelSignals(e),e)}assembleSignals(){return this.children.forEach(e=>e.assembleSignals()),[]}assembleLayoutSignals(){const e=IU(this);for(const t of this.children)e.push(...t.assembleLayoutSignals());return e}assembleSelectionData(data){return this.children.reduce((e,t)=>t.assembleSelectionData(e),data)}assembleMarks(){return this.children.map(e=>{const title=e.assembleTitle(),style=e.assembleGroupStyle(),t=e.assembleGroupEncodeEntry(!1);return Object.assign(Object.assign(Object.assign(Object.assign({type:"group",name:e.getName("group")},title?{title:title}:{}),style?{style:style}:{}),t?{encode:{update:t}}:{}),e.assembleGroup())})}assembleDefaultLayout(){const e=this.layout.columns;return Object.assign(Object.assign({},null!=e?{columns:e}:{}),{bounds:"full",align:"each"})}}const yJ=Object.assign(Object.assign({disable:1,gridScale:1,scale:1},cI),{labelExpr:1,encode:1}),bJ=qE(yJ);class vJ extends C${constructor(e={},t={},n=!1){super(),this.explicit=e,this.implicit=t,this.mainExtracted=n}clone(){return new vJ(jE(this.explicit),jE(this.implicit),this.mainExtracted)}hasAxisPart(e){return"axis"===e||("grid"===e||"title"===e?!!this.get(e):!(!1===(t=this.get(e))||null===t));var t}hasOrientSignalRef(){return eP(this.explicit.orient)}}const xJ={bottom:"top",top:"bottom",left:"right",right:"left"};function MJ(e,t){if(!e)return t.map(e=>e.clone());{if(e.length!==t.length)return;const n=e.length;for(let i=0;i<n;i++){const n=e[i],r=t[i];if(!!n!=!!r)return;if(n&&r){const t=n.getWithExplicit("orient"),o=r.getWithExplicit("orient");if(t.explicit&&o.explicit&&t.value!==o.value)return;e[i]=wJ(n,r)}}}return e}function wJ(e,t){for(const n of bJ){const r=H$(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(e,t)=>{switch(n){case"title":return xP(e,t);case"gridScale":return{explicit:e.explicit,value:sC(e.value,t.value)}}return z$(e,t,n,"axis")});e.setWithExplicit(n,r)}return e}function kJ(e,t,n,r,o){if("disable"===t)return void 0!==n;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(eP(n.labelAngle)?n.labelAngle:hC(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===wU(r,o))return!0}return e===n[t]}const LJ=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function DJ(e,t){var n,r,o;let l=t.axis(e);const c=new vJ,d=XR(t.encoding[e]),{mark:mark,config:f}=t,h=(null==l?void 0:l.orient)||(null===(n=f["x"===e?"axisX":"axisY"])||void 0===n?void 0:n.orient)||(null===(r=f.axis)||void 0===r?void 0:r.orient)||function(e){return"x"===e?"bottom":"left"}(e),m=t.getScaleComponent(e).get("type"),_=gU(e,m,h,t.config),y=void 0!==l?!l:yU("disable",f.style,null==l?void 0:l.style,_).configValue;if(c.set("disable",y,void 0!==l),y)return c;l=l||{};const v=function(e,t,n,r,o){const l=null==t?void 0:t.labelAngle;if(void 0!==l)return eP(l)?l:hC(l);{const{configValue:l}=yU("labelAngle",r,null==t?void 0:t.style,o);return void 0!==l?hC(l):"x"!==n||!CE([Yz,jz],e.type)||OR(e)&&e.timeUnit?void 0:270}}(d,l,e,f.style,_),x={fieldOrDatumDef:d,axis:l,channel:e,model:t,scaleType:m,orient:h,labelAngle:v,mark:mark,config:f};for(const n of bJ){const r=n in bU?bU[n](x):fI(n)?l[n]:void 0,o=void 0!==r,d=kJ(r,n,l,t,e);if(o&&d)c.set(n,r,d);else{const{configValue:e,configFrom:t}=fI(n)&&"values"!==n?yU(n,f.style,l.style,_):{},h=void 0!==e;o&&!h?c.set(n,r,d):("vgAxisConfig"!==t||LJ.has(n)&&h||sI(e)||eP(e))&&c.set(n,e,!1)}}const M=null!==(o=l.encoding)&&void 0!==o?o:{},w=lI.reduce((n,r)=>{var o;if(!c.hasAxisPart(r))return n;const l=qU(null!==(o=M[r])&&void 0!==o?o:{},t),d="labels"===r?function(e,t,n){var r;const{encoding:o,config:l}=e,c=null!==(r=XR(o[t]))&&void 0!==r?r:XR(o[JC(t)]),d=e.axis(t)||{},{format:f,formatType:h}=d;return KH(h)?Object.assign({text:nR({fieldOrDatumDef:c,field:"datum.value",format:f,formatType:h,config:l})},n):n}(t,e,l):l;return void 0===d||UE(d)||(n[r]={update:d}),n},{});return UE(w)||c.set("encode",w,!!l.encoding||void 0!==l.labelAngle),c}function OJ(e,t,n){const r=XF(e),o=mP("orient",r,n);if(r.orient=function(mark,e,t){switch(mark){case kH:case YH:case TH:case OH:case LH:case MH:return}const{x:n,y:r,x2:o,y2:l}=e;switch(mark){case xH:if(OR(n)&&(UF(n.bin)||OR(r)&&r.aggregate&&!n.aggregate))return"vertical";if(OR(r)&&(UF(r.bin)||OR(n)&&n.aggregate&&!r.aggregate))return"horizontal";if(l||o){if(t)return t;if(!o&&(OR(n)&&n.type===Oz&&!WF(n.bin)||TR(n)))return"horizontal";if(!l&&(OR(r)&&r.type===Oz&&!WF(r.bin)||TR(r)))return"vertical"}case DH:if(o&&(!OR(n)||!UF(n.bin))&&l&&(!OR(r)||!UF(r.bin)))return;case vH:if(l)return OR(r)&&UF(r.bin)?"horizontal":"vertical";if(o)return OR(n)&&UF(n.bin)?"vertical":"horizontal";if(mark===DH){if(n&&!r)return"vertical";if(r&&!n)return"horizontal"}case wH:case jH:{const e=YR(n),o=YR(r);if(t)return t;if(e&&!o)return"tick"!==mark?"horizontal":"vertical";if(!e&&o)return"tick"!==mark?"vertical":"horizontal";if(e&&o){const e=n,t=r,o=e.type===Sz,l=t.type===Sz;return o&&!l?"tick"!==mark?"vertical":"horizontal":!o&&l?"tick"!==mark?"horizontal":"vertical":!e.aggregate&&t.aggregate?"tick"!==mark?"vertical":"horizontal":e.aggregate&&!t.aggregate&&"tick"!==mark?"horizontal":"vertical"}return}}return"vertical"}(r.type,t,o),void 0!==o&&o!==r.orient&&XN(L.orientOverridden(r.orient,o)),"bar"===r.type&&r.orient){const e=mP("cornerRadiusEnd",r,n);if(void 0!==e){const n="horizontal"===r.orient&&t.x2||"vertical"===r.orient&&t.y2?["cornerRadius"]:IH[r.orient];for(const t of n)r[t]=e;void 0!==r.cornerRadiusEnd&&delete r.cornerRadiusEnd}}void 0===mP("opacity",r,n)&&(r.opacity=function(mark,e){if(CE([kH,jH,YH,TH],mark)&&!yI(e))return.7;return}(r.type,t));return void 0===mP("cursor",r,n)&&(r.cursor=function(e,t,n){if(t.href||e.href||mP("href",e,n))return"pointer";return e.cursor}(r,t,n)),r}function jJ(e,t){const{config:n}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},NW(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),kW("x",e,{defaultPos:"mid"})),kW("y",e,{defaultPos:"mid"})),xW("size",e)),xW("angle",e)),function(e,t,n){if(n)return{shape:{value:n}};return xW("shape",e)}(e,0,t))}function SJ(e){var t;const{config:n,markDef:r}=e,{orient:o}=r,l="horizontal"===o?"width":"height",c=e.getScaleComponent("horizontal"===o?"x":"y"),d=null!==(t=mP("size",r,n,{vgChannel:l}))&&void 0!==t?t:n.tick.bandSize;if(void 0!==d)return d;{const e=c?c.get("range"):void 0;if(e&&tP(e)&&Object(le.G)(e.step))return 3*e.step/4;return 3*pB(n.view,l)/4}}const YJ={arc:{vgMark:"arc",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},NW(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),kW("x",e,{defaultPos:"mid"})),kW("y",e,{defaultPos:"mid"})),AW(e,"radius","arc")),AW(e,"theta","arc"))},area:{vgMark:"area",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign({},NW(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"})),SW("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===e.markDef.orient})),SW("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===e.markDef.orient})),HW(e))},bar:{vgMark:"rect",encodeEntry:e=>Object.assign(Object.assign(Object.assign({},NW(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),AW(e,"x","bar")),AW(e,"y","bar"))},circle:{vgMark:"symbol",encodeEntry:e=>jJ(e,"circle")},geoshape:{vgMark:"shape",encodeEntry:e=>Object.assign({},NW(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[Object.assign({type:"geoshape",projection:e.projectionName()},n&&OR(n)&&n.type===Tz?{field:RR(n,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign({},NW(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"})),AW(e,"x","image")),AW(e,"y","image")),pW(e,"url"))},line:{vgMark:"line",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},NW(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),kW("x",e,{defaultPos:"mid"})),kW("y",e,{defaultPos:"mid"})),xW("size",e,{vgChannel:"strokeWidth"})),HW(e))},point:{vgMark:"symbol",encodeEntry:e=>jJ(e)},rect:{vgMark:"rect",encodeEntry:e=>Object.assign(Object.assign(Object.assign({},NW(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),AW(e,"x","rect")),AW(e,"y","rect"))},rule:{vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return e.encoding.x||e.encoding.y||e.encoding.latitude||e.encoding.longitude?Object.assign(Object.assign(Object.assign(Object.assign({},NW(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),SW("x",e,{defaultPos:"horizontal"===n?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==n})),SW("y",e,{defaultPos:"vertical"===n?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==n})),xW("size",e,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:e=>jJ(e,"square")},text:{vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},NW(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"})),kW("x",e,{defaultPos:"mid"})),kW("y",e,{defaultPos:"mid"})),pW(e)),xW("size",e,{vgChannel:"fontSize"})),xW("angle",e)),RW("align",function(e,t,n){if(void 0===mP("align",e,n))return"center";return}(e.markDef,0,t))),RW("baseline",function(e,t,n){if(void 0===mP("baseline",e,n))return"middle";return}(e.markDef,0,t))),kW("radius",e,{defaultPos:null})),kW("theta",e,{defaultPos:null}))}},tick:{vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,o="horizontal"===r?"width":"height",l="horizontal"===r?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},NW(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),kW("x",e,{defaultPos:"mid",vgChannel:"xc"})),kW("y",e,{defaultPos:"mid",vgChannel:"yc"})),xW("size",e,{defaultValue:SJ(e),vgChannel:o})),{[l]:cP(mP("thickness",n,t))})}},trail:{vgMark:"trail",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},NW(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),kW("x",e,{defaultPos:"mid"})),kW("y",e,{defaultPos:"mid"})),xW("size",e)),HW(e))}};function TJ(e){if(CE([wH,vH,SH],e.mark)){const details=wI(e.mark,e.encoding);if(details.length>0)return function(e,details){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+e.requestDataName(J$.Main),data:e.requestDataName(J$.Main),groupby:details}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:AJ(e,{fromPrefix:"faceted_path_"})}]}(e,details)}else if(e.mark===xH){const t=aP.some(t=>mP(t,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return function(e){const[mark]=AJ(e,{fromPrefix:"stack_group_"}),t=e.scaleName(e.stack.fieldChannel),n=(t={})=>e.vgField(e.stack.fieldChannel,t),r=(e,r)=>`${e}(${[n({prefix:"min",suffix:"start",expr:r}),n({prefix:"max",suffix:"start",expr:r}),n({prefix:"min",suffix:"end",expr:r}),n({prefix:"max",suffix:"end",expr:r})].map(e=>`scale('${t}',${e})`).join(",")})`;let o,l;"x"===e.stack.fieldChannel?(o=Object.assign(Object.assign({},SE(mark.encode.update,["y","yc","y2","height",...aP])),{x:{signal:r("min","datum")},x2:{signal:r("max","datum")},clip:{value:!0}}),l={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},mark.encode.update=Object.assign(Object.assign({},YE(mark.encode.update,["y","yc","y2"])),{height:{field:{group:"height"}}})):(o=Object.assign(Object.assign({},SE(mark.encode.update,["x","xc","x2","width"])),{y:{signal:r("min","datum")},y2:{signal:r("max","datum")},clip:{value:!0}}),l={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},mark.encode.update=Object.assign(Object.assign({},YE(mark.encode.update,["x","xc","x2"])),{width:{field:{group:"width"}}}));for(const t of aP){const n=pP(t,e.markDef,e.config);mark.encode.update[t]?(o[t]=mark.encode.update[t],delete mark.encode.update[t]):n&&(o[t]=cP(n)),n&&(mark.encode.update[t]={value:0})}const c=[];if(e.stack.groupbyChannel){const t=e.fieldDef(e.stack.groupbyChannel),n=RR(t);n&&c.push(n),((null==t?void 0:t.bin)||(null==t?void 0:t.timeUnit))&&c.push(RR(t,{binSuffix:"end"}))}o=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((t,n)=>{if(mark.encode.update[n])return Object.assign(Object.assign({},t),{[n]:mark.encode.update[n]});{const r=pP(n,e.markDef,e.config);return void 0!==r?Object.assign(Object.assign({},t),{[n]:cP(r)}):t}},o),o.stroke&&(o.strokeForeground={value:!0},o.strokeOffset={value:0});return[{type:"group",from:{facet:{data:e.requestDataName(J$.Main),name:"stack_group_"+e.requestDataName(J$.Main),groupby:c,aggregate:{fields:[n({suffix:"start"}),n({suffix:"start"}),n({suffix:"end"}),n({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:o},marks:[{type:"group",encode:{update:l},marks:[mark]}]}]}(e)}return AJ(e)}function AJ(e,t={fromPrefix:""}){const{mark:mark,markDef:n,encoding:r,config:o}=e,l=sC(n.clip,function(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return!!(t&&t.get("selectionExtent")||n&&n.get("selectionExtent"))||void 0}(e),function(e){const t=e.component.projection;return!(!t||t.isFit)||void 0}(e)),style=hP(n),c=r.key,d=function(e){const{encoding:t,stack:n,mark:mark,markDef:r,config:o}=e,l=t.order;if(!(!Object(le.B)(l)&&CR(l)&&EE(l.value)||!l&&EE(mP("order",r,o)))){if((Object(le.B)(l)||OR(l))&&!n)return yP(l,{expr:"datum"});if(EH(mark)){const n="horizontal"===r.orient?"y":"x",o=t[n];if(OR(o)){const s=o.sort;if(Object(le.B)(s))return{field:RR(o,{prefix:n,suffix:"sort_index",expr:"datum"})};if(hR(s))return{field:RR({aggregate:yI(e.encoding)?s.op:void 0,field:s.field},{expr:"datum"})};if(fR(s)){return{field:RR(e.fieldDef(s.encoding),{expr:"datum"}),order:s.order}}return null===s?void 0:{field:RR(o,{binSuffix:e.stack&&e.stack.impute?"mid":void 0,expr:"datum"})}}}else;}}(e),f=function(e){if(!e.component.selection)return null;const t=qE(e.component.selection).length;let n=t,r=e.parent;for(;r&&0===n;)n=qE(r.component.selection).length,r=r.parent;return n?{interactive:t>0||!!e.encoding.tooltip}:null}(e),h=mP("aria",n,o),m=YJ[mark].postEncodingTransform?YJ[mark].postEncodingTransform(e):null;return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("marks"),type:YJ[mark].vgMark},l?{clip:!0}:{}),style?{style:style}:{}),c?{key:c.field}:{}),d?{sort:d}:{}),f||{}),!1===h?{aria:h}:{}),{from:{data:t.fromPrefix+e.requestDataName(J$.Main)},encode:{update:YJ[mark].encodeEntry(e)}}),m?{transform:m}:{})]}class EJ extends BV{constructor(e,t,n,r={},o){var l;super(e,"unit",t,n,o,void 0,dB(e)?e.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[];const c=PH(e.mark)?Object.assign({},e.mark):{type:e.mark},mark=c.type;void 0===c.filled&&(c.filled=function(e,t,{graticule:n}){if(n)return!1;const r=pP("filled",e,t),mark=e.type;return sC(r,mark!==kH&&mark!==wH&&mark!==DH)}(c,o,{graticule:e.data&&V$(e.data)}));const d=this.encoding=vI(e.encoding||{},mark,c.filled,o);this.markDef=OJ(c,d,o),this.size=function({encoding:e,size:t}){for(const n of dF){const r=GC(n);cB(t[r])&&YR(e[n])&&(delete t[r],XN(L.stepDropped(r)))}return t}({encoding:d,size:dB(e)?Object.assign(Object.assign(Object.assign({},r),e.width?{width:e.width}:{}),e.height?{height:e.height}:{}):r}),this.stack=NB(mark,d),this.specifiedScales=this.initScales(mark,d),this.specifiedAxes=this.initAxes(d),this.specifiedLegends=this.initLegends(d),this.specifiedProjection=e.projection,this.selection=(null!==(l=e.params)&&void 0!==l?l:[]).filter(p=>iB(p))}get hasProjection(){const{encoding:e}=this,t=this.mark===AH,n=e&&jC.some(t=>AR(e[t]));return t||n}scaleDomain(e){const t=this.specifiedScales[e];return t?t.domain:void 0}axis(e){return this.specifiedAxes[e]}legend(e){return this.specifiedLegends[e]}initScales(mark,e){return OF.reduce((t,n)=>{var r;const o=XR(e[n]);return o&&(t[n]=this.initScale(null!==(r=o.scale)&&void 0!==r?r:{})),t},{})}initScale(e){const{domain:t,range:n}=e,r=XF(e);return Object(le.B)(t)&&(r.domain=t.map(lP)),Object(le.B)(n)&&(r.range=n.map(lP)),r}initAxes(e){return dF.reduce((t,n)=>{const r=e[n];if(AR(r)||"x"===n&&AR(e.x2)||"y"===n&&AR(e.y2)){const e=AR(r)?r.axis:void 0;t[n]=e?this.initAxis(Object.assign({},e)):e}return t},{})}initAxis(e){const t=qE(e),n={};for(const r of t){const t=e[r];n[r]=sI(t)?sP(t):lP(t)}return n}initLegends(e){return LF.reduce((t,n)=>{const r=XR(e[n]);if(r&&function(e){switch(e){case xC:case MC:case wC:case"size":case kC:case"opacity":case"strokeWidth":case"strokeDash":return!0;case"fillOpacity":case"strokeOpacity":case"angle":return!1}}(n)){const legend=r.legend;t[n]=legend?XF(legend):legend}return t},{})}parseData(){this.component.data=gJ(this)}parseLayoutSize(){!function(e){const{size:t,component:component}=e;for(const n of dF){const r=GC(n);if(t[r]){const e=t[r];component.layoutSize.set(r,cB(e)?"step":e,!0)}else{const t=fJ(e,r);component.layoutSize.set(r,t,!1)}}}(this)}parseSelections(){this.component.selection=function(e,t){var n;const r={},o=e.config.selection;if(!t||!t.length)return r;for(const l of t){const t=XE(l.name),c=l.select,d=Object(le.J)(c)?c:c.type,f=Object(le.H)(c)?jE(c):{type:d},h=o[d],{fields:m,encodings:_}=h,y=sU(h,["fields","encodings"]);for(const e in y)"mark"===e&&(f[e]=Object.assign(Object.assign({},y[e]),f[e])),void 0!==f[e]&&!0!==f[e]||(f[e]=null!==(n=y[e])&&void 0!==n?n:f[e]);const v=r[t]=Object.assign(Object.assign({},f),{name:t,type:d,init:l.value,bind:l.bind,events:Object(le.J)(f.on)?GS(f.on,"scope"):Object(le.i)(jE(f.on))});for(const t of tU)t.defined(v)&&t.parse&&t.parse(e,v,l)}return r}(this,this.selection)}parseMarkGroup(){this.component.mark=TJ(this)}parseAxesAndHeaders(){var e;this.component.axes=(e=this,dF.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[DJ(n,e)]),t),{}))}assembleSelectionTopLevelSignals(e){return function(e,t){var n;let r=!1;for(const o of VE(null!==(n=e.component.selection)&&void 0!==n?n:{})){const n=o.name,l=Object(le.bb)(n+ZW);if(0===t.filter(s=>s.name===n).length){const e="global"===o.resolve?"union":o.resolve,n="point"===o.type?", true, true)":")";t.push({name:o.name,update:`${eU}(${l}, ${Object(le.bb)(e)}${n}`})}r=!0;for(const n of tU)n.defined(o)&&n.topLevelSignals&&(t=n.topLevelSignals(e,o,t))}if(r){0===t.filter(s=>"unit"===s.name).length&&t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]})}return Q$(t)}(this,e)}assembleSignals(){return[...mU(this),...Z$(this,[])]}assembleSelectionData(data){return function(e,data){var t;const n=[...data];for(const r of VE(null!==(t=e.component.selection)&&void 0!==t?t:{})){const t={name:r.name+ZW};if(r.init){const n=r.project.items.map(e=>{const{signals:t}=e;return G$(e,["signals"])});t.values=r.init.map(i=>({unit:nU(e,{escape:!1}),fields:n,values:X$(i,!1)}))}n.filter(e=>e.name===r.name+ZW).length||n.push(t)}return n}(this,data)}assembleLayout(){return null}assembleLayoutSignals(){return IU(this)}assembleMarks(){var e;let t=null!==(e=this.component.mark)&&void 0!==e?e:[];return this.parent&&RV(this.parent)||(t=K$(this,t)),t.map(this.correctDataNames)}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(e){return _I(this.encoding,e)}fieldDef(e){return GR(this.encoding[e])}typedFieldDef(e){const t=this.fieldDef(e);return ER(t)?t:null}}class CJ extends IV{constructor(e,t,n,r,o){super(e,"layer",t,n,o,e.resolve,e.view);const l=Object.assign(Object.assign(Object.assign({},r),e.width?{width:e.width}:{}),e.height?{height:e.height}:{});this.children=e.layer.map((e,i)=>{if(YB(e))return new CJ(e,this,this.getName("layer_"+i),l,o);if(mI(e))return new EJ(e,this,this.getName("layer_"+i),l,o);throw new Error(L.invalidSpec(e))})}parseData(){this.component.data=gJ(this);for(const e of this.children)e.parseData()}parseLayoutSize(){var e;cJ(e=this),dJ(e,"width"),dJ(e,"height")}parseSelections(){this.component.selection={};for(const e of this.children){e.parseSelections();for(const t of qE(e.component.selection))this.component.selection[t]=e.component.selection[t]}}parseMarkGroup(){for(const e of this.children)e.parseMarkGroup()}parseAxesAndHeaders(){!function(e){var t;const{axes:n,resolve:r}=e.component,o={top:0,bottom:0,right:0,left:0};for(const t of e.children){t.parseAxesAndHeaders();for(const o of qE(t.component.axes))r.axis[o]=JU(e.component.resolve,o),"shared"===r.axis[o]&&(n[o]=MJ(n[o],t.component.axes[o]),n[o]||(r.axis[o]="independent",delete n[o]))}for(const l of dF){for(const c of e.children)if(c.component.axes[l]){if("independent"===r.axis[l]){n[l]=(null!==(t=n[l])&&void 0!==t?t:[]).concat(c.component.axes[l]);for(const e of c.component.axes[l]){const{value:t,explicit:n}=e.getWithExplicit("orient");if(!eP(t)){if(o[t]>0&&!n){const n=xJ[t];o[t]>o[n]&&e.set("orient",n,!1)}o[t]++}}}delete c.component.axes[l]}if("independent"===r.axis[l]&&n[l]&&n[l].length>1)for(const e of n[l])e.get("grid")&&!e.explicit.grid&&(e.implicit.grid=!1)}}(this)}assembleSelectionTopLevelSignals(e){return this.children.reduce((e,t)=>t.assembleSelectionTopLevelSignals(e),e)}assembleSignals(){return this.children.reduce((e,t)=>e.concat(t.assembleSignals()),mU(this))}assembleLayoutSignals(){return this.children.reduce((e,t)=>e.concat(t.assembleLayoutSignals()),IU(this))}assembleSelectionData(data){return this.children.reduce((e,t)=>t.assembleSelectionData(e),data)}assembleTitle(){let title=super.assembleTitle();if(title)return title;for(const e of this.children)if(title=e.assembleTitle(),title)return title}assembleLayout(){return null}assembleMarks(){return function(e,t){for(const n of e.children)NV(n)&&(t=K$(n,t));return t}(this,this.children.flatMap(e=>e.assembleMarks()))}assembleLegends(){return this.children.reduce((e,t)=>e.concat(t.assembleLegends()),hq(this))}}function FJ(e,t,n,r,o){if(_R(e))return new mJ(e,t,n,o);if(YB(e))return new CJ(e,t,n,r,o);if(mI(e))return new EJ(e,t,n,r,o);if(function(e){return lB(e)||uB(e)||sB(e)}(e))return new _J(e,t,n,o);throw new Error(L.invalidSpec(e))}var PJ=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};function NJ(e,t={}){var n;t.logger&&(n=t.logger,JN=n),t.fieldTitle&&WR(t.fieldTitle);try{const n=kB(Object(le.P)(t.config,e.config)),r=O$(e,n),o=FJ(r,null,"",void 0,n);o.parse(),function(data,e){iV(data.sources);let t=0,n=0;for(let i=0;i<5&&oV(data,e,!0);i++)t++;data.sources.map(nV);for(let i=0;i<5&&oV(data,e,!1);i++)n++;iV(data.sources),5===Math.max(t,n)&&XN("Maximum optimization runs(5) reached.")}(o.component.data,o);return{spec:function(e,t,n={},r){const o=e.config?jB(e.config):void 0,data=[].concat(e.assembleSelectionData([]),function(e,t){var n,r;const data=[],o=oJ(data);let l=0;for(const t of e.sources){t.hasName()||(t.dataName="source_"+l++);const e=t.assemble();o(t,e)}for(const e of data)0===e.transform.length&&delete e.transform;let c=0;for(const[i,e]of data.entries())0!==(null!==(n=e.transform)&&void 0!==n?n:[]).length||e.source||data.splice(c++,0,data.splice(i,1)[0]);for(const t of data)for(const n of null!==(r=t.transform)&&void 0!==r?r:[])"lookup"===n.type&&(n.from=e.outputNodes[n.from].getSource());for(const e of data)e.name in t&&(e.values=t[e.name]);return data}(e.component.data,n)),l=e.assembleProjections(),title=e.assembleTitle(),style=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0);let d=e.assembleLayoutSignals();d=d.filter(e=>"width"!==e.name&&"height"!==e.name||void 0===e.value||(t[e.name]=+e.value,!1));const{params:f}=t,h=PJ(t,["params"]);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},e.description?{description:e.description}:{}),h),title?{title:title}:{}),style?{style:style}:{}),c?{encode:{update:c}}:{}),{data:data}),l.length>0?{projections:l}:{}),e.assembleGroup([...d,...e.assembleSelectionTopLevelSignals([]),...oB(f)])),o?{config:o}:{}),r?{usermeta:r}:{})}(o,function(e,t,n,r){const o=r.component.layoutSize.get("width"),l=r.component.layoutSize.get("height");void 0===t?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):Object(le.J)(t)&&(t={type:t});if(o&&l&&(c=t.type,"fit"===c||"fit-x"===c||"fit-y"===c))if("step"===o&&"step"===l)XN(L.droppingFit()),t.type="pad";else if("step"===o||"step"===l){const e="step"===o?"width":"height";XN(L.droppingFit(pF(e)));const n="width"===e?"height":"width";t.type=function(e){return e?"fit-"+pF(e):"fit"}(n)}var c;return Object.assign(Object.assign(Object.assign({},1===qE(t).length&&t.type?"pad"===t.type?{}:{autosize:t.type}:{autosize:t}),E$(n,!1)),E$(e,!0))}(e,r.autosize,n,o),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&GN(),t.fieldTitle&&WR(BR)}}const zJ=gE.version;var HJ=function(e){const[t,n]=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}};const RJ={background:"#333",title:{color:"#fff",subtitleColor:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},IJ={background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},BJ={arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},$J={group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},WJ="Benton Gothic Bold, sans-serif",UJ={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},qJ={background:"#ffffff",title:{anchor:"start",color:"#000000",font:WJ,fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:WJ,titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:WJ,titleFontSize:13,titleFontWeight:"normal"},range:{category:UJ["category-6"],diverging:UJ["fireandice-6"],heatmap:UJ["fire-7"],ordinal:UJ["fire-7"],ramp:UJ["fire-7"]}},VJ={background:"#f9f9f9",arc:{fill:"#ab5787"},area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},JJ={background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},GJ={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},XJ={background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:GJ["six-groups-cat-1"],diverging:GJ["diverging-colors"],heatmap:GJ["diverging-colors"],ordinal:GJ["six-groups-seq"],ramp:GJ["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},ZJ={arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},KJ="2.10.0";var QJ="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n";const eG="vg-tooltip-element",tG={offsetX:10,offsetY:10,id:eG,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2};function nG(e,t,n){if(Object(le.B)(e))return`[${e.map(e=>t(Object(le.J)(e)?e:rG(e,n))).join(", ")}]`;if(Object(le.H)(e)){let content="";const r=e,{title:title,image:image}=r,o=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}(r,["title","image"]);title&&(content+=`<h2>${t(title)}</h2>`),image&&(content+=`<img src="${t(image)}">`);const l=Object.keys(o);if(l.length>0){content+="<table>";for(const e of l){let r=o[e];void 0!==r&&(Object(le.H)(r)&&(r=rG(r,n)),content+=`<tr><td class="key">${t(e)}:</td><td class="value">${t(r)}</td></tr>`)}content+="</table>"}return content||"{}"}return t(e)}function rG(e,t){return JSON.stringify(e,function(e){const t=[];return function(n,r){if("object"!=typeof r||null===r)return r;const o=t.indexOf(this)+1;return t.length=o,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}(t))}class iG{constructor(e){this.options=Object.assign(Object.assign({},tG),e);const t=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const style=document.createElement("style");style.setAttribute("id",this.options.styleId),style.innerHTML=function(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return QJ.toString().replace(eG,e)}(t);const head=document.head;head.childNodes.length>0?head.insertBefore(style,head.childNodes[0]):head.appendChild(style)}}tooltipHandler(e,t,n,r){this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el));if((null!=document.fullscreenElement?document.fullscreenElement:document.body).appendChild(this.el),null==r||""===r)return void this.el.classList.remove("visible",this.options.theme+"-theme");this.el.innerHTML=nG(r,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",this.options.theme+"-theme");const{x:o,y:l}=function(e,t,n,r){let o=e.clientX+n;o+t.width>window.innerWidth&&(o=+e.clientX-n-t.width);let l=e.clientY+r;return l+t.height>window.innerHeight&&(l=+e.clientY-r-t.height),{x:o,y:l}}(t,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${l}px; left: ${o}px`)}}function aG(e,t,n,r){return new(n||(n=Promise))((function(o,l){function c(e){try{f(r.next(e))}catch(e){l(e)}}function d(e){try{f(r.throw(e))}catch(e){l(e)}}function f(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,d)}f((r=r.apply(e,t||[])).next())}))}var oG,sG='.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) > :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n  .vega-embed .chart-wrapper {\n    width: 100%;\n    height: 100%; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n';function lG(e,...t){for(const s of t)uG(e,s);return e}function uG(e,t){for(const n of Object.keys(t))Object(le.lb)(e,n,t[n],!0)}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});const cG=k;let dG=D;const fG="undefined"!=typeof window?window:void 0;void 0===dG&&(null===(oG=null==fG?void 0:fG.vl)||void 0===oG?void 0:oG.compile)&&(dG=fG.vl);const hG={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},mG={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},pG={vega:"Vega","vega-lite":"Vega-Lite"},gG={vega:cG.version,"vega-lite":dG?dG.version:"not available"},_G={vega:e=>e,"vega-lite":(e,t)=>dG.compile(e,{config:t}).spec};function yG(source,e,t,n){const header=`<html><head>${e}</head><body><pre><code class="json">`,footer=`</code></pre>${t}</body></html>`,r=window.open("");r.document.write(header+source+footer),r.document.title=pG[n]+" JSON Source"}function bG(e){return(t=e)&&"load"in t?e:cG.loader(e);var t}function vG(e){var t;return null!==(t=e.usermeta&&e.usermeta.embedOptions)&&void 0!==t?t:{}}function xG(e,t){var n;return aG(this,void 0,void 0,(function*(){const r=Object(le.J)(e.config)?JSON.parse(yield t.load(e.config)):null!==(n=e.config)&&void 0!==n?n:{},o=Object(le.J)(e.patch)?JSON.parse(yield t.load(e.patch)):e.patch;return Object.assign(Object.assign(Object.assign({},e),o?{patch:o}:{}),r?{config:r}:{})}))}t.a=function(e,t,n={}){var r,o,l;return aG(this,void 0,void 0,(function*(){let c,d;Object(le.J)(t)?(d=bG(n.loader),c=JSON.parse(yield d.load(t))):c=t;const f=vG(c).loader;d&&!f||(d=bG(null!==(r=n.loader)&&void 0!==r?r:f));const h=yield xG(vG(c),d),m=yield xG(n,d),_=Object.assign(Object.assign({},lG(m,h)),{config:Object(le.P)(null!==(o=m.config)&&void 0!==o?o:{},null!==(l=h.config)&&void 0!==l?l:{})});return yield function(e,t,n={},r){var o,l,c,d,f,h;return aG(this,void 0,void 0,(function*(){const m=n.theme?Object(le.P)(O[n.theme],null!==(o=n.config)&&void 0!==o?o:{}):n.config,_=Object(le.C)(n.actions)?n.actions:lG({},hG,null!==(l=n.actions)&&void 0!==l?l:{}),y=Object.assign(Object.assign({},mG),n.i18n),v=null!==(c=n.renderer)&&void 0!==c?c:"canvas",x=null!==(d=n.logLevel)&&void 0!==d?d:cG.Warn,M=null!==(f=n.downloadFileName)&&void 0!==f?f:"visualization",element="string"==typeof e?document.querySelector(e):e;if(!element)throw new Error(e+" does not exist");if(!1!==n.defaultStyle){const e="vega-embed-style",{root:t,rootContainer:r}=function(e){var t;const n=e.getRootNode?e.getRootNode():document;return n instanceof ShadowRoot?{root:n,rootContainer:n}:{root:document,rootContainer:null!==(t=document.head)&&void 0!==t?t:document.body}}(element);if(!t.getElementById(e)){const style=document.createElement("style");style.id=e,style.innerText=void 0===n.defaultStyle||!0===n.defaultStyle?sG.toString():n.defaultStyle,r.appendChild(style)}}const w=function(e,t){var n;if(e.$schema){const r=HJ(e.$schema);t&&t!==r.library&&console.warn(`The given visualization spec is written in ${pG[r.library]}, but mode argument sets ${null!==(n=pG[t])&&void 0!==n?n:t}.`);const o=r.library;return Object(se.satisfies)(gG[o],"^"+r.version.slice(1))||console.warn(`The input spec uses ${pG[o]} ${r.version}, but the current version of ${pG[o]} is v${gG[o]}.`),o}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":null!=t?t:"vega"}(t,n.mode);let k=_G[w](t,m);if("vega-lite"===w&&k.$schema){const e=HJ(k.$schema);Object(se.satisfies)(gG.vega,"^"+e.version.slice(1))||console.warn(`The compiled spec uses Vega ${e.version}, but current version is v${gG.vega}.`)}element.classList.add("vega-embed"),_&&element.classList.add("has-actions"),element.innerHTML="";let L=element;if(_){const e=document.createElement("div");e.classList.add("chart-wrapper"),element.appendChild(e),L=e}const D=n.patch;D&&(k=D instanceof Function?D(k):U(k,D,!0,!1).newDocument),n.formatLocale&&cG.formatLocale(n.formatLocale),n.timeFormatLocale&&cG.timeFormatLocale(n.timeFormatLocale);const{ast:j}=n,S=cG.parse(k,"vega-lite"===w?{}:m,{ast:j}),view=new cG.View(S,Object.assign({loader:r,logLevel:x,renderer:v},j?{expr:cG.expressionInterpreter}:{}));if(!1!==n.tooltip){let e;e="function"==typeof n.tooltip?n.tooltip:new iG(!0===n.tooltip?{}:n.tooltip).call,view.tooltip(e)}let Y,{hover:T}=n;if(void 0===T&&(T="vega"===w),T){const{hoverSet:e,updateSet:t}="boolean"==typeof T?{}:T;view.hover(e,t)}if(n&&(null!=n.width&&view.width(n.width),null!=n.height&&view.height(n.height),null!=n.padding&&view.padding(n.padding)),yield view.initialize(L,n.bind).runAsync(),!1!==_){let e=element;if(!1!==n.defaultStyle){const details=document.createElement("details");details.title=y.CLICK_TO_VIEW_ACTIONS,element.append(details),e=details;const summary=document.createElement("summary");summary.innerHTML='\n<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">\n  <circle r="2" cy="8" cx="2"></circle>\n  <circle r="2" cy="8" cx="8"></circle>\n  <circle r="2" cy="8" cx="14"></circle>\n</svg>',details.append(summary),Y=e=>{details.contains(e.target)||details.removeAttribute("open")},document.addEventListener("click",Y)}const r=document.createElement("div");if(e.append(r),r.classList.add("vega-actions"),!0===_||!1!==_.export)for(const e of["svg","png"])if(!0===_||!0===_.export||_.export[e]){const t=y[e.toUpperCase()+"_ACTION"],o=document.createElement("a");o.text=t,o.href="#",o.target="_blank",o.download=`${M}.${e}`,o.addEventListener("mousedown",(function(t){return aG(this,void 0,void 0,(function*(){t.preventDefault();const r=yield view.toImageURL(e,n.scaleFactor);this.href=r}))})),r.append(o)}if(!0===_||!1!==_.source){const e=document.createElement("a");e.text=y.SOURCE_ACTION,e.href="#",e.addEventListener("click",(function(e){var r,o;yG(oe()(t),null!==(r=n.sourceHeader)&&void 0!==r?r:"",null!==(o=n.sourceFooter)&&void 0!==o?o:"",w),e.preventDefault()})),r.append(e)}if("vega-lite"===w&&(!0===_||!1!==_.compiled)){const e=document.createElement("a");e.text=y.COMPILED_ACTION,e.href="#",e.addEventListener("click",(function(e){var t,r;yG(oe()(k),null!==(t=n.sourceHeader)&&void 0!==t?t:"",null!==(r=n.sourceFooter)&&void 0!==r?r:"","vega"),e.preventDefault()})),r.append(e)}if(!0===_||!1!==_.editor){const e=null!==(h=n.editorUrl)&&void 0!==h?h:"https://vega.github.io/editor/",o=document.createElement("a");o.text=y.EDITOR_ACTION,o.href="#",o.addEventListener("click",(function(n){!function(e,t,data){const n=e.open(t),{origin:r}=new URL(t);let o=40;e.addEventListener("message",(function t(r){r.source===n&&(o=0,e.removeEventListener("message",t,!1))}),!1),setTimeout((function e(){o<=0||(n.postMessage(data,r),setTimeout(e,250),o-=1)}),250)}(window,e,{config:m,mode:w,renderer:v,spec:oe()(t)}),n.preventDefault()})),r.append(o)}}return{view:view,spec:t,vgSpec:k,finalize:function(){Y&&document.removeEventListener("click",Y),view.finalize()}}}))}(e,c,_,d)}))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=/("(?:[^\\"]|\\.)*")|[:,]/g;e.exports=function(e,t){var n,o,l;return t=t||{},n=JSON.stringify([1],void 0,void 0===t.indent?2:t.indent).slice(2,-3),o=""===n?1/0:void 0===t.maxLength?80:t.maxLength,l=t.replacer,function e(t,c,d){var f,h,m,_,y,v,x,M,w,k,L,D;if(t&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0===(L=JSON.stringify(t,l)))return L;if(x=o-c.length-d,L.length<=x&&(w=L.replace(r,(function(e,t){return t||e+" "}))).length<=x)return w;if(null!=l&&(t=JSON.parse(L),l=void 0),"object"==typeof t&&null!==t){if(M=c+n,m=[],h=0,Array.isArray(t))for(k="[",f="]",x=t.length;h<x;h++)m.push(e(t[h],M,h===x-1?0:1)||"null");else for(k="{",f="}",x=(v=Object.keys(t)).length;h<x;h++)_=v[h],y=JSON.stringify(_)+": ",void 0!==(D=e(t[_],M,y.length+(h===x-1?0:1)))&&m.push(y+D);if(m.length>0)return[k,n+m.join(",\n"+M),f].join("\n"+c)}return L}(e,"",0)}},function(e,t,n){const r=n(280);e.exports={re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:n(291).SEMVER_SPEC_VERSION,SemVer:n(273),compareIdentifiers:n(305).compareIdentifiers,rcompareIdentifiers:n(305).rcompareIdentifiers,parse:n(281),valid:n(488),clean:n(489),inc:n(490),diff:n(491),major:n(492),minor:n(493),patch:n(494),prerelease:n(495),compare:n(274),rcompare:n(496),compareLoose:n(497),compareBuild:n(307),sort:n(498),rsort:n(499),gt:n(294),lt:n(308),eq:n(306),neq:n(451),gte:n(309),lte:n(310),cmp:n(452),coerce:n(500),Comparator:n(295),Range:n(275),satisfies:n(296),toComparators:n(504),maxSatisfying:n(505),minSatisfying:n(506),minVersion:n(507),validRange:n(508),outside:n(311),gtr:n(509),ltr:n(510),intersects:n(511),simplifyRange:n(512),subset:n(513)}},function(e,t,n){const r=n(281);e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}},function(e,t,n){const r=n(281);e.exports=(e,t)=>{const s=r(e.trim().replace(/^[=v]+/,""),t);return s?s.version:null}},function(e,t,n){const r=n(273);e.exports=(e,t,n,o)=>{"string"==typeof n&&(o=n,n=void 0);try{return new r(e,n).inc(t,o).version}catch(e){return null}}},function(e,t,n){const r=n(281),o=n(306);e.exports=(e,t)=>{if(o(e,t))return null;{const n=r(e),o=r(t),l=n.prerelease.length||o.prerelease.length,c=l?"pre":"",d=l?"prerelease":"";for(const e in n)if(("major"===e||"minor"===e||"patch"===e)&&n[e]!==o[e])return c+e;return d}}},function(e,t,n){const r=n(273);e.exports=(a,e)=>new r(a,e).major},function(e,t,n){const r=n(273);e.exports=(a,e)=>new r(a,e).minor},function(e,t,n){const r=n(273);e.exports=(a,e)=>new r(a,e).patch},function(e,t,n){const r=n(281);e.exports=(e,t)=>{const n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},function(e,t,n){const r=n(274);e.exports=(a,b,e)=>r(b,a,e)},function(e,t,n){const r=n(274);e.exports=(a,b)=>r(a,b,!0)},function(e,t,n){const r=n(307);e.exports=(e,t)=>e.sort((a,b)=>r(a,b,t))},function(e,t,n){const r=n(307);e.exports=(e,t)=>e.sort((a,b)=>r(b,a,t))},function(e,t,n){const r=n(273),o=n(281),{re:l,t:c}=n(280);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){let t;for(;(t=l[c.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&t.index+t[0].length===n.index+n[0].length||(n=t),l[c.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;l[c.COERCERTL].lastIndex=-1}else n=e.match(l[c.COERCE]);return null===n?null:o(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,t)}},function(e,t,n){"use strict";const r=n(502),o=Symbol("max"),l=Symbol("length"),c=Symbol("lengthCalculator"),d=Symbol("allowStale"),f=Symbol("maxAge"),h=Symbol("dispose"),m=Symbol("noDisposeOnSet"),_=Symbol("lruList"),y=Symbol("cache"),v=Symbol("updateAgeOnGet"),x=()=>1;const M=(e,t,n)=>{const r=e[y].get(t);if(r){const t=r.value;if(w(e,t)){if(del(e,r),!e[d])return}else n&&(e[v]&&(r.value.now=Date.now()),e[_].unshiftNode(r));return t.value}},w=(e,t)=>{if(!t||!t.maxAge&&!e[f])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[f]&&n>e[f]},k=e=>{if(e[l]>e[o])for(let t=e[_].tail;e[l]>e[o]&&null!==t;){const n=t.prev;del(e,t),t=n}},del=(e,t)=>{if(t){const n=t.value;e[h]&&e[h](n.key,n.value),e[l]-=n.length,e[y].delete(n.key),e[_].removeNode(t)}};class L{constructor(e,t,n,r,o){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=o||0}}const D=(e,t,n,r)=>{let o=n.value;w(e,o)&&(del(e,n),e[d]||(o=void 0)),o&&t.call(r,o.value,o.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[o]=e.max||1/0;const t=e.length||x;if(this[c]="function"!=typeof t?x:t,this[d]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[f]=e.maxAge||0,this[h]=e.dispose,this[m]=e.noDisposeOnSet||!1,this[v]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[o]=e||1/0,k(this)}get max(){return this[o]}set allowStale(e){this[d]=!!e}get allowStale(){return this[d]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[f]=e,k(this)}get maxAge(){return this[f]}set lengthCalculator(e){"function"!=typeof e&&(e=x),e!==this[c]&&(this[c]=e,this[l]=0,this[_].forEach(e=>{e.length=this[c](e.value,e.key),this[l]+=e.length})),k(this)}get lengthCalculator(){return this[c]}get length(){return this[l]}get itemCount(){return this[_].length}rforEach(e,t){t=t||this;for(let n=this[_].tail;null!==n;){const r=n.prev;D(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[_].head;null!==n;){const r=n.next;D(this,e,n,t),n=r}}keys(){return this[_].toArray().map(e=>e.key)}values(){return this[_].toArray().map(e=>e.value)}reset(){this[h]&&this[_]&&this[_].length&&this[_].forEach(e=>this[h](e.key,e.value)),this[y]=new Map,this[_]=new r,this[l]=0}dump(){return this[_].map(e=>!w(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[_]}set(e,t,n){if((n=n||this[f])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,d=this[c](t,e);if(this[y].has(e)){if(d>this[o])return del(this,this[y].get(e)),!1;const c=this[y].get(e).value;return this[h]&&(this[m]||this[h](e,c.value)),c.now=r,c.maxAge=n,c.value=t,this[l]+=d-c.length,c.length=d,this.get(e),k(this),!0}const v=new L(e,t,d,r,n);return v.length>this[o]?(this[h]&&this[h](e,t),!1):(this[l]+=v.length,this[_].unshift(v),this[y].set(e,this[_].head),k(this),!0)}has(e){if(!this[y].has(e))return!1;const t=this[y].get(e).value;return!w(this,t)}get(e){return M(this,e,!0)}peek(e){return M(this,e,!1)}pop(){const e=this[_].tail;return e?(del(this,e),e.value):null}del(e){del(this,this[y].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],o=r.e||0;if(0===o)this.set(r.k,r.v);else{const e=o-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[y].forEach((e,t)=>M(this,t,!1))}}},function(e,t,n){"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var i=0,n=arguments.length;i<n;i++)t.push(arguments[i]);return t}function o(e,t,n){var r=t===e.head?new d(n,null,t,e):new d(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function l(e,t){e.tail=new d(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function c(e,t){e.head=new d(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function d(e,t,n,r){if(!(this instanceof d))return new d(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=d,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var head=this.head;e.list=this,e.next=head,head&&(head.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var i=0,e=arguments.length;i<e;i++)l(this,arguments[i]);return this.length},r.prototype.unshift=function(){for(var i=0,e=arguments.length;i<e;i++)c(this,arguments[i]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,i=0;null!==n;i++)e.call(t,n.value,i,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,i=this.length-1;null!==n;i--)e.call(t,n.value,i,this),n=n.prev},r.prototype.get=function(e){for(var i=0,t=this.head;null!==t&&i<e;i++)t=t.next;if(i===e&&null!==t)return t.value},r.prototype.getReverse=function(e){for(var i=0,t=this.tail;null!==t&&i<e;i++)t=t.prev;if(i===e&&null!==t)return t.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,o=this.head;null!==o;)n.push(e.call(t,o.value,this)),o=o.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,o=this.tail;null!==o;)n.push(e.call(t,o.value,this)),o=o.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=e(n,r.value,i),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=e(n,r.value,i),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),i=0,t=this.head;null!==t;i++)e[i]=t.value,t=t.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),i=0,t=this.tail;null!==t;i++)e[i]=t.value,t=t.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)n.push(o.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)n.push(o.value);return n},r.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var i=0,r=this.head;null!==r&&i<e;i++)r=r.next;var l=[];for(i=0;r&&i<t;i++)l.push(r.value),r=this.removeNode(r);null===r&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev);for(i=0;i<n.length;i++)r=o(this,r,n[i]);return l},r.prototype.reverse=function(){for(var head=this.head,e=this.tail,t=head;null!==t;t=t.prev){var p=t.prev;t.prev=t.next,t.next=p}return this.head=e,this.tail=head,this};try{n(503)(r)}catch(e){}},function(e,t,n){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},function(e,t,n){const r=n(275);e.exports=(e,t)=>new r(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},function(e,t,n){const r=n(273),o=n(275);e.exports=(e,t,n)=>{let l=null,c=null,d=null;try{d=new o(t,n)}catch(e){return null}return e.forEach(e=>{d.test(e)&&(l&&-1!==c.compare(e)||(l=e,c=new r(l,n)))}),l}},function(e,t,n){const r=n(273),o=n(275);e.exports=(e,t,n)=>{let l=null,c=null,d=null;try{d=new o(t,n)}catch(e){return null}return e.forEach(e=>{d.test(e)&&(l&&1!==c.compare(e)||(l=e,c=new r(l,n)))}),l}},function(e,t,n){const r=n(273),o=n(275),l=n(294);e.exports=(e,t)=>{e=new o(e,t);let n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(let i=0;i<e.set.length;++i){const t=e.set[i];let o=null;t.forEach(e=>{const t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":o&&!l(t,o)||(o=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}),!o||n&&!l(n,o)||(n=o)}return n&&e.test(n)?n:null}},function(e,t,n){const r=n(275);e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}},function(e,t,n){const r=n(311);e.exports=(e,t,n)=>r(e,t,">",n)},function(e,t,n){const r=n(311);e.exports=(e,t,n)=>r(e,t,"<",n)},function(e,t,n){const r=n(275);e.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t))},function(e,t,n){const r=n(296),o=n(274);e.exports=(e,t,n)=>{const l=[];let c=null,d=null;const f=e.sort((a,b)=>o(a,b,n));for(const e of f){r(e,t,n)?(d=e,c||(c=e)):(d&&l.push([c,d]),d=null,c=null)}c&&l.push([c,null]);const h=[];for(const[e,t]of l)e===t?h.push(e):t||e!==f[0]?t?e===f[0]?h.push("<="+t):h.push(`${e} - ${t}`):h.push(">="+e):h.push("*");const m=h.join(" || "),_="string"==typeof t.raw?t.raw:String(t);return m.length<_.length?m:t}},function(e,t,n){const r=n(275),{ANY:o}=n(295),l=n(296),c=n(274),d=(sub,e,t)=>{if(sub===e)return!0;if(1===sub.length&&sub[0].semver===o)return 1===e.length&&e[0].semver===o;const n=new Set;let r,d,m,_,y,v,x;for(const e of sub)">"===e.operator||">="===e.operator?r=f(r,e,t):"<"===e.operator||"<="===e.operator?d=h(d,e,t):n.add(e.semver);if(n.size>1)return null;if(r&&d){if(m=c(r.semver,d.semver,t),m>0)return null;if(0===m&&(">="!==r.operator||"<="!==d.operator))return null}for(const o of n){if(r&&!l(o,String(r),t))return null;if(d&&!l(o,String(d),t))return null;for(const n of e)if(!l(o,String(n),t))return!1;return!0}for(const n of e){if(x=x||">"===n.operator||">="===n.operator,v=v||"<"===n.operator||"<="===n.operator,r)if(">"===n.operator||">="===n.operator){if(_=f(r,n,t),_===n&&_!==r)return!1}else if(">="===r.operator&&!l(r.semver,String(n),t))return!1;if(d)if("<"===n.operator||"<="===n.operator){if(y=h(d,n,t),y===n&&y!==d)return!1}else if("<="===d.operator&&!l(d.semver,String(n),t))return!1;if(!n.operator&&(d||r)&&0!==m)return!1}return!(r&&v&&!d&&0!==m)&&!(d&&x&&!r&&0!==m)},f=(a,b,e)=>{if(!a)return b;const t=c(a.semver,b.semver,e);return t>0?a:t<0||">"===b.operator&&">="===a.operator?b:a},h=(a,b,e)=>{if(!a)return b;const t=c(a.semver,b.semver,e);return t<0?a:t>0||"<"===b.operator&&"<="===a.operator?b:a};e.exports=(sub,e,t)=>{if(sub===e)return!0;sub=new r(sub,t),e=new r(e,t);let n=!1;e:for(const r of sub.set){for(const o of e.set){const e=d(r,o,t);if(n=n||null!==e,e)continue e}if(n)return!1}return!0}},function(e,t,n){"use strict";t.byteLength=function(e){var t=d(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,i,n=d(e),r=n[0],c=n[1],f=new l(function(e,t,n){return 3*(t+n)/4-n}(0,r,c)),h=0,m=c>0?r-4:r;for(i=0;i<m;i+=4)t=o[e.charCodeAt(i)]<<18|o[e.charCodeAt(i+1)]<<12|o[e.charCodeAt(i+2)]<<6|o[e.charCodeAt(i+3)],f[h++]=t>>16&255,f[h++]=t>>8&255,f[h++]=255&t;2===c&&(t=o[e.charCodeAt(i)]<<2|o[e.charCodeAt(i+1)]>>4,f[h++]=255&t);1===c&&(t=o[e.charCodeAt(i)]<<10|o[e.charCodeAt(i+1)]<<4|o[e.charCodeAt(i+2)]>>2,f[h++]=t>>8&255,f[h++]=255&t);return f},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,l=[],i=0,c=n-o;i<c;i+=16383)l.push(f(e,i,i+16383>c?c:i+16383));1===o?(t=e[n-1],l.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],l.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return l.join("")};for(var r=[],o=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,c=code.length;i<c;++i)r[i]=code[i],o[code.charCodeAt(i)]=i;function d(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function f(e,t,n){for(var o,l,output=[],i=t;i<n;i+=3)o=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),output.push(r[(l=o)>>18&63]+r[l>>12&63]+r[l>>6&63]+r[63&l]);return output.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var l,c,d=8*o-r-1,f=(1<<d)-1,h=f>>1,m=-7,i=n?o-1:0,_=n?-1:1,s=e[t+i];for(i+=_,l=s&(1<<-m)-1,s>>=-m,m+=d;m>0;l=256*l+e[t+i],i+=_,m-=8);for(c=l&(1<<-m)-1,l>>=-m,m+=r;m>0;c=256*c+e[t+i],i+=_,m-=8);if(0===l)l=1-h;else{if(l===f)return c?NaN:1/0*(s?-1:1);c+=Math.pow(2,r),l-=h}return(s?-1:1)*c*Math.pow(2,l-r)},t.write=function(e,t,n,r,o,l){var c,d,f,h=8*l-o-1,m=(1<<h)-1,_=m>>1,rt=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,i=r?0:l-1,y=r?1:-1,s=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(d=isNaN(t)?1:0,c=m):(c=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-c))<1&&(c--,f*=2),(t+=c+_>=1?rt/f:rt*Math.pow(2,1-_))*f>=2&&(c++,f/=2),c+_>=m?(d=0,c=m):c+_>=1?(d=(t*f-1)*Math.pow(2,o),c+=_):(d=t*Math.pow(2,_-1)*Math.pow(2,o),c=0));o>=8;e[n+i]=255&d,i+=y,d/=256,o-=8);for(c=c<<o|d,h+=o;h>0;e[n+i]=255&c,i+=y,c/=256,h-=8);e[n+i-y]|=128*s}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e){e.exports=JSON.parse('{"name":"vega-lite","author":"Dominik Moritz, Kanit \\"Ham\\" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer","version":"5.0.0","collaborators":["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],"homepage":"https://vega.github.io/vega-lite/","description":"Vega-Lite is a concise high-level language for interactive visualization.","main":"build/vega-lite.js","unpkg":"build/vega-lite.min.js","jsdelivr":"build/vega-lite.min.js","module":"build/src/index","types":"build/src/index.d.ts","bin":{"vl2png":"./bin/vl2png","vl2svg":"./bin/vl2svg","vl2pdf":"./bin/vl2pdf","vl2vg":"./bin/vl2vg"},"directories":{"test":"test"},"files":["bin","build","src","vega-lite*","tsconfig.json"],"scripts":{"changelog":"conventional-changelog -p angular -r 2","prebuild":"yarn clean:build","build":"yarn build:only","build:only":"tsc -p tsconfig.build.json && rollup -c","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"rollup -c site/rollup.config.js","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh","clean":"yarn clean:build && rimraf site/data/* && rimraf examples/compiled/*.png && find site/examples ! -name \'index.md\' ! -name \'data\' -type f -delete","clean:build":"find build ! -name \'vega-lite-schema.json\' -type f -delete && rimraf build/src","predeploy:site":"yarn presite","deploy:site":"gh-pages -d site","data":"rsync -r node_modules/vega-datasets/data/* site/data","schema":"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/","renameschema":"scripts/rename-schema.sh","presite":"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh","site":"yarn site:only","site:only":"pushd site && bundle exec jekyll serve -I -l && popd","prettierbase":"prettier \'**/*.{md,css,yml}\'","eslintbase":"eslint .","format":"yarn eslintbase --fix && yarn prettierbase --write","lint":"yarn eslintbase && yarn prettierbase --check","test":"jest test/ && yarn lint && yarn schema && jest examples/ && yarn test:runtime","test:cover":"jest --collectCoverage test/","test:inspect":"node --inspect-brk ./node_modules/.bin/jest --runInBand test","test:runtime":"TZ=America/Los_Angeles jest test-runtime/ --config test-runtime/jest-config.json","test:runtime:generate":"yarn build:only && rimraf test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime","watch":"tsc -p tsconfig.build.json -w","watch:site":"yarn build:site -w","watch:test":"jest --watch test/"},"repository":{"type":"git","url":"https://github.com/vega/vega-lite.git"},"license":"BSD-3-Clause","bugs":{"url":"https://github.com/vega/vega-lite/issues"},"devDependencies":{"@babel/core":"^7.13.1","@babel/preset-env":"^7.13.5","@babel/preset-typescript":"^7.13.0","@rollup/plugin-babel":"^5.3.0","@rollup/plugin-commonjs":"^17.1.0","@rollup/plugin-json":"^4.1.0","@rollup/plugin-node-resolve":"^11.2.0","@types/chai":"^4.2.15","@types/d3":"^6.3.0","@types/jest":"^26.0.20","@types/mkdirp":"^1.0.1","@types/pako":"^1.0.1","@typescript-eslint/eslint-plugin":"^4.15.2","@typescript-eslint/parser":"^4.15.2","ajv":"^7.1.1","ajv-formats":"^1.5.1","chai":"^4.3.0","cheerio":"^1.0.0-rc.5","conventional-changelog-cli":"^2.1.1","d3":"^6.5.0","eslint":"^7.20.0","eslint-config-prettier":"^8.0.0","eslint-plugin-jest":"^24.1.5","eslint-plugin-prettier":"^3.3.1","gh-pages":"^3.1.0","highlight.js":"^10.6.0","jest":"^26.6.3","jest-dev-server":"^4.4.0","mkdirp":"^1.0.4","pako":"^2.0.3","prettier":"^2.2.1","puppeteer":"^7.1.0","rollup":"^2.39.1","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-sourcemaps":"^0.6.3","rollup-plugin-terser":"^7.0.2","serve":"^11.3.2","terser":"^5.6.0","ts-json-schema-generator":"^0.86.1","typescript":"~4.2.2","vega-cli":"^5.19.1","vega-datasets":"~2.2.0","vega-embed":"^6.15.1","vega-tooltip":"^0.25.0","yaml-front-matter":"^4.1.1"},"dependencies":{"@types/clone":"~2.1.0","@types/fast-json-stable-stringify":"^2.0.0","array-flat-polyfill":"^1.0.1","clone":"~2.1.2","fast-deep-equal":"~3.1.3","fast-json-stable-stringify":"~2.1.0","json-stringify-pretty-compact":"~3.0.0","tslib":"~2.1.0","vega-event-selector":"~2.0.6","vega-expression":"~4.0.1","vega-util":"~1.16.0","yargs":"~16.2.0"},"peerDependencies":{"vega":"^5.19.1"},"jest":{"testPathIgnorePatterns":["<rootDir>/node_modules","<rootDir>/build","<rootDir>/_site","<rootDir>/src"],"coverageDirectory":"./coverage/","collectCoverage":false,"setupFiles":["./test/jest.overrides.ts"]}}')},function(e,t,n){(function(t){var n=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var n,r,o;try{n=Map}catch(e){n=function(){}}try{r=Set}catch(e){r=function(){}}try{o=Promise}catch(e){o=function(){}}function l(c,f,h,m,_){"object"==typeof f&&(h=f.depth,m=f.prototype,_=f.includeNonEnumerable,f=f.circular);var y=[],v=[],x=void 0!==t;return void 0===f&&(f=!0),void 0===h&&(h=1/0),function c(h,M){if(null===h)return null;if(0===M)return h;var w,k;if("object"!=typeof h)return h;if(e(h,n))w=new n;else if(e(h,r))w=new r;else if(e(h,o))w=new o((function(e,t){h.then((function(t){e(c(t,M-1))}),(function(e){t(c(e,M-1))}))}));else if(l.__isArray(h))w=[];else if(l.__isRegExp(h))w=new RegExp(h.source,d(h)),h.lastIndex&&(w.lastIndex=h.lastIndex);else if(l.__isDate(h))w=new Date(h.getTime());else{if(x&&t.isBuffer(h))return w=t.allocUnsafe?t.allocUnsafe(h.length):new t(h.length),h.copy(w),w;e(h,Error)?w=Object.create(h):void 0===m?(k=Object.getPrototypeOf(h),w=Object.create(k)):(w=Object.create(m),k=m)}if(f){var L=y.indexOf(h);if(-1!=L)return v[L];y.push(h),v.push(w)}for(var i in e(h,n)&&h.forEach((function(e,t){var n=c(t,M-1),r=c(e,M-1);w.set(n,r)})),e(h,r)&&h.forEach((function(e){var t=c(e,M-1);w.add(t)})),h){var D;k&&(D=Object.getOwnPropertyDescriptor(k,i)),D&&null==D.set||(w[i]=c(h[i],M-1))}if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(h);for(i=0;i<O.length;i++){var symbol=O[i];(!(S=Object.getOwnPropertyDescriptor(h,symbol))||S.enumerable||_)&&(w[symbol]=c(h[symbol],M-1),S.enumerable||Object.defineProperty(w,symbol,{enumerable:!1}))}}if(_){var j=Object.getOwnPropertyNames(h);for(i=0;i<j.length;i++){var S,Y=j[i];(S=Object.getOwnPropertyDescriptor(h,Y))&&S.enumerable||(w[Y]=c(h[Y],M-1),Object.defineProperty(w,Y,{enumerable:!1}))}}return w}(c,h)}function c(e){return Object.prototype.toString.call(e)}function d(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return l.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},l.__objToStr=c,l.__isDate=function(e){return"object"==typeof e&&"[object Date]"===c(e)},l.__isArray=function(e){return"object"==typeof e&&"[object Array]"===c(e)},l.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===c(e)},l.__getRegExpFlags=d,l}();e.exports&&(e.exports=n)}).call(this,n(454).Buffer)},function(e,t,n){"use strict";e.exports=function e(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==typeof b){if(a.constructor!==b.constructor)return!1;var t,i,n;if(Array.isArray(a)){if((t=a.length)!=b.length)return!1;for(i=t;0!=i--;)if(!e(a[i],b[i]))return!1;return!0}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===b.toString();if((t=(n=Object.keys(a)).length)!==Object.keys(b).length)return!1;for(i=t;0!=i--;)if(!Object.prototype.hasOwnProperty.call(b,n[i]))return!1;for(i=t;0!=i--;){var r=n[i];if(!e(a[r],b[r]))return!1}return!0}return a!=a&&b!=b}},function(e,t,n){"use strict";e.exports=function(data,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var t,n="boolean"==typeof e.cycles&&e.cycles,r=e.cmp&&(t=e.cmp,function(e){return function(a,b){var n={key:a,value:e[a]},r={key:b,value:e[b]};return t(n,r)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var i,l;if(Array.isArray(t)){for(l="[",i=0;i<t.length;i++)i&&(l+=","),l+=e(t[i])||"null";return l+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var c=o.push(t)-1,d=Object.keys(t).sort(r&&r(t));for(l="",i=0;i<d.length;i++){var f=d[i],h=e(t[f]);h&&(l&&(l+=","),l+=JSON.stringify(f)+":"+h)}return o.splice(c,1),"{"+l+"}"}}(data)}}])]);