(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{267:function(t,e,r){var content=r(272);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(57).default)("66a2a288",content,!0,{sourceMap:!1})},268:function(t,e,r){"use strict";r.r(e);r(28),r(8),r(60),r(15);var n=r(9),o=r(11),l=r(21),c=r(22),d=r(10),f=r(4),m=r(23);function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var v=function(t,e,r,desc){var n,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(l=(o<3?n(l):o>3?n(e,r,l):n(e,r))||l);return o>3&&l&&Object.defineProperty(e,r,l),l},h=function(t){Object(l.a)(r,t);var e=x(r);function r(){return Object(n.a)(this,r),e.apply(this,arguments)}return Object(o.a)(r,[{key:"propagateClick",value:function(){this.$emit("click")}}]),r}(m.Vue);v([Object(m.Prop)({type:Boolean,required:!1,default:!1})],h.prototype,"loading",void 0),v([Object(m.Prop)({type:Boolean,required:!1,default:!1})],h.prototype,"compact",void 0);var y=h=v([m.Component],h),w=(r(271),r(29)),component=Object(w.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"gradient-button",class:{"is-compact":t.compact},on:{click:t.propagateClick}},[r("svg",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 38 38",height:"20px"}},[r("defs",[r("linearGradient",{attrs:{id:"a",x1:"8.042%",y1:"0%",x2:"65.682%",y2:"23.865%"}},[r("stop",{attrs:{"stop-color":"#fff","stop-opacity":"0",offset:"0%"}}),t._v(" "),r("stop",{attrs:{"stop-color":"#fff","stop-opacity":".631",offset:"63.146%"}}),t._v(" "),r("stop",{attrs:{"stop-color":"#fff",offset:"100%"}})],1)],1),t._v(" "),r("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[r("g",{attrs:{transform:"translate(1 1)"}},[r("path",{attrs:{id:"Oval-2",d:"M36 18c0-9.94-8.06-18-18-18",stroke:"url(#a)","stroke-width":"2"}},[r("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"}})],1),t._v(" "),r("circle",{attrs:{fill:"#fff",cx:"36",cy:"18",r:"1"}},[r("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"}})],1)])])]),t._v(" "),r("span",{class:{transparent:t.loading}},[t._t("default")],2)])}),[],!1,null,"f6563bec",null);e.default=component.exports},270:function(t,e,r){"use strict";r.r(e);r(28),r(8),r(60),r(15);var n=r(9),o=r(21),l=r(22),c=r(10),d=r(4),f=r(23);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(c.a)(t);if(e){var o=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var x=function(t,e,r,desc){var n,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(l=(o<3?n(l):o>3?n(e,r,l):n(e,r))||l);return o>3&&l&&Object.defineProperty(e,r,l),l},v=function(t){Object(o.a)(r,t);var e=m(r);function r(){return Object(n.a)(this,r),e.apply(this,arguments)}return r}(f.Vue);x([Object(f.Prop)({type:Boolean,required:!0})],v.prototype,"loading",void 0);var h=v=x([f.Component],v),y=r(29),component=Object(y.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.loading?r("div",{staticClass:"mt-10 flex items-center justify-center"},[r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"38",height:"38",viewBox:"0 0 38 38"}},[r("defs",[r("linearGradient",{attrs:{id:"a",x1:"8.042%",y1:"0%",x2:"65.682%",y2:"23.865%"}},[r("stop",{attrs:{"stop-color":"#000","stop-opacity":"0",offset:"0%"}}),t._v(" "),r("stop",{attrs:{"stop-color":"#000","stop-opacity":".631",offset:"63.146%"}}),t._v(" "),r("stop",{attrs:{"stop-color":"#000",offset:"100%"}})],1)],1),t._v(" "),r("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[r("g",{attrs:{transform:"translate(1 1)"}},[r("path",{attrs:{id:"Oval-2",d:"M36 18c0-9.94-8.06-18-18-18",stroke:"url(#a)","stroke-width":"2"}},[r("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"}})],1),t._v(" "),r("circle",{attrs:{fill:"#000",cx:"36",cy:"18",r:"1"}},[r("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"}})],1)])])])]):t._e(),t._v(" "),t.loading?t._e():t._t("default")],2)}),[],!1,null,null,null);e.default=component.exports},271:function(t,e,r){"use strict";var n=r(267);r.n(n).a},272:function(t,e,r){(e=r(56)(!1)).push([t.i,".transparent[data-v-f6563bec]{color:transparent}svg[data-v-f6563bec]{position:absolute}",""]),t.exports=e},276:function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));var n=r(104);var o=r(131);function l(t){return function(t){if(Array.isArray(t))return Object(n.a)(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(o.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},471:function(t,e,r){"use strict";var n=r(3),o=r(58).findIndex,l=r(103),c=r(33),d=!0,f=c("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){d=!1})),n({target:"Array",proto:!0,forced:d||!f},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),l("findIndex")},544:function(t,e,r){"use strict";r.r(e);r(78),r(39),r(471),r(28),r(8),r(60),r(15);var n=r(276),o=(r(30),r(2)),l=r(9),c=r(11),d=r(21),f=r(22),m=r(10),x=r(4),v=r(67),h=r(129),y=r(270),w=r(268),_=r(14);function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(m.a)(t);if(e){var o=Object(m.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(f.a)(this,r)}}var j=function(t,e,r,desc){var n,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(x.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(l=(o<3?n(l):o>3?n(e,r,l):n(e,r))||l);return o>3&&l&&Object.defineProperty(e,r,l),l},O=function(t){Object(d.a)(v,t);var e,r,f,m,x=C(v);function v(){var t;return Object(l.a)(this,v),(t=x.apply(this,arguments)).email="",t.team=null,t.addingUser=!1,t.loadingTeam=!0,t}return Object(c.a)(v,[{key:"created",value:(m=Object(o.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.loadingTeam=!0,t.next=4,this.$axios.get("".concat("/api/v1","/teams/").concat(this.$route.params.id));case 4:e=t.sent,this.team=e.data.data,this.loadingTeam=!1,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),_.a.flashError("Sorry, an unknown error occurred while fetching the team members.");case 12:case"end":return t.stop()}}),t,this,[[0,9]])}))),function(){return m.apply(this,arguments)})},{key:"removeUser",value:(f=Object(o.a)(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.team){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,r=this.team.users.filter((function(t){return t.id!==e.id})),t.next=6,this.$axios.patch("".concat("/api/v1","/teams/").concat(this.$route.params.id,"/users"),{users:r});case 6:this.team.users=r,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),_.a.flashError("Sorry, an unknown error occurred while removing that team member.");case 12:case"end":return t.stop()}}),t,this,[[2,9]])}))),function(t){return f.apply(this,arguments)})},{key:"toggleLeader",value:(r=Object(o.a)(regeneratorRuntime.mark((function t(e){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.team){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,r=Object(n.a)(this.team.users),o=r.findIndex((function(t){return t.id===e.id})),r[o].is_leader=!r[o].is_leader,t.next=8,this.$axios.patch("".concat("/api/v1","/teams/").concat(this.$route.params.id,"/users"),{users:r});case 8:this.team.users=r,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),_.a.flashError("Sorry, an unknown error occurred while performing that action.");case 14:case"end":return t.stop()}}),t,this,[[2,11]])}))),function(t){return r.apply(this,arguments)})},{key:"addUser",value:(e=Object(o.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.team){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,this.addingUser=!0,t.next=6,this.$axios.post("".concat("/api/v1","/user"),{name:"",is_admin:!1,email:this.email});case 6:return e=t.sent,this.team.users.push(e.data.data),t.next=10,this.$axios.patch("".concat("/api/v1","/teams/").concat(this.$route.params.id,"/users"),{users:this.team.users});case 10:this.email="",this.addingUser=!1,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),_.a.flashError("Sorry, an unknown error occurred while adding the member to the team.");case 17:case"end":return t.stop()}}),t,this,[[2,14]])}))),function(){return e.apply(this,arguments)})}]),v}(h.a),k=O=j([Object(v.Component)({layout:"dashboard",components:{Loader:y.default,ProgressButon:w.default},middleware:["auth"]})],O),R=r(29),component=Object(R.a)(k,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("header",{staticClass:"bg-white shadow"},[r("div",{staticClass:"max-w-7xl mx-auto md:py-4 py-6 px-4 sm:px-6 lg:px-8 flex justify-between w-full md:items-center flex-col md:flex-row"},[t.loadingTeam?t._e():r("h1",{staticClass:"text-xl font-bold leading-tight text-primary mb-2 md:mb-0 font-serif"},[t._v("\n        Manage "+t._s(t.team.name)+"\n      ")]),t._v(" "),r("div",{staticClass:"flex"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"block shadow-sm sm:text-sm border-gray-300 rounded-md mr-6 w-96",attrs:{required:"",type:"text",name:"email",placeholder:"Email address"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),r("progress-buton",{attrs:{loading:t.addingUser,compact:!0},on:{click:t.addUser}},[t._v("\n          Add user\n        ")])],1)])]),t._v(" "),r("main",[r("div",{staticClass:"max-w-7xl mx-auto py-6 lg:px-8"},[r("div",{staticClass:"flex flex-col"},[r("div",{staticClass:"-my-2 overflow-x-auto lg:-mx-8"},[r("div",{staticClass:"py-2 px-6 align-middle inline-block min-w-full lg:px-8"},[r("loader",{attrs:{loading:t.loadingTeam}},[t.team?r("div",{staticClass:"overflow-hidden lg:border-b lg:border-gray-200 lg:shadow lg:rounded-lg"},[r("table",{staticClass:"min-w-full lg:divide-y lg:divide-gray-200"},[r("thead",{staticClass:"bg-gray-50"},[r("tr",[r("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell",attrs:{scope:"col"}},[t._v("\n                        Name\n                      ")]),t._v(" "),r("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell",attrs:{scope:"col"}},[t._v("\n                        Status\n                      ")]),t._v(" "),r("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell",attrs:{scope:"col"}},[t._v("\n                        Role\n                      ")]),t._v(" "),r("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell",attrs:{scope:"col"}},[t._v("\n                        Actions\n                      ")])])]),t._v(" "),r("tbody",{staticClass:"bg-white divide-y divide-gray-200"},t._l(t.team.users,(function(e){return r("tr",{key:e.id,staticClass:"flex lg:table-row flex-row lg:flex-row flex-wrap lg:flex-no-wrap mb-6 lg:mb-0 border rounded-md bg-grey-200 lg:bg-white"},[r("td",{staticClass:"px-6 py-2 lg:py-4 whitespace-nowrap text-right sm:text-center lg:text-left block w-full lg:w-auto lg:table-cell relative lg:static"},[r("span",{staticClass:"lg:hidden absolute top-0 left-0 bg-primary text-center text-white w-20 px-2 py-3 text-xs font-bold uppercase rounded-tl-md"},[t._v("\n                          Name\n                        ")]),t._v(" "),r("div",{staticClass:"flex flex-row lg:flex-col justify-end sm:justify-center"},[r("div",{staticClass:"text-sm font-medium text-gray-900"},[t._v("\n                            "+t._s(e.email)+"\n                          ")]),t._v(" "),e.name?r("span",{staticClass:"lg:hidden text-sm text-gray-500 ml-2"},[t._v("\n                            (\n                          ")]):t._e(),t._v(" "),r("div",{staticClass:"text-sm text-gray-500"},[t._v(t._s(e.name))]),t._v(" "),e.name?r("span",{staticClass:"lg:hidden text-sm text-gray-500"},[t._v(")")]):t._e()])]),t._v(" "),r("td",{staticClass:"px-6 py-2 lg:py-4 whitespace-nowrap text-right sm:text-center lg:text-left block w-full lg:w-auto lg:table-cell relative lg:static"},[r("span",{staticClass:"lg:hidden absolute top-0 left-0 bg-primary text-center text-white w-20 px-2 py-3 text-xs font-bold uppercase"},[t._v("\n                          Status\n                        ")]),t._v(" "),e.email_verified_at?r("span",{staticClass:"px-4 lg:px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},[t._v("\n                          Active\n                        ")]):r("span",{staticClass:"px-4 lg:px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800"},[t._v("\n                          Invited\n                        ")])]),t._v(" "),r("td",{staticClass:"px-6 py-2 lg:py-4 whitespace-nowrap text-right sm:text-center lg:text-left block w-full lg:w-auto lg:table-cell relative lg:static"},[r("span",{staticClass:"lg:hidden absolute top-0 left-0 bg-primary text-center text-white w-20 px-2 py-3 text-xs font-bold uppercase"},[t._v("\n                          Role\n                        ")]),t._v(" "),e.is_admin?r("span",{staticClass:"px-4 lg:px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},[t._v("\n                          Admin\n                        ")]):e.is_leader?r("span",{staticClass:"px-4 lg:px-2inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800"},[t._v("\n                          Team Leader\n                        ")]):r("span",{staticClass:"px-4 lg:px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800"},[t._v("\n                          Employee\n                        ")])]),t._v(" "),r("td",{staticClass:"px-6 py-2 lg:py-4 whitespace-nowrap text-right sm:text-center lg:text-left block w-full lg:w-auto lg:table-cell relative lg:static"},[r("span",{staticClass:"lg:hidden absolute top-0 left-0 bg-primary text-center text-white w-20 px-2 py-3 text-xs font-bold uppercase rounded-bl-md"},[t._v("\n                          Actions\n                        ")]),t._v(" "),r("span",{staticClass:"text-indigo-600 text-sm hover:text-indigo-900 mr-4 cursor-pointer",on:{click:function(r){return t.removeUser(e)}}},[t._v("\n                          Remove User\n                        ")]),t._v(" "),e.is_admin||e.id===t.userId?t._e():[r("span",{staticClass:"-ml-2 mr-2 text-sm"},[t._v("|")]),t._v(" "),e.is_leader?r("span",{staticClass:"text-sm text-indigo-600 hover:text-indigo-900 mr-4 cursor-pointer",on:{click:function(r){return t.toggleLeader(e)}}},[t._v("\n                            Demote to employee\n                          ")]):r("span",{staticClass:"text-sm text-indigo-600 hover:text-indigo-900 mr-4 cursor-pointer",on:{click:function(r){return t.toggleLeader(e)}}},[t._v("\n                            Promote to leader\n                          ")])]],2)])})),0)])]):t._e()])],1)])])])])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Loader:r(270).default})}}]);